(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1120:function(e,t,n){"use strict";var r=n(0),o=n(7);t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,i=void 0===a?"#999":a,c=e.height,s=void 0===c?14:c,l=e.title,u=e.width,f=void 0===u?14:u;return r.createElement(o.a,{className:"icon-edit ".concat(n),height:s,title:l,viewBox:"0 0 14 14",width:f},r.createElement("path",{className:"fill-color",d:"M3.21 7.89l6.47-6.48a2 2 0 0 1 2.88 2.78h-.05L6 10.72 3.21 7.89zM2.24 9l2.83 2.83L1.67 13c-.52.18-.79-.1-.62-.61z",fill:i}))}},1121:function(e,t,n){var r=n(1129),o=n(1132),a=n(1133),i=1,c=2;e.exports=function(e,t,n,s,l,u){var f=n&i,p=e.length,d=t.length;if(p!=d&&!(f&&d>p))return!1;var m=u.get(e);if(m&&u.get(t))return m==t;var h=-1,b=!0,v=n&c?new r:void 0;for(u.set(e,t),u.set(t,e);++h<p;){var y=e[h],g=t[h];if(s)var E=f?s(g,y,h,t,e,u):s(y,g,h,e,t,u);if(void 0!==E){if(E)continue;b=!1;break}if(v){if(!o(t,function(e,t){if(!a(v,t)&&(y===e||l(y,e,n,s,u)))return v.push(t)})){b=!1;break}}else if(y!==g&&!l(y,g,n,s,u)){b=!1;break}}return u.delete(e),u.delete(t),b}},1125:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(11),i=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e};"object"==typeof Reflect&&Reflect.construct;var l="undefined"!=typeof window&&"undefined"!=typeof document,u=!!l&&!!document.documentElement.currentStyle,f={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},p=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],d={},m=l&&document.createElement("textarea"),h=function(e){Object.keys(f).forEach(function(t){e.style.setProperty(t,f[t],"important")})};function b(e,t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=null),null===m.parentNode&&document.body.appendChild(m);var a=function(e,t,n){void 0===n&&(n=!1);if(n&&d[t])return d[t];var r=window.getComputedStyle(e);if(null===r)return null;var o=p.reduce(function(e,t){return e[t]=r.getPropertyValue(t),e},{}),a=o["box-sizing"];if(""===a)return null;u&&"border-box"===a&&(o.width=parseFloat(o.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var i=parseFloat(o["padding-bottom"])+parseFloat(o["padding-top"]),c=parseFloat(o["border-bottom-width"])+parseFloat(o["border-top-width"]),s={sizingStyle:o,paddingSize:i,borderSize:c,boxSizing:a};n&&(d[t]=s);return s}(e,t,n);if(null===a)return null;var i=a.paddingSize,c=a.borderSize,s=a.boxSizing,l=a.sizingStyle;Object.keys(l).forEach(function(e){m.style[e]=l[e]}),h(m),m.value=e.value||e.placeholder||"x";var f=-1/0,b=1/0,v=m.scrollHeight;"border-box"===s?v+=c:"content-box"===s&&(v-=i),m.value="x";var y=m.scrollHeight-i;return null===r&&null===o||(null!==r&&(f=y*r,"border-box"===s&&(f=f+i+c),v=Math.max(f,v)),null!==o&&(b=y*o,"border-box"===s&&(b=b+i+c),v=Math.min(b,v))),{height:v,minHeight:f,maxHeight:b,rowCount:Math.floor(v/y)}}l&&h(m);var v,y=(void 0===v&&(v=0),function(){return++v}),g=function(){},E=l&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],w=E[0],S=E[1],C=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=g),void 0!==n._rootDOMNode){var t=b(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var r=t.height,o=t.minHeight,a=t.maxHeight,i=t.rowCount;n.rowCount=i,n.state.height===r&&n.state.minHeight===o&&n.state.maxHeight===a?e():n.setState({height:r,minHeight:o,maxHeight:a},e)}else e()}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=y(),n._controlled="string"==typeof t.value,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=c({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),o.a.createElement("textarea",c({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},a.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},a.componentDidUpdate=function(e,t){var n=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=w(function(){return n._resizeComponent()})),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},a.componentWillUnmount=function(){var e;this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),e=this._uid,delete d[e]},a._clearNextFrame=function(){S(this._onNextFrameActionId)},r}(o.a.Component);C.propTypes={inputRef:i.a.func,maxRows:i.a.number,minRows:i.a.number,onChange:i.a.func,onHeightChange:i.a.func,useCacheForDOMMeasurements:i.a.bool,value:i.a.string},C.defaultProps={inputRef:g,onChange:g,onHeightChange:g,useCacheForDOMMeasurements:!1},t.a=C},1126:function(e,t,n){var r=n(1127);e.exports=function(e,t){return r(e,t)}},1127:function(e,t,n){var r=n(1128),o=n(70);e.exports=function e(t,n,a,i,c){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,a,i,e,c))}},1128:function(e,t,n){var r=n(346),o=n(1121),a=n(1134),i=n(1137),c=n(256),s=n(61),l=n(255),u=n(348),f=1,p="[object Arguments]",d="[object Array]",m="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,b,v,y){var g=s(e),E=s(t),w=g?d:c(e),S=E?d:c(t),C=(w=w==p?m:w)==m,k=(S=S==p?m:S)==m,O=w==S;if(O&&l(e)){if(!l(t))return!1;g=!0,C=!1}if(O&&!C)return y||(y=new r),g||u(e)?o(e,t,n,b,v,y):a(e,t,w,n,b,v,y);if(!(n&f)){var _=C&&h.call(e,"__wrapped__"),x=k&&h.call(t,"__wrapped__");if(_||x){var j=_?e.value():e,T=x?t.value():t;return y||(y=new r),v(j,T,n,b,y)}}return!!O&&(y||(y=new r),i(e,t,n,b,v,y))}},1129:function(e,t,n){var r=n(347),o=n(1130),a=n(1131);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},1130:function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},1131:function(e,t){e.exports=function(e){return this.__data__.has(e)}},1132:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},1133:function(e,t){e.exports=function(e,t){return e.has(t)}},1134:function(e,t,n){var r=n(161),o=n(514),a=n(191),i=n(1121),c=n(1135),s=n(1136),l=1,u=2,f="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Map]",h="[object Number]",b="[object RegExp]",v="[object Set]",y="[object String]",g="[object Symbol]",E="[object ArrayBuffer]",w="[object DataView]",S=r?r.prototype:void 0,C=S?S.valueOf:void 0;e.exports=function(e,t,n,r,S,k,O){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!k(new o(e),new o(t)));case f:case p:case h:return a(+e,+t);case d:return e.name==t.name&&e.message==t.message;case b:case y:return e==t+"";case m:var _=c;case v:var x=r&l;if(_||(_=s),e.size!=t.size&&!x)return!1;var j=O.get(e);if(j)return j==t;r|=u,O.set(e,t);var T=i(_(e),_(t),r,S,k,O);return O.delete(e),T;case g:if(C)return C.call(e)==C.call(t)}return!1}},1135:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},1136:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},1137:function(e,t,n){var r=n(515),o=1,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,c,s){var l=n&o,u=r(e),f=u.length;if(f!=r(t).length&&!l)return!1;for(var p=f;p--;){var d=u[p];if(!(l?d in t:a.call(t,d)))return!1}var m=s.get(e);if(m&&s.get(t))return m==t;var h=!0;s.set(e,t),s.set(t,e);for(var b=l;++p<f;){var v=e[d=u[p]],y=t[d];if(i)var g=l?i(y,v,d,t,e,s):i(v,y,d,e,t,s);if(!(void 0===g?v===y||c(v,y,n,i,s):g)){h=!1;break}b||(b="constructor"==d)}if(h&&!b){var E=e.constructor,w=t.constructor;E!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof w&&w instanceof w)&&(h=!1)}return s.delete(e),s.delete(t),h}},1164:function(e,t,n){},1165:function(e,t,n){},1166:function(e,t,n){},1167:function(e,t,n){},1168:function(e,t,n){},1169:function(e,t,n){},1170:function(e,t,n){},1171:function(e,t,n){},1172:function(e,t,n){},1173:function(e,t,n){},1174:function(e,t,n){},1219:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(5),i=n.n(a),c=n(9),s=n.n(c),l=n(135),u=n.n(l),f=n(80),p=n(189),d=n(190),m=n(341),h=n(342),b=n(343),v=(n(98),n(1118)),y=n(1117),g=n(1),E=n(2),w=n(13),S=n.n(w),C=n(3),k=n(16),O=n(345),_=n(1143),x=function(e){var t=e.card.status,n=void 0===t?{}:t,o=n.code,a=n.message,i=C.a.skillUnknownError;switch(o){case g.me:i=C.a.skillInvalidFileSizeError;break;case g.le:i=C.a.skillInvalidFileExtensionError;break;case g.je:case g.ie:case g.ne:case g.oe:i=C.a.skillUnknownError;break;case g.ke:i=C.a.skillFileProcessingError;break;case g.te:i=C.a.skillPendingStatus;break;case g.se:i=C.a.skillInvokedStatus;break;default:if(a)return a}return r.createElement(E.b,i)},j=n(6),T=n.n(j),N=n(15),P=n(32),A=n(1120),I=n(7),R=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,a=void 0===o?"#999":o,i=e.height,c=void 0===i?14:i,s=e.title,l=e.width,u=void 0===l?14:l;return r.createElement(I.a,{className:"icon-copy ".concat(n),height:c,title:s,viewBox:"0 0 14 14",width:u},r.createElement("path",{className:"fill-color",d:"M1 11a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h9a1 1 0 0 1 0 2H2v8a1 1 0 0 1-1 1z",fill:a}),r.createElement("path",{className:"fill-color",d:"M13 3H3v10a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-3 8H7a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2zm0-3H7a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2z",fill:a}))},M=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,a=void 0===o?"#979797":o,i=e.height,c=void 0===i?13:i,s=e.title,l=e.width,u=void 0===l?13:l;return r.createElement(I.a,{className:"icon-expand ".concat(n),height:c,title:s,viewBox:"0 0 13 13",width:u},r.createElement("path",{className:"fill-color",d:"M12 0H6a1 1 0 0 0 0 2h5v5a1 1 0 0 0 2 0V1a1 1 0 0 0-1-1zM7 11H2V6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2z",fill:a}))},D=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,a=void 0===o?"#979797":o,i=e.height,c=void 0===i?13:i,s=e.title,l=e.width,u=void 0===l?13:l;return r.createElement(I.a,{className:"icon-collapse ".concat(n),height:c,title:s,viewBox:"0 0 13 13",width:u},r.createElement("path",{className:"fill-color",d:"M8 6h4a1 1 0 0 0 0-2H9V1a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1zM1 9h3v3a1 1 0 0 0 2 0V8a1 1 0 0 0-1-1H1a1 1 0 0 0 0 2z",fill:a}))},z=n(87),L=n(340),F=n(188);var V=function(e){return!!e&&"number"==typeof e.start},H=function(e){return Array.isArray(e)&&V(e[0])},B=function(e){var t=e.time,n=e.text,o=void 0===n?"":n,a=e.onClick,i=e.interactionTarget;return r.createElement(P.a,{className:"be-transcript-row","data-resin-target":i,onClick:a,type:"button"},t&&r.createElement("div",{className:"be-transcript-time"},t),r.createElement("div",{className:"be-transcript-text"},o))},K=n(1125),W=n(45),Y=n(31),U=(n(1164),function(e){var t=e.time,n=e.text,o=void 0===n?"":n,a=e.onSave,i=e.onCancel,c=e.onChange;return r.createElement("div",{className:"be-transcript-row be-transcript-editing-row"},t&&r.createElement("div",{className:"be-transcript-time"},t),r.createElement("div",{className:"be-transcript-text"},r.createElement(K.a,{maxRows:10,onChange:c,value:o}),r.createElement("div",{className:"be-transcript-buttons"},r.createElement(Y.a,{"data-resin-target":k.f.TRANSCRIPTS.EDIT_CANCEL,onClick:i,type:"button"},r.createElement(E.b,C.a.cancel)),r.createElement(W.a,{"data-resin-target":k.f.TRANSCRIPTS.EDIT_SAVE,onClick:a,type:"button"},r.createElement(E.b,C.a.save)))))}),q=(n(1165),function(e){var t=e.appears,n=e.text,r=e.isEditing,a=e.onClick,i=e.onSave,c=e.onCancel,s=e.onChange,l=e.interactionTarget,u=t,f=H(t)&&Array.isArray(t)&&1===t.length?Object(z.e)(u[0].start):void 0;return r?o.a.createElement(U,{onCancel:c,onChange:s,onSave:i,text:n,time:f}):o.a.createElement(B,{interactionTarget:l,onClick:a,text:n,time:f})});n(1166);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ee(e,t,n[t])})}return e}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return o=this,a=(e=Q(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==G(a)&&"function"!=typeof a?$(o):a,ee($($(n)),"state",{isEditingIndex:void 0,newTranscriptText:"",isCollapsed:!0,isLoading:!1}),ee($($(n)),"transcriptReducer",function(e,t){var n=t.appears,r=t.text,o=H(n)&&Array.isArray(n)?"".concat(Object(z.e)(n[0].start),":"):"";return"".concat(e).concat(o," ").concat(r||"","\r\n")}),ee($($(n)),"transcriptMapper",function(e,t){var o=e.appears,a=e.text,i=n.state,c=i.isEditingIndex,s=i.newTranscriptText,l=c===t,u=l?s:a,f=l?k.f.TRANSCRIPTS.EDIT_TEXT:k.f.TRANSCRIPTS.TRANSCRIPT;return r.createElement(q,{key:t,appears:o,interactionTarget:f,isEditing:l,onCancel:n.onCancel,onChange:n.onChange,onClick:function(){return n.onClick(t)},onSave:n.onSave,text:u})}),ee($($(n)),"toggleIsEditing",function(){n.setState(function(e){return{isEditingIndex:"number"==typeof e.isEditingIndex?void 0:-1}})}),ee($($(n)),"onSave",function(){var e=n.props,t=e.card.entries,r=e.onSkillChange,o=n.state,a=o.isEditingIndex,i=o.newTranscriptText;if("number"==typeof a){var c=t[a];c.text===i?n.onCancel():(n.setState({isLoading:!0,isEditingIndex:-1}),r(null,null,[{replacement:X({},c,{text:i}),replaced:c}]))}}),ee($($(n)),"onCancel",function(){n.setState({isEditingIndex:-1,newTranscriptText:""})}),ee($($(n)),"onChange",function(e){var t=e.currentTarget;n.setState({newTranscriptText:t.value})}),ee($($(n)),"onClick",function(e){var t=n.props.card.entries;"number"==typeof n.state.isEditingIndex?n.setState({isEditingIndex:e,newTranscriptText:t[e].text}):n.previewSegment(e)}),ee($($(n)),"copyTranscript",function(){var e,t,r,o=n.props.card.entries;e=o.reduce(n.transcriptReducer,""),t=document.createElement("textarea"),r=document.body,t.value=e,t.style.display="hidden",r&&(r.appendChild(t),t.select(),document.execCommand("copy"),r.removeChild(t)),n.copyBtn&&n.copyBtn.classList.add("be-transcript-copied"),setTimeout(function(){n.copyBtn&&n.copyBtn.classList.remove("be-transcript-copied")},1e3)}),ee($($(n)),"copyBtnRef",function(e){n.copyBtn=e}),ee($($(n)),"toggleExpandCollapse",function(){n.setState(function(e){return{isCollapsed:!e.isCollapsed}})}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentWillReceiveProps",value:function(){var e="number"==typeof this.state.isEditingIndex;this.setState({isEditingIndex:e?-1:void 0,newTranscriptText:"",isLoading:!1})}},{key:"previewSegment",value:function(e){var t=this.props,n=t.card.entries,r=t.getViewer,o=n[e].appears,a=r?r():null,i=H(o)&&Array.isArray(o)&&1===o.length,c=i?o[0].start:0;i&&a&&"function"==typeof a.play&&a.play(c)}},{key:"render",value:function(){var e=this.props,t=e.card.entries,n=e.isEditable,o=this.state,a=o.isEditingIndex,i=o.isCollapsed,c=o.isLoading,s=t.length>0,l=t.length>5,u="number"==typeof a,f=T()("be-transcript-edit",{"be-transcript-is-editing":u}),p=T()({"be-transcript-content-collapsed":i}),d=i?C.a.expand:C.a.collapse;return r.createElement(L.a,{className:"be-transcript",isLoading:c},s&&!c&&r.createElement("div",{className:"be-transcript-actions"},r.createElement(F.a,{text:r.createElement(E.b,C.a.copy)},r.createElement(P.a,{className:"be-transcript-copy","data-resin-target":k.f.TRANSCRIPTS.COPY,getDOMRef:this.copyBtnRef,onClick:this.copyTranscript,type:"button"},r.createElement(R,{color:N.s}))),l&&r.createElement(F.a,{text:r.createElement(E.b,d)},r.createElement(P.a,{className:"be-transcript-expand","data-resin-target":k.f.TRANSCRIPTS.EXPAND,onClick:this.toggleExpandCollapse,type:"button"},i?r.createElement(M,{color:N.s}):r.createElement(D,{color:N.s}))),n&&r.createElement(F.a,{text:r.createElement(E.b,C.a.editLabel)},r.createElement(P.a,{className:f,"data-resin-target":k.f.TRANSCRIPTS.EDIT,onClick:this.toggleIsEditing,type:"button"},r.createElement(A.a,null)))),u?r.createElement("div",{className:"be-transcript-edit-message"},r.createElement(E.b,C.a.transcriptEdit)):null,s?r.createElement("div",{className:p},t.map(this.transcriptMapper)):r.createElement(E.b,C.a.skillNoInfoFoundError))}}])&&J(n.prototype,o),a&&J(n,a),t}(),ne=n(136),re=n(495),oe=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e,t){return{displayText:e.text,value:t}})};n(1167);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ce(t).call(this,e),n=!o||"object"!==ae(o)&&"function"!=typeof o?le(r):o,ue(le(le(n)),"onRemove",function(e,t){var r=n.props;(0,r.onDelete)(r.keywords[t])}),ue(le(le(n)),"onKeyDown",function(e){"Enter"!==e.key||n.state.isInCompositionMode||n.onBlur()}),ue(le(le(n)),"onBlur",function(){var e=n.props.onAdd,t=n.state.keyword;t&&e({type:"text",text:t})}),ue(le(le(n)),"onCompositionStart",function(){n.setState({isInCompositionMode:!0})}),ue(le(le(n)),"onCompositionEnd",function(){n.setState({isInCompositionMode:!1})}),ue(le(le(n)),"onInput",function(e){var t=e.currentTarget;n.setState({keyword:t.value})}),n.state={pills:oe(e.keywords),keyword:"",isInCompositionMode:!1},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentWillReceiveProps",value:function(e){this.setState({pills:oe(e.keywords),keyword:""})}},{key:"render",value:function(){var e=this.props,t=e.onSave,n=e.onCancel,o=this.state,a=o.pills,i=o.keyword;return r.createElement("span",{className:"pill-selector-wrapper"},r.createElement(re.a,{onBlur:this.onBlur,onCompositionEnd:this.onCompositionEnd,onCompositionStart:this.onCompositionStart,onInput:this.onInput,onKeyDown:this.onKeyDown,onPaste:this.onInput,onRemove:this.onRemove,selectedOptions:a,value:i}),r.createElement("div",{className:"be-keywords-buttons"},r.createElement(Y.a,{"data-resin-target":k.f.KEYWORDS.EDIT_CANCEL,onClick:n,type:"button"},r.createElement(E.b,C.a.cancel)),r.createElement(W.a,{"data-resin-target":k.f.KEYWORDS.EDIT_SAVE,onClick:t,type:"button"},r.createElement(E.b,C.a.save))))}}])&&ie(n.prototype,o),a&&ie(n,a),t}(),pe=n(1126),de=n.n(pe),me=n(42);function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var be=function(e){var t=e.options,n=e.onSelect,r=e.selectedOptions,a=void 0===r?[]:r,i=e.buttonProps,c=void 0===i?{}:i;return o.a.createElement("div",{className:"pill-cloud-container"},t&&t.map(function(e){return o.a.createElement(me.a,he({key:e.value,className:T()("pill","pill-cloud-button",{"is-selected":a.find(function(t){return de()(t,e)})}),onClick:n?function(){return n(e)}:void 0},c),e.displayText)}))},ve=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,a=void 0===o?"#999":o,i=e.height,c=void 0===i?14:i,s=e.title,l=e.width,u=void 0===l?14:l;return r.createElement(I.a,{className:"icon-track-next ".concat(n),height:c,title:s,viewBox:"0 0 14 14",width:u},r.createElement("path",{className:"fill-color",d:"M7.72 7.85a1 1 0 0 0 0-1.41l-5-4.81A1 1 0 0 0 2 1.35a1 1 0 0 0-1 1V12a1 1 0 0 0 .28.69 1 1 0 0 0 1.41 0l5-4.81zM13 2v10a1 1 0 0 1-1 1 1 1 0 0 1-1-1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1z",fill:a}))},ye=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,a=void 0===o?"#999":o,i=e.height,c=void 0===i?14:i,s=e.title,l=e.width,u=void 0===l?14:l;return r.createElement(I.a,{className:"icon-track-previous ".concat(n),height:c,title:s,viewBox:"0 0 14 14",width:u},r.createElement("path",{className:"fill-color",d:"M6.31 7.88l5 4.81a1 1 0 0 0 1.41 0A1 1 0 0 0 13 12V2.35a1 1 0 0 0-1-1 1 1 0 0 0-.69.28l-5 4.81a1 1 0 0 0 0 1.41zM2 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1 1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z",fill:a}))},ge=(n(1168),function(e){var t=e.start,n=e.end,r=e.duration,a=e.onClick,i=e.index,c=e.interactionTarget;if("number"!=typeof t||!r||t>=r)return null;var s=Math.round(290*t/r),l=s+6,u="number"==typeof n?Math.max(l,290*n/r):l,f=Math.round(Math.min(290,u))-s;return f<6&&(s-=6-f,f=6),o.a.createElement(P.a,{className:"be-timeline-time","data-resin-target":c,onClick:function(){return a(i)},style:{left:"".concat(s,"px"),width:"".concat(f,"px")},type:"button"})}),Ee=(n(1169),function(e){var t=e.text,n=void 0===t?"":t,r=e.duration,a=void 0===r?0:r,i=e.timeslices,c=void 0===i?[]:i,s=e.getViewer,l=e.interactionTarget,u=-1,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t>0?Math.min(c.length-1,e+t):Math.max(0,e+t),r=s?s():null,o=c[n];V(o)&&r&&"function"==typeof r.play&&(r.play(o.start),u=n)};return o.a.createElement("div",{className:"be-timeline"},n&&o.a.createElement("div",{className:"be-timeline-label"},n),o.a.createElement("div",{className:"be-timeline-line-wrapper"},o.a.createElement("div",{className:"be-timeline-line"}),c.map(function(e,t){var n=e.start,r=e.end;return o.a.createElement(ge,{key:t,duration:a,end:r,index:t,interactionTarget:l,onClick:f,start:n})})),o.a.createElement("div",{className:"be-timeline-btns"},o.a.createElement(P.a,{"data-resin-target":k.f.TIMELINE.PREVIOUS,onClick:function(){return f(u,-1)},type:"button"},o.a.createElement(ye,{title:o.a.createElement(E.b,C.a.previousSegment)})),o.a.createElement(P.a,{"data-resin-target":k.f.TIMELINE.NEXT,onClick:function(){return f(u,1)},type:"button"},o.a.createElement(ve,{title:o.a.createElement(E.b,C.a.nextSegment)}))))});n(1170);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=ke(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==we(o)&&"function"!=typeof o?_e(r):o,xe(_e(_e(n)),"state",{selectedIndex:-1}),xe(_e(_e(n)),"onSelect",function(e){var t=n.state.selectedIndex,r=e.value;n.setState({selectedIndex:t===r?-1:r})}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.keywords,n=e.getViewer,o=e.duration,a=this.state.selectedIndex,i=oe(t),c=t[a],s=c?{selectedOptions:[i[a]]}:{};return r.createElement(r.Fragment,null,r.createElement(be,Se({onSelect:this.onSelect,options:i},s,{buttonProps:xe({},k.c,k.f.KEYWORDS.SELECT)})),!!c&&Array.isArray(c.appears)&&c.appears.length>0&&r.createElement(Ee,{duration:o,getViewer:n,interactionTarget:k.f.KEYWORDS.TIMELINE,text:c.text,timeslices:c.appears}))}}])&&Ce(n.prototype,o),a&&Ce(n,a),t}();n(1171);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Pe(t).call(this,e),n=!o||"object"!==Te(o)&&"function"!=typeof o?Ie(r):o,Re(Ie(Ie(n)),"toggleIsEditing",function(){n.setState(function(e){return{isEditing:!e.isEditing}})}),Re(Ie(Ie(n)),"onAdd",function(e){var t=n.props.transcript,r=n.state.adds,o=[],a=new RegExp("\\b".concat(e.text,"\\b"),"i");t&&Array.isArray(t.entries)&&t.entries.forEach(function(e){var t=e.text,n=e.appears;t&&a.test(t)&&Array.isArray(n)&&n.length>0&&o.push(n[0])}),e.appears=o,r.push(e),n.setState({adds:r.slice(0)})}),Re(Ie(Ie(n)),"onDelete",function(e){var t=n.state,r=t.adds,o=t.removes,a=r.findIndex(function(t){return t===e});a>-1?(r.splice(a,1),n.setState({adds:r.slice(0)})):(o.push(e),n.setState({removes:o.slice(0)}))}),Re(Ie(Ie(n)),"onSave",function(){var e=n.props.onSkillChange,t=n.state,r=t.removes,o=t.adds;n.toggleIsEditing(),(r.length>0||o.length>0)&&(n.setState({isLoading:!0}),e(r,o))}),Re(Ie(Ie(n)),"onCancel",function(){n.resetState(n.props)}),n.state={keywords:e.card.entries,adds:[],removes:[],isEditing:e.hasError,hasError:e.hasError,isLoading:!1},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"resetState",value:function(e){this.setState({keywords:e.card.entries,adds:[],removes:[],isEditing:!1,hasError:!1,isLoading:!1})}},{key:"render",value:function(){var e=this.props,t=e.card,n=e.getViewer,r=e.isEditable,a=t.duration,i=this.state,c=i.isEditing,s=i.isLoading,l=i.hasError,u=i.keywords,f=i.removes,p=i.adds,d=u.length>0,m=u.filter(function(e){return!f.includes(e)}).concat(p),h=T()("be-keyword-edit",{"be-keyword-is-editing":c});return o.a.createElement(L.a,{className:"be-keywords",isLoading:s},d&&r&&!s&&o.a.createElement(F.a,{text:o.a.createElement(E.b,C.a.editLabel)},o.a.createElement(P.a,{className:h,"data-resin-target":k.f.KEYWORDS.EDIT,onClick:this.toggleIsEditing,type:"button"},o.a.createElement(A.a,null))),l&&o.a.createElement(ne.a,{title:o.a.createElement(E.b,C.a.sidebarSkillsErrorTitle)},o.a.createElement(E.b,C.a.sidebarSkillsErrorContent)),c&&o.a.createElement(fe,{keywords:m,onAdd:this.onAdd,onCancel:this.onCancel,onDelete:this.onDelete,onSave:this.onSave}),!c&&d&&o.a.createElement(je,{duration:a,getViewer:n,keywords:m}),!c&&!d&&o.a.createElement(E.b,C.a.skillNoInfoFoundError))}}])&&Ne(n.prototype,a),i&&Ne(n,i),t}(),De=n(47),ze=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,a=void 0===o?"#000000":o,i=e.height,c=void 0===i?16:i,s=e.title,l=e.width,u=void 0===l?16:l;return r.createElement(I.a,{className:"icon-minus ".concat(n),height:c,title:s,viewBox:"0 0 16 16",width:u},r.createElement("path",{d:"M2 5h8v2H2z",fill:a,fillRule:"evenodd"}))},Le=(n(1172),function(e){var t=e.face,n=e.selected,o=e.isEditing,a=e.onDelete,i=e.onSelect,c=!!n,s=t===n,l=c&&s&&!o,u=T()("be-face-wrapper",{"be-face-unselected":!o&&c&&!s});return r.createElement("div",{className:u},r.createElement(P.a,{className:"be-face","data-resin-target":k.f.FACES.FACE,onClick:function(){return!o&&i(t)},type:"button"},r.createElement("img",{alt:t.text,src:t.image_url,title:t.text}),l&&r.createElement(ze,{color:g.C})),o&&r.createElement(P.a,{className:"be-face-delete","data-resin-target":k.f.FACES.DELETE,onClick:function(){return a(t)},type:"button"},r.createElement(De.a,{color:g.B,height:16,width:16})))});n(1173);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=He(t).call(this,e),n=!o||"object"!==Fe(o)&&"function"!=typeof o?Ke(r):o,We(Ke(Ke(n)),"toggleIsEditing",function(){n.setState(function(e){return{isEditing:!e.isEditing}})}),We(Ke(Ke(n)),"onSelect",function(e){var t=n.state.selected;n.setState({selected:t===e?void 0:e})}),We(Ke(Ke(n)),"onDelete",function(e){var t=n.state.removes;t.push(e),n.setState({removes:t.slice(0)})}),We(Ke(Ke(n)),"onSave",function(){var e=n.props.onSkillChange,t=n.state.removes;n.toggleIsEditing(),t.length>0&&(n.setState({isLoading:!0}),e(t))}),We(Ke(Ke(n)),"onCancel",function(){n.resetState(n.props)}),n.state={faces:e.card.entries,removes:[],isEditing:e.hasError,hasError:e.hasError,isLoading:!1},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"resetState",value:function(e){this.setState({faces:e.card.entries,removes:[],isEditing:!1,selected:void 0,hasError:!1,isLoading:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.card,o=t.isEditable,a=t.getViewer,i=this.state,c=i.selected,s=i.faces,l=i.removes,u=i.isEditing,f=i.hasError,p=i.isLoading,d=n.duration,m=s.length>0,h=s.filter(function(e){return!l.includes(e)}),b=T()("be-face-edit",{"be-faces-is-editing":u});return r.createElement(L.a,{className:"be-faces",isLoading:p},m&&o&&!p&&r.createElement(F.a,{text:r.createElement(E.b,C.a.editLabel)},r.createElement(P.a,{className:b,"data-resin-target":k.f.FACES.EDIT,onClick:this.toggleIsEditing,type:"button"},r.createElement(A.a,null))),f&&r.createElement(ne.a,{title:r.createElement(E.b,C.a.sidebarSkillsErrorTitle)},r.createElement(E.b,C.a.sidebarSkillsErrorContent)),m?h.map(function(t,n){return r.createElement(Le,{key:n,face:t,isEditing:u,onDelete:e.onDelete,onSelect:e.onSelect,selected:c})}):r.createElement(E.b,C.a.skillNoInfoFoundError),!!c&&!u&&Array.isArray(c.appears)&&c.appears.length>0&&r.createElement(Ee,{duration:d,getViewer:a,interactionTarget:k.f.FACES.TIMELINE,timeslices:c.appears}),u&&r.createElement("div",{className:"be-faces-buttons"},r.createElement(Y.a,{"data-resin-target":k.f.FACES.EDIT_CANCEL,onClick:this.onCancel,type:"button"},r.createElement(E.b,C.a.cancel)),r.createElement(W.a,{"data-resin-target":k.f.FACES.EDIT_SAVE,onClick:this.onSave,type:"button"},r.createElement(E.b,C.a.save))))}}])&&Ve(n.prototype,o),a&&Ve(n,a),t}(),Ue=function(e){var t=e.card,n=e.cards,r=e.hasError,a=e.isEditable,i=e.onSkillChange,c=e.getViewer;switch(t.skill_card_type){case g.qe:return o.a.createElement(Me,{card:t,getViewer:c,hasError:r,isEditable:a,onSkillChange:i,transcript:a?n.find(function(e){return e.skill_card_type===g.ve}):void 0});case g.ue:case g.pe:return o.a.createElement(Ye,{card:t,getViewer:c,hasError:r,isEditable:a,onSkillChange:i});case g.ve:return o.a.createElement(te,{card:t,getViewer:c,hasError:r,isEditable:a,onSkillChange:i});case g.re:return o.a.createElement(x,{card:t});default:return null}},qe=function(e){var t=e.file,n=e.cards,o=e.errors,a=e.getViewer,i=e.onSkillChange,c=t.permissions,s=!!(void 0===c?{}:c).can_upload;return n.map(function(e,c){e.error&&!e.status&&(e.skill_card_type=g.re,e.status={code:g.oe},delete e.error);var l=e.id||S()("card_"),u=Object(_.b)(t,e),f=function(e){switch(e.skill_card_type){case g.qe:return k.f.KEYWORDS.CARD;case g.pe:case g.ue:return k.f.FACES.CARD;case g.ve:return k.f.TRANSCRIPTS.CARD;default:return""}}(e),p=function(e){var t=e.skill_card_type,n=e.skill_card_title,o=void 0===n?{}:n,a=o.code,i=o.message,c="".concat(t,"Skill"),s=C.a[c]||C.a.defaultSkill;switch(a){case"skills_faces":return r.createElement(E.b,C.a.faceSkill);case"skills_transcript":return r.createElement(E.b,C.a.transcriptSkill);case"skills_topics":return r.createElement(E.b,C.a.topicsSkill);case"skills_status":return r.createElement(E.b,C.a.statusSkill);case"skills_error":return r.createElement(E.b,C.a.error);default:return i||r.createElement(E.b,s)}}(e),d=Array.isArray(e.entries)?e.entries.length>0:u;return u?r.createElement(O.a,{key:l,interactionTarget:f,isOpen:d,title:p},r.createElement(Ue,{card:e,cards:n,getViewer:a,hasError:!!o[c],isEditable:s,onSkillChange:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(void 0,[c].concat(t))}})):null})};n(1174);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){et(e,t,n[t])})}return e}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"SkillsSidebarComponent",function(){return nt});var tt="".concat(g.Od,"_").concat(d.a);Object(p.b)(tt);var nt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Qe(t).call(this,e),n=!o||"object"!==Ge(o)&&"function"!=typeof o?$e(r):o,et($e($e(n)),"state",{errors:{}}),et($e($e(n)),"fetchSkillsSuccessCallback",function(e){n.updatePreviewTranscript(e),n.setState({cards:e})}),et($e($e(n)),"updatePreviewTranscript",function(e){var t=n.props,r=t.getPreview,o=t.getViewer,a=r?r():null,i=o?o():null,c=e.find(function(e){return e.skill_card_type===g.ve});c&&a&&(i?"function"==typeof i.loadAutoGeneratedCaptions&&i.loadAutoGeneratedCaptions(c):a.addListener("load",function(e){var t=e.viewer;"function"==typeof t.loadAutoGeneratedCaptions&&t.loadAutoGeneratedCaptions(c)}))}),et($e($e(n)),"onSaveSuccessHandler",function(e,t){var r=Xe({},n.state.errors);delete r[e],n.updatePreviewTranscript(t),n.setState({cards:t,errors:r})}),et($e($e(n)),"onSaveErrorHandler",function(e){var t=Xe({},n.state.errors);t[e]=!0,n.setState({errors:t})}),et($e($e(n)),"onSave",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=n.props,i=a.api,c=a.file,l=n.state.cards,u=(void 0===l?[]:l)[e],f="/cards/".concat(e),p=[];if(s()(c,g.Hc,!1)&&u){if(Array.isArray(o)&&o.forEach(function(e){var t=e.replaced,n=e.replacement,r=u.entries.findIndex(function(e){return e===t});r>-1&&p.push({op:"replace",path:"".concat(f,"/entries/").concat(r),value:n})}),Array.isArray(t)){var d=[];t.forEach(function(e){var t=u.entries.findIndex(function(t){return t===e});t>-1&&d.push(t)}),d.sort(function(e,t){return t-e}).forEach(function(e){p.push({op:"remove",path:"".concat(f,"/entries/").concat(e)})})}Array.isArray(r)&&r.forEach(function(e){p.push({op:"add",path:"".concat(f,"/entries/-"),value:e})}),0!==p.length&&(p.splice(0,0,{op:"test",path:f,value:u}),i.getMetadataAPI(!1).updateSkills(c,p,function(t){n.onSaveSuccessHandler(e,t)},function(){n.onSaveErrorHandler(e)}))}}),n.props.logger.onReadyMetric({endMarkName:tt}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.api,n=e.file;t.getMetadataAPI(!1).getSkills(n,this.fetchSkillsSuccessCallback,i.a)}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.getViewer,o=this.state,a=o.cards,i=o.errors;return r.createElement(v.a,{className:"bcs-skills",title:y.a.getTitleForView(g.de)},a?r.createElement(qe,{cards:a,errors:i,file:t,getViewer:n,onSkillChange:this.onSave}):r.createElement(f.a,null))}}])&&Je(n.prototype,o),a&&Je(n,a),t}();t.default=u()([Object(b.a)(g.Od),Object(h.a)(g.Od),m.b])(nt)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvbkVkaXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxBcnJheXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRleHRhcmVhLWF1dG9zaXplL2Rpc3QvcmVhY3QtdGV4dGFyZWEtYXV0b3NpemUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0VxdWFsRGVlcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TZXRDYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRDYWNoZUFkZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRDYWNoZUhhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheVNvbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2FjaGVIYXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxCeVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBUb0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxPYmplY3RzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL3NraWxscy9zdGF0dXMvU3RhdHVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvaWNvbnMvZ2VuZXJhbC9JY29uQ29weS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvbkV4cGFuZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvbkNvbGxhcHNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL3NraWxscy90cmFuc2NyaXB0L3RpbWVTbGljZVV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL3NraWxscy90cmFuc2NyaXB0L1JlYWRPbmx5VHJhbnNjcmlwdFJvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9za2lsbHMvdHJhbnNjcmlwdC9FZGl0aW5nVHJhbnNjcmlwdFJvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9za2lsbHMvdHJhbnNjcmlwdC9UcmFuc2NyaXB0Um93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL3NraWxscy90cmFuc2NyaXB0L1RyYW5zY3JpcHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy91dGlscy9kb3dubG9hZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9za2lsbHMva2V5d29yZHMva2V5d29yZFV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL3NraWxscy9rZXl3b3Jkcy9FZGl0YWJsZUtleXdvcmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvY29tcG9uZW50cy9waWxsLWNsb3VkL1BpbGxDbG91ZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvblRyYWNrTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvblRyYWNrUHJldmlvdXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvc2tpbGxzL3RpbWVsaW5lL1RpbWVzbGljZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9za2lsbHMvdGltZWxpbmUvVGltZWxpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvc2tpbGxzL2tleXdvcmRzL1JlYWRPbmx5S2V5d29yZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvc2tpbGxzL2tleXdvcmRzL0tleXdvcmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvaWNvbnMvZ2VuZXJhbC9JY29uTWludXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvc2tpbGxzL2ZhY2VzL0ZhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvc2tpbGxzL2ZhY2VzL0ZhY2VzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL3NraWxscy9TaWRlYmFyU2tpbGxzQ2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9za2lsbHMvU2lkZWJhclNraWxscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9Ta2lsbHNTaWRlYmFyLmpzIl0sIm5hbWVzIjpbInJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2FjY2Vzc2libGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX3JlZiIsIl9yZWYkY2xhc3NOYW1lIiwiY2xhc3NOYW1lIiwiX3JlZiRjb2xvciIsImNvbG9yIiwiX3JlZiRoZWlnaHQiLCJoZWlnaHQiLCJ0aXRsZSIsIl9yZWYkd2lkdGgiLCJ3aWR0aCIsImNvbmNhdCIsInZpZXdCb3giLCJkIiwiZmlsbCIsIlNldENhY2hlIiwiYXJyYXlTb21lIiwiY2FjaGVIYXMiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsIkNPTVBBUkVfVU5PUkRFUkVEX0ZMQUciLCJtb2R1bGUiLCJleHBvcnRzIiwiYXJyYXkiLCJvdGhlciIsImJpdG1hc2siLCJjdXN0b21pemVyIiwiZXF1YWxGdW5jIiwic3RhY2siLCJpc1BhcnRpYWwiLCJhcnJMZW5ndGgiLCJsZW5ndGgiLCJvdGhMZW5ndGgiLCJzdGFja2VkIiwiZ2V0IiwiaW5kZXgiLCJyZXN1bHQiLCJzZWVuIiwidW5kZWZpbmVkIiwic2V0IiwiYXJyVmFsdWUiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib3RoSW5kZXgiLCJwdXNoIiwicmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0IiwibiIsInByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsInByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0IiwiX2V4dGVuZHMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwiX3NQTyIsInNldFByb3RvdHlwZU9mIiwibyIsInAiLCJfX3Byb3RvX18iLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiaXNCcm93c2VyIiwid2luZG93IiwiZG9jdW1lbnQiLCJpc0lFIiwiZG9jdW1lbnRFbGVtZW50IiwiY3VycmVudFN0eWxlIiwiSElEREVOX1RFWFRBUkVBX1NUWUxFIiwibWluLWhlaWdodCIsIm1heC1oZWlnaHQiLCJ2aXNpYmlsaXR5Iiwib3ZlcmZsb3ciLCJwb3NpdGlvbiIsInotaW5kZXgiLCJ0b3AiLCJyaWdodCIsIlNJWklOR19TVFlMRSIsImNvbXB1dGVkU3R5bGVDYWNoZSIsImhpZGRlblRleHRhcmVhIiwiY3JlYXRlRWxlbWVudCIsImZvcmNlSGlkZGVuU3R5bGVzIiwibm9kZSIsImtleXMiLCJmb3JFYWNoIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImNhbGN1bGF0ZU5vZGVIZWlnaHQiLCJ1aVRleHROb2RlIiwidWlkIiwidXNlQ2FjaGUiLCJtaW5Sb3dzIiwibWF4Um93cyIsInBhcmVudE5vZGUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJub2RlU3R5bGluZyIsImdldENvbXB1dGVkU3R5bGUiLCJzaXppbmdTdHlsZSIsInJlZHVjZSIsIm9iaiIsIm5hbWUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiYm94U2l6aW5nIiwicGFyc2VGbG9hdCIsInBhZGRpbmdTaXplIiwiYm9yZGVyU2l6ZSIsIm5vZGVJbmZvIiwiY2FsY3VsYXRlTm9kZVN0eWxpbmciLCJ2YWx1ZSIsInBsYWNlaG9sZGVyIiwibWluSGVpZ2h0IiwiSW5maW5pdHkiLCJtYXhIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJzaW5nbGVSb3dIZWlnaHQiLCJNYXRoIiwibWF4IiwibWluIiwicm93Q291bnQiLCJmbG9vciIsInNlZWQiLCJub29wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwib25OZXh0RnJhbWUiLCJjbGVhck5leHRGcmFtZUFjdGlvbiIsIlRleHRhcmVhQXV0b3NpemUiLCJfUmVhY3QkQ29tcG9uZW50Iiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvcHMiLCJfdGhpcyIsIl9yZXNpemVMb2NrIiwiX29uUm9vdERPTU5vZGUiLCJfcm9vdERPTU5vZGUiLCJpbnB1dFJlZiIsIl9vbkNoYW5nZSIsImV2ZW50IiwiX2NvbnRyb2xsZWQiLCJfcmVzaXplQ29tcG9uZW50Iiwib25DaGFuZ2UiLCJjYWxsYmFjayIsIm5vZGVIZWlnaHQiLCJfdWlkIiwidXNlQ2FjaGVGb3JET01NZWFzdXJlbWVudHMiLCJzdGF0ZSIsInNldFN0YXRlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJfcHJvdG8iLCJyZW5kZXIiLCJfcHJvcHMiLCJvbkhlaWdodENoYW5nZSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzb3VyY2VTeW1ib2xLZXlzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJhIiwicmVmIiwiY29tcG9uZW50RGlkTW91bnQiLCJfdGhpczIiLCJfcmVzaXplTGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwiX3RoaXMzIiwiX2NsZWFyTmV4dEZyYW1lIiwiX29uTmV4dEZyYW1lQWN0aW9uSWQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJmdW5jIiwibnVtYmVyIiwiYm9vbCIsInN0cmluZyIsImRlZmF1bHRQcm9wcyIsImJhc2VJc0VxdWFsIiwiYmFzZUlzRXF1YWxEZWVwIiwiaXNPYmplY3RMaWtlIiwiU3RhY2siLCJlcXVhbEFycmF5cyIsImVxdWFsQnlUYWciLCJlcXVhbE9iamVjdHMiLCJnZXRUYWciLCJpc0FycmF5IiwiaXNCdWZmZXIiLCJpc1R5cGVkQXJyYXkiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJvYmplY3RUYWciLCJvYmplY3QiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIk1hcENhY2hlIiwic2V0Q2FjaGVBZGQiLCJzZXRDYWNoZUhhcyIsInZhbHVlcyIsIl9fZGF0YV9fIiwiYWRkIiwiaGFzIiwiSEFTSF9VTkRFRklORUQiLCJwcmVkaWNhdGUiLCJjYWNoZSIsIlN5bWJvbCIsIlVpbnQ4QXJyYXkiLCJlcSIsIm1hcFRvQXJyYXkiLCJzZXRUb0FycmF5IiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwidGFnIiwiYnl0ZUxlbmd0aCIsImJ5dGVPZmZzZXQiLCJidWZmZXIiLCJtZXNzYWdlIiwiY29udmVydCIsInNpemUiLCJtYXAiLCJBcnJheSIsImdldEFsbEtleXMiLCJvYmpQcm9wcyIsIm9iakxlbmd0aCIsInNraXBDdG9yIiwib2JqVmFsdWUiLCJvYmpDdG9yIiwib3RoQ3RvciIsInN0YXR1c19TdGF0dXMiLCJfY2FyZCRzdGF0dXMiLCJjYXJkIiwic3RhdHVzIiwiY29kZSIsImxvY2FsaXplZE1lc3NhZ2UiLCJtZXNzYWdlcyIsInNraWxsVW5rbm93bkVycm9yIiwiZXNfY29uc3RhbnRzIiwic2tpbGxJbnZhbGlkRmlsZVNpemVFcnJvciIsInNraWxsSW52YWxpZEZpbGVFeHRlbnNpb25FcnJvciIsInNraWxsRmlsZVByb2Nlc3NpbmdFcnJvciIsInNraWxsUGVuZGluZ1N0YXR1cyIsInNraWxsSW52b2tlZFN0YXR1cyIsInJlYWN0IiwiaW5kZXhfZXMiLCJnZW5lcmFsX0ljb25Db3B5IiwiYWNjZXNzaWJsZV9zdmciLCJnZW5lcmFsX0ljb25FeHBhbmQiLCJnZW5lcmFsX0ljb25Db2xsYXBzZSIsImlzVmFsaWRTdGFydFRpbWUiLCJ0aW1lc2xpY2UiLCJzdGFydCIsImlzVmFsaWRUaW1lU2xpY2UiLCJ0aW1lc2xpY2VzIiwidHJhbnNjcmlwdF9SZWFkT25seVRyYW5zY3JpcHRSb3ciLCJ0aW1lIiwiX3JlZiR0ZXh0IiwidGV4dCIsIm9uQ2xpY2siLCJpbnRlcmFjdGlvblRhcmdldCIsIlBsYWluQnV0dG9uIiwiZGF0YS1yZXNpbi10YXJnZXQiLCJ0eXBlIiwic2tpbGxzX3RyYW5zY3JpcHRfRWRpdGluZ1RyYW5zY3JpcHRSb3ciLCJvblNhdmUiLCJvbkNhbmNlbCIsInJlYWN0X3RleHRhcmVhX2F1dG9zaXplX2VzIiwiQnV0dG9uIiwiaW50ZXJhY3Rpb25UYXJnZXRzIiwiVFJBTlNDUklQVFMiLCJFRElUX0NBTkNFTCIsImNhbmNlbCIsIlByaW1hcnlCdXR0b24iLCJFRElUX1NBVkUiLCJzYXZlIiwic2tpbGxzX3RyYW5zY3JpcHRfVHJhbnNjcmlwdFJvdyIsImFwcGVhcnMiLCJpc0VkaXRpbmciLCJ0aW1lU2xpY2UiLCJkYXRldGltZSIsInJlYWN0X2RlZmF1bHQiLCJfdHlwZW9mIiwiaXRlcmF0b3IiLCJfb2JqZWN0U3ByZWFkIiwib3duS2V5cyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJfZGVmaW5lUHJvcGVydHkiLCJfZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5IiwiX2dldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJfc2V0UHJvdG90eXBlT2YiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwic2tpbGxzX3RyYW5zY3JpcHRfVHJhbnNjcmlwdCIsIl9SZWFjdCRQdXJlQ29tcG9uZW50IiwiVHJhbnNjcmlwdCIsIl9nZXRQcm90b3R5cGVPZjIiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2xlbiIsImFyZ3MiLCJfa2V5IiwiaXNFZGl0aW5nSW5kZXgiLCJuZXdUcmFuc2NyaXB0VGV4dCIsImlzQ29sbGFwc2VkIiwiaXNMb2FkaW5nIiwiYWNjdW11bGF0b3IiLCJfcmVmMiIsIl90aGlzJHN0YXRlIiwiaXNFZGl0aW5nUm93IiwidHJhbnNjcmlwdFRleHQiLCJFRElUX1RFWFQiLCJUUkFOU0NSSVBUIiwiX3RoaXMkcHJvcHMiLCJlbnRyaWVzIiwib25Ta2lsbENoYW5nZSIsIl90aGlzJHN0YXRlMiIsImVudHJ5IiwicmVwbGFjZW1lbnQiLCJyZXBsYWNlZCIsImN1cnJlbnRUYXJnZXQiLCJwcmV2aWV3U2VnbWVudCIsInRleHRhcmVhIiwidHJhbnNjcmlwdFJlZHVjZXIiLCJkaXNwbGF5Iiwic2VsZWN0IiwiZXhlY0NvbW1hbmQiLCJyZW1vdmVDaGlsZCIsImNvcHlCdG4iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJidG4iLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfaW5oZXJpdHMiLCJ3YXNFZGl0aW5nIiwiX3RoaXMkcHJvcHMyIiwiZ2V0Vmlld2VyIiwidmlld2VyIiwiaXNWYWxpZCIsInBsYXkiLCJfdGhpcyRwcm9wczMiLCJpc0VkaXRhYmxlIiwiX3RoaXMkc3RhdGUzIiwiaGFzRW50cmllcyIsImhhc01hbnlFbnRyaWVzIiwiZWRpdEJ0bkNsYXNzTmFtZSIsImNsYXNzbmFtZXNfZGVmYXVsdCIsImJlLXRyYW5zY3JpcHQtaXMtZWRpdGluZyIsImNvbnRlbnRDbGFzc05hbWUiLCJiZS10cmFuc2NyaXB0LWNvbnRlbnQtY29sbGFwc2VkIiwiZXhwYW5kQ29sbGFwc2VNZXNzYWdlIiwiZXhwYW5kIiwiY29sbGFwc2UiLCJMb2FkaW5nSW5kaWNhdG9yV3JhcHBlciIsIlRvb2x0aXAiLCJjb3B5IiwiQ09QWSIsImdldERPTVJlZiIsImNvcHlCdG5SZWYiLCJjb3B5VHJhbnNjcmlwdCIsInZhcmlhYmxlcyIsIkVYUEFORCIsInRvZ2dsZUV4cGFuZENvbGxhcHNlIiwiZWRpdExhYmVsIiwiRURJVCIsInRvZ2dsZUlzRWRpdGluZyIsIkljb25FZGl0IiwidHJhbnNjcmlwdEVkaXQiLCJ0cmFuc2NyaXB0TWFwcGVyIiwic2tpbGxOb0luZm9Gb3VuZEVycm9yIiwia2V5d29yZFV0aWxzIiwia2V5d29yZCIsImRpc3BsYXlUZXh0IiwiRWRpdGFibGVLZXl3b3Jkc190eXBlb2YiLCJFZGl0YWJsZUtleXdvcmRzX2RlZmluZVByb3BlcnRpZXMiLCJFZGl0YWJsZUtleXdvcmRzX2dldFByb3RvdHlwZU9mIiwiRWRpdGFibGVLZXl3b3Jkc19zZXRQcm90b3R5cGVPZiIsIkVkaXRhYmxlS2V5d29yZHNfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiRWRpdGFibGVLZXl3b3Jkc19kZWZpbmVQcm9wZXJ0eSIsInNraWxsc19rZXl3b3Jkc19FZGl0YWJsZUtleXdvcmRzIiwiRWRpdGFibGVLZXl3b3JkcyIsIkVkaXRhYmxlS2V5d29yZHNfY2xhc3NDYWxsQ2hlY2siLCJvcHRpb24iLCJvbkRlbGV0ZSIsImtleXdvcmRzIiwiaXNJbkNvbXBvc2l0aW9uTW9kZSIsIm9uQmx1ciIsIm9uQWRkIiwicGlsbHMiLCJFZGl0YWJsZUtleXdvcmRzX2luaGVyaXRzIiwibmV4dFByb3BzIiwiUGlsbFNlbGVjdG9yIiwib25Db21wb3NpdGlvbkVuZCIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uSW5wdXQiLCJvbktleURvd24iLCJvblBhc3RlIiwib25SZW1vdmUiLCJzZWxlY3RlZE9wdGlvbnMiLCJLRVlXT1JEUyIsInBpbGxfY2xvdWRfUGlsbENsb3VkIiwib3B0aW9ucyIsIm9uU2VsZWN0IiwiX3JlZiRzZWxlY3RlZE9wdGlvbnMiLCJfcmVmJGJ1dHRvblByb3BzIiwiYnV0dG9uUHJvcHMiLCJjb21wb25lbnRzX2J1dHRvbiIsImlzLXNlbGVjdGVkIiwiZmluZCIsIm9wIiwiaXNFcXVhbF9kZWZhdWx0IiwiZ2VuZXJhbF9JY29uVHJhY2tOZXh0IiwiZ2VuZXJhbF9JY29uVHJhY2tQcmV2aW91cyIsInNraWxsc190aW1lbGluZV9UaW1lc2xpY2UiLCJlbmQiLCJkdXJhdGlvbiIsIl9vbkNsaWNrIiwic3RhcnRMZWZ0Iiwicm91bmQiLCJtaW5FbmRpbmciLCJlbmRpbmciLCJsZWZ0Iiwic2tpbGxzX3RpbWVsaW5lX1RpbWVsaW5lIiwiX3JlZiRkdXJhdGlvbiIsIl9yZWYkdGltZXNsaWNlcyIsInRpbWVTbGljZUluZGV4IiwicGxheVNlZ21lbnQiLCJpbmNyIiwibmV3SW5kZXgiLCJUSU1FTElORSIsIlBSRVZJT1VTIiwicHJldmlvdXNTZWdtZW50IiwiTkVYVCIsIm5leHRTZWdtZW50IiwiUmVhZE9ubHlLZXl3b3Jkc190eXBlb2YiLCJSZWFkT25seUtleXdvcmRzX2V4dGVuZHMiLCJSZWFkT25seUtleXdvcmRzX2RlZmluZVByb3BlcnRpZXMiLCJSZWFkT25seUtleXdvcmRzX2dldFByb3RvdHlwZU9mIiwiUmVhZE9ubHlLZXl3b3Jkc19zZXRQcm90b3R5cGVPZiIsIlJlYWRPbmx5S2V5d29yZHNfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiUmVhZE9ubHlLZXl3b3Jkc19kZWZpbmVQcm9wZXJ0eSIsImtleXdvcmRzX1JlYWRPbmx5S2V5d29yZHMiLCJSZWFkT25seXNlbGVjdGVkcyIsIlJlYWRPbmx5S2V5d29yZHNfY2xhc3NDYWxsQ2hlY2siLCJzZWxlY3RlZEluZGV4IiwicGlsbCIsIlJlYWRPbmx5S2V5d29yZHNfaW5oZXJpdHMiLCJzZWxlY3RlZCIsInBpbGxDbG91ZFByb3BzIiwiU0VMRUNUIiwiS2V5d29yZHNfdHlwZW9mIiwiS2V5d29yZHNfZGVmaW5lUHJvcGVydGllcyIsIktleXdvcmRzX2dldFByb3RvdHlwZU9mIiwiS2V5d29yZHNfc2V0UHJvdG90eXBlT2YiLCJLZXl3b3Jkc19hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJLZXl3b3Jkc19kZWZpbmVQcm9wZXJ0eSIsInNraWxsc19rZXl3b3Jkc19LZXl3b3JkcyIsIl9QdXJlQ29tcG9uZW50IiwiS2V5d29yZHMiLCJLZXl3b3Jkc19jbGFzc0NhbGxDaGVjayIsInRyYW5zY3JpcHQiLCJhZGRzIiwibG9jYXRpb25zIiwicmVnZXgiLCJSZWdFeHAiLCJ0ZXN0Iiwic2xpY2UiLCJyZW1vdmVzIiwiYWRkZWRJbmRleCIsImZpbmRJbmRleCIsImFkZGVkIiwic3BsaWNlIiwicmVzZXRTdGF0ZSIsImhhc0Vycm9yIiwiS2V5d29yZHNfaW5oZXJpdHMiLCJoYXNLZXl3b3JkcyIsImZhY2UiLCJpbmNsdWRlcyIsImVkaXRDbGFzc05hbWUiLCJiZS1rZXl3b3JkLWlzLWVkaXRpbmciLCJJbmxpbmVFcnJvciIsInNpZGViYXJTa2lsbHNFcnJvclRpdGxlIiwic2lkZWJhclNraWxsc0Vycm9yQ29udGVudCIsImdlbmVyYWxfSWNvbk1pbnVzIiwiZmlsbFJ1bGUiLCJza2lsbHNfZmFjZXNfRmFjZSIsImlzQW55RmFjZVNlbGVjdGVkIiwiaXNDdXJyZW50RmFjZVNlbGVjdGVkIiwiaXNGYWNlU2VsZWN0ZWQiLCJmYWNlQ2xhc3NOYW1lIiwiYmUtZmFjZS11bnNlbGVjdGVkIiwiRkFDRVMiLCJGQUNFIiwiYWx0Iiwic3JjIiwiaW1hZ2VfdXJsIiwiREVMRVRFIiwiSWNvbkNsb3NlIiwiRmFjZXNfdHlwZW9mIiwiRmFjZXNfZGVmaW5lUHJvcGVydGllcyIsIkZhY2VzX2dldFByb3RvdHlwZU9mIiwiRmFjZXNfc2V0UHJvdG90eXBlT2YiLCJGYWNlc19hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJGYWNlc19kZWZpbmVQcm9wZXJ0eSIsInNraWxsc19mYWNlc19GYWNlcyIsIkZhY2VzIiwiRmFjZXNfY2xhc3NDYWxsQ2hlY2siLCJmYWNlcyIsIkZhY2VzX2luaGVyaXRzIiwiaGFzRmFjZXMiLCJiZS1mYWNlcy1pcy1lZGl0aW5nIiwic2tpbGxzX1NpZGViYXJTa2lsbHNDYXJkIiwiY2FyZHMiLCJza2lsbF9jYXJkX3R5cGUiLCJza2lsbHNfU2lkZWJhclNraWxscyIsIl9yZWYzIiwiZmlsZSIsImVycm9ycyIsIl9vblNraWxsQ2hhbmdlIiwiX2ZpbGUkcGVybWlzc2lvbnMiLCJwZXJtaXNzaW9ucyIsImlzU2tpbGxFZGl0YWJsZSIsImNhbl91cGxvYWQiLCJlcnJvciIsImNhcmRJZCIsImlkIiwidW5pcXVlSWRfZGVmYXVsdCIsInNraWxsVXRpbHMiLCJDQVJEIiwiU2lkZWJhclNraWxsc19nZXRDYXJkSW50ZXJhY3Rpb25UYXJnZXQiLCJfcmVmMiRza2lsbF9jYXJkX3RpdGwiLCJza2lsbF9jYXJkX3RpdGxlIiwiZGVmYXVsdEtleSIsImRlZmF1bHRNZXNzYWdlIiwiZGVmYXVsdFNraWxsIiwiZmFjZVNraWxsIiwidHJhbnNjcmlwdFNraWxsIiwidG9waWNzU2tpbGwiLCJzdGF0dXNTa2lsbCIsIlNpZGViYXJTa2lsbHNfZ2V0Q2FyZFRpdGxlIiwiU2lkZWJhclNlY3Rpb24iLCJpc09wZW4iLCJTa2lsbHNTaWRlYmFyX3R5cGVvZiIsIlNraWxsc1NpZGViYXJfb2JqZWN0U3ByZWFkIiwiU2tpbGxzU2lkZWJhcl9kZWZpbmVQcm9wZXJ0eSIsIlNraWxsc1NpZGViYXJfZGVmaW5lUHJvcGVydGllcyIsIlNraWxsc1NpZGViYXJfZ2V0UHJvdG90eXBlT2YiLCJTa2lsbHNTaWRlYmFyX3NldFByb3RvdHlwZU9mIiwiU2tpbGxzU2lkZWJhcl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJTa2lsbHNTaWRlYmFyX1NraWxsc1NpZGViYXIiLCJNQVJLX05BTUVfSlNfUkVBRFkiLCJjb25zdGFudHMiLCJwZXJmb3JtYW5jZSIsIlNraWxsc1NpZGViYXIiLCJTa2lsbHNTaWRlYmFyX2NsYXNzQ2FsbENoZWNrIiwidXBkYXRlUHJldmlld1RyYW5zY3JpcHQiLCJnZXRQcmV2aWV3IiwicHJldmlldyIsInRyYW5zY3JpcHRDYXJkIiwibG9hZEF1dG9HZW5lcmF0ZWRDYXB0aW9ucyIsImFkZExpc3RlbmVyIiwibG9hZGVkVmlld2VyIiwidXBkYXRlZENhcmRzIiwiY2xvbmUiLCJyZXBsYWNlcyIsImFwaSIsIl90aGlzJHN0YXRlJGNhcmRzIiwicGF0aCIsIm9wcyIsImdldF9kZWZhdWx0IiwiaWR4IiwiZGVsZXRlcyIsInJlbW92ZWQiLCJzb3J0IiwiYiIsImdldE1ldGFkYXRhQVBJIiwidXBkYXRlU2tpbGxzIiwib25TYXZlU3VjY2Vzc0hhbmRsZXIiLCJvblNhdmVFcnJvckhhbmRsZXIiLCJsb2dnZXIiLCJvblJlYWR5TWV0cmljIiwiZW5kTWFya05hbWUiLCJTa2lsbHNTaWRlYmFyX2luaGVyaXRzIiwiZ2V0U2tpbGxzIiwiZmV0Y2hTa2lsbHNTdWNjZXNzQ2FsbGJhY2siLCJub29wX2RlZmF1bHQiLCJfdGhpcyRwcm9wczQiLCJTaWRlYmFyQ29udGVudCIsIlNpZGViYXJVdGlscyIsImdldFRpdGxlRm9yVmlldyIsIkxvYWRpbmdJbmRpY2F0b3IiLCJmbG93X2RlZmF1bHQiLCJjb21tb25fbG9nZ2VyIiwiZXJyb3JfYm91bmRhcnkiLCJhcGlfY29udGV4dCJdLCJtYXBwaW5ncyI6IjJGQUFBLElBQUFBLEVBQUFDLEVBQUEsR0FBQUMsRUFBQUQsRUFBQSxHQTBCZUUsRUFBQSxFQXZCZixTQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLFVBQ0FBLE9BQUEsSUFBQUQsRUFBQSxHQUFBQSxFQUNBRSxFQUFBSCxFQUFBSSxNQUNBQSxPQUFBLElBQUFELEVBQUEsT0FBQUEsRUFDQUUsRUFBQUwsRUFBQU0sT0FDQUEsT0FBQSxJQUFBRCxFQUFBLEdBQUFBLEVBQ0FFLEVBQUFQLEVBQUFPLE1BQ0FDLEVBQUFSLEVBQUFTLE1BQ0FBLE9BQUEsSUFBQUQsRUFBQSxHQUFBQSxFQUNBLE9BQVNaLEVBQUEsY0FBb0JFLEVBQUEsRUFBYSxDQUMxQ0ksVUFBQSxhQUFBUSxPQUFBUixHQUNBSSxTQUNBQyxRQUNBSSxRQUFBLFlBQ0FGLFNBQ0tiLEVBQUEsY0FBbUIsUUFDeEJNLFVBQUEsYUFDQVUsRUFBQSxvSEFDQUMsS0FBQVQsNEJDdEJBLElBQUFVLEVBQWVqQixFQUFRLE1BQ3ZCa0IsRUFBZ0JsQixFQUFRLE1BQ3hCbUIsRUFBZW5CLEVBQVEsTUFHdkJvQixFQUFBLEVBQ0FDLEVBQUEsRUE0RUFDLEVBQUFDLFFBN0RBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUosRUFBQU4sRUFDQVcsRUFBQVAsRUFBQVEsT0FDQUMsRUFBQVIsRUFBQU8sT0FFQSxHQUFBRCxHQUFBRSxLQUFBSCxHQUFBRyxFQUFBRixHQUNBLFNBR0EsSUFBQUcsRUFBQUwsRUFBQU0sSUFBQVgsR0FDQSxHQUFBVSxHQUFBTCxFQUFBTSxJQUFBVixHQUNBLE9BQUFTLEdBQUFULEVBRUEsSUFBQVcsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEVBQUFaLEVBQUFMLEVBQUEsSUFBQUosT0FBQXNCLEVBTUEsSUFKQVYsRUFBQVcsSUFBQWhCLEVB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QUErRSxNQUNBb2EsRUFBQXNFLEVBQUF0RSxLQUNBcEwsRUFBQTBQLEVBQUExUCxVQUNBN0IsRUFBQWxTLEtBQUE4RixNQUNBaVosRUFBQTdNLEVBQUE2TSxNQUNBSyxFQUFBbE4sRUFBQWtOLE9BQ0EsT0FBYTdSLEVBQUEsY0FBb0JtVyxFQUFBLEVBQWMsQ0FDL0NubkIsVUFBQSxhQUNBSyxNQUFlK21CLEVBQUEsRUFBWUMsZ0JBQWlCM1csRUFBQSxLQUNyQzhSLEVBQVV4UixFQUFBLGNBQW9CMFIsR0FBYSxDQUNsREYsUUFDQUssU0FDQUQsT0FDQXBMLFlBQ0F0QixjQUFBelMsS0FBQTRPLFNBQ1dyQixFQUFBLGNBQW9Cc1csRUFBQSxFQUFnQixZQXRQK0I3QyxHQUFpQjFQLEVBQUExUixVQUFBOFQsR0FBb0NDLEdBQWtCcU4sR0FBaUIxUCxFQUFBcUMsR0EwUHRLNk4sRUFsTkEsR0FzTmVwbEIsRUFBQSxRQUFBMG5CLElBQUksQ0FBRXprQixPQUFBMGtCLEVBQUEsRUFBQTFrQixDQUFXNE4sRUFBQSxJQUF3QjVOLE9BQUEya0IsRUFBQSxFQUFBM2tCLENBQWtCNE4sRUFBQSxJQUF3QmdYLEVBQUEsR0FBbkYsQ0FBb0c3QyIsImZpbGUiOiJ2ZW5kb3JzfnNraWxscy1zaWRlYmFyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjY2Vzc2libGVTVkcgZnJvbSAnLi4vYWNjZXNzaWJsZS1zdmcnO1xuXG52YXIgSWNvbkVkaXQgPSBmdW5jdGlvbiBJY29uRWRpdChfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gJyM5OTknIDogX3JlZiRjb2xvcixcbiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gMTQgOiBfcmVmJGhlaWdodCxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyAxNCA6IF9yZWYkd2lkdGg7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY2Vzc2libGVTVkcsIHtcbiAgICBjbGFzc05hbWU6IFwiaWNvbi1lZGl0IFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk0zLjIxIDcuODlsNi40Ny02LjQ4YTIgMiAwIDAgMSAyLjg4IDIuNzhoLS4wNUw2IDEwLjcyIDMuMjEgNy44OXpNMi4yNCA5bDIuODMgMi44M0wxLjY3IDEzYy0uNTIuMTgtLjc5LS4xLS42Mi0uNjF6XCIsXG4gICAgZmlsbDogY29sb3JcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbkVkaXQ7IiwidmFyIFNldENhY2hlID0gcmVxdWlyZSgnLi9fU2V0Q2FjaGUnKSxcbiAgICBhcnJheVNvbWUgPSByZXF1aXJlKCcuL19hcnJheVNvbWUnKSxcbiAgICBjYWNoZUhhcyA9IHJlcXVpcmUoJy4vX2NhY2hlSGFzJyk7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXF1YWxBcnJheXM7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG52YXIgX3NQTyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc1BPKG8sIHApIHtcbiAgby5fX3Byb3RvX18gPSBwO1xuICByZXR1cm4gbztcbn07XG5cbnZhciBfY29uc3RydWN0ID0gdHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgUmVmbGVjdC5jb25zdHJ1Y3QgfHwgZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gIHZhciBDb25zdHJ1Y3RvcixcbiAgICAgIGEgPSBbbnVsbF07XG4gIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgQ29uc3RydWN0b3IgPSBQYXJlbnQuYmluZC5hcHBseShQYXJlbnQsIGEpO1xuICByZXR1cm4gX3NQTyhuZXcgQ29uc3RydWN0b3IoKSwgQ2xhc3MucHJvdG90eXBlKTtcbn07XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgaXNJRSA9IGlzQnJvd3NlciA/ICEhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSA6IGZhbHNlO1xudmFyIEhJRERFTl9URVhUQVJFQV9TVFlMRSA9IHtcbiAgJ21pbi1oZWlnaHQnOiAnMCcsXG4gICdtYXgtaGVpZ2h0JzogJ25vbmUnLFxuICBoZWlnaHQ6ICcwJyxcbiAgdmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICd6LWluZGV4JzogJy0xMDAwJyxcbiAgdG9wOiAnMCcsXG4gIHJpZ2h0OiAnMCdcbn07XG52YXIgU0laSU5HX1NUWUxFID0gWydsZXR0ZXItc3BhY2luZycsICdsaW5lLWhlaWdodCcsICdmb250LWZhbWlseScsICdmb250LXdlaWdodCcsICdmb250LXNpemUnLCAnZm9udC1zdHlsZScsICd0YWItc2l6ZScsICd0ZXh0LXJlbmRlcmluZycsICd0ZXh0LXRyYW5zZm9ybScsICd3aWR0aCcsICd0ZXh0LWluZGVudCcsICdwYWRkaW5nLXRvcCcsICdwYWRkaW5nLXJpZ2h0JywgJ3BhZGRpbmctYm90dG9tJywgJ3BhZGRpbmctbGVmdCcsICdib3JkZXItdG9wLXdpZHRoJywgJ2JvcmRlci1yaWdodC13aWR0aCcsICdib3JkZXItYm90dG9tLXdpZHRoJywgJ2JvcmRlci1sZWZ0LXdpZHRoJywgJ2JveC1zaXppbmcnXTtcbnZhciBjb21wdXRlZFN0eWxlQ2FjaGUgPSB7fTtcbnZhciBoaWRkZW5UZXh0YXJlYSA9IGlzQnJvd3NlciAmJiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuXG52YXIgZm9yY2VIaWRkZW5TdHlsZXMgPSBmdW5jdGlvbiBmb3JjZUhpZGRlblN0eWxlcyhub2RlKSB7XG4gIE9iamVjdC5rZXlzKEhJRERFTl9URVhUQVJFQV9TVFlMRSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgbm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIEhJRERFTl9URVhUQVJFQV9TVFlMRVtrZXldLCAnaW1wb3J0YW50Jyk7XG4gIH0pO1xufTtcblxuaWYgKGlzQnJvd3Nlcikge1xuICBmb3JjZUhpZGRlblN0eWxlcyhoaWRkZW5UZXh0YXJlYSk7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU5vZGVIZWlnaHQodWlUZXh0Tm9kZSwgdWlkLCB1c2VDYWNoZSwgbWluUm93cywgbWF4Um93cykge1xuICBpZiAodXNlQ2FjaGUgPT09IHZvaWQgMCkge1xuICAgIHVzZUNhY2hlID0gZmFsc2U7XG4gIH1cblxuICBpZiAobWluUm93cyA9PT0gdm9pZCAwKSB7XG4gICAgbWluUm93cyA9IG51bGw7XG4gIH1cblxuICBpZiAobWF4Um93cyA9PT0gdm9pZCAwKSB7XG4gICAgbWF4Um93cyA9IG51bGw7XG4gIH1cblxuICBpZiAoaGlkZGVuVGV4dGFyZWEucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaGlkZGVuVGV4dGFyZWEpO1xuICB9IC8vIENvcHkgYWxsIENTUyBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBhbiBpbXBhY3Qgb24gdGhlIGhlaWdodCBvZiB0aGUgY29udGVudCBpblxuICAvLyB0aGUgdGV4dGJveFxuXG5cbiAgdmFyIG5vZGVTdHlsaW5nID0gY2FsY3VsYXRlTm9kZVN0eWxpbmcodWlUZXh0Tm9kZSwgdWlkLCB1c2VDYWNoZSk7XG5cbiAgaWYgKG5vZGVTdHlsaW5nID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcGFkZGluZ1NpemUgPSBub2RlU3R5bGluZy5wYWRkaW5nU2l6ZSxcbiAgICAgIGJvcmRlclNpemUgPSBub2RlU3R5bGluZy5ib3JkZXJTaXplLFxuICAgICAgYm94U2l6aW5nID0gbm9kZVN0eWxpbmcuYm94U2l6aW5nLFxuICAgICAgc2l6aW5nU3R5bGUgPSBub2RlU3R5bGluZy5zaXppbmdTdHlsZTsgLy8gTmVlZCB0byBoYXZlIHRoZSBvdmVyZmxvdyBhdHRyaWJ1dGUgdG8gaGlkZSB0aGUgc2Nyb2xsYmFyIG90aGVyd2lzZVxuICAvLyB0ZXh0LWxpbmVzIHdpbGwgbm90IGNhbGN1bGF0ZWQgcHJvcGVybHkgYXMgdGhlIHNoYWRvdyB3aWxsIHRlY2huaWNhbGx5IGJlXG4gIC8vIG5hcnJvd2VyIGZvciBjb250ZW50XG5cbiAgT2JqZWN0LmtleXMoc2l6aW5nU3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGhpZGRlblRleHRhcmVhLnN0eWxlW2tleV0gPSBzaXppbmdTdHlsZVtrZXldO1xuICB9KTtcbiAgZm9yY2VIaWRkZW5TdHlsZXMoaGlkZGVuVGV4dGFyZWEpO1xuICBoaWRkZW5UZXh0YXJlYS52YWx1ZSA9IHVpVGV4dE5vZGUudmFsdWUgfHwgdWlUZXh0Tm9kZS5wbGFjZWhvbGRlciB8fCAneCc7XG4gIHZhciBtaW5IZWlnaHQgPSAtSW5maW5pdHk7XG4gIHZhciBtYXhIZWlnaHQgPSBJbmZpbml0eTtcbiAgdmFyIGhlaWdodCA9IGhpZGRlblRleHRhcmVhLnNjcm9sbEhlaWdodDtcblxuICBpZiAoYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAvLyBib3JkZXItYm94OiBhZGQgYm9yZGVyLCBzaW5jZSBoZWlnaHQgPSBjb250ZW50ICsgcGFkZGluZyArIGJvcmRlclxuICAgIGhlaWdodCA9IGhlaWdodCArIGJvcmRlclNpemU7XG4gIH0gZWxzZSBpZiAoYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnKSB7XG4gICAgLy8gcmVtb3ZlIHBhZGRpbmcsIHNpbmNlIGhlaWdodCA9IGNvbnRlbnRcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBwYWRkaW5nU2l6ZTtcbiAgfSAvLyBtZWFzdXJlIGhlaWdodCBvZiBhIHRleHRhcmVhIHdpdGggYSBzaW5nbGUgcm93XG5cblxuICBoaWRkZW5UZXh0YXJlYS52YWx1ZSA9ICd4JztcbiAgdmFyIHNpbmdsZVJvd0hlaWdodCA9IGhpZGRlblRleHRhcmVhLnNjcm9sbEhlaWdodCAtIHBhZGRpbmdTaXplO1xuXG4gIGlmIChtaW5Sb3dzICE9PSBudWxsIHx8IG1heFJvd3MgIT09IG51bGwpIHtcbiAgICBpZiAobWluUm93cyAhPT0gbnVsbCkge1xuICAgICAgbWluSGVpZ2h0ID0gc2luZ2xlUm93SGVpZ2h0ICogbWluUm93cztcblxuICAgICAgaWYgKGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgIG1pbkhlaWdodCA9IG1pbkhlaWdodCArIHBhZGRpbmdTaXplICsgYm9yZGVyU2l6ZTtcbiAgICAgIH1cblxuICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgobWluSGVpZ2h0LCBoZWlnaHQpO1xuICAgIH1cblxuICAgIGlmIChtYXhSb3dzICE9PSBudWxsKSB7XG4gICAgICBtYXhIZWlnaHQgPSBzaW5nbGVSb3dIZWlnaHQgKiBtYXhSb3dzO1xuXG4gICAgICBpZiAoYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAgICAgbWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgcGFkZGluZ1NpemUgKyBib3JkZXJTaXplO1xuICAgICAgfVxuXG4gICAgICBoZWlnaHQgPSBNYXRoLm1pbihtYXhIZWlnaHQsIGhlaWdodCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJvd0NvdW50ID0gTWF0aC5mbG9vcihoZWlnaHQgLyBzaW5nbGVSb3dIZWlnaHQpO1xuICByZXR1cm4ge1xuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIG1pbkhlaWdodDogbWluSGVpZ2h0LFxuICAgIG1heEhlaWdodDogbWF4SGVpZ2h0LFxuICAgIHJvd0NvdW50OiByb3dDb3VudFxuICB9O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVOb2RlU3R5bGluZyhub2RlLCB1aWQsIHVzZUNhY2hlKSB7XG4gIGlmICh1c2VDYWNoZSA9PT0gdm9pZCAwKSB7XG4gICAgdXNlQ2FjaGUgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICh1c2VDYWNoZSAmJiBjb21wdXRlZFN0eWxlQ2FjaGVbdWlkXSkge1xuICAgIHJldHVybiBjb21wdXRlZFN0eWxlQ2FjaGVbdWlkXTtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXG4gIGlmIChzdHlsZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHNpemluZ1N0eWxlID0gU0laSU5HX1NUWUxFLnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgb2JqW25hbWVdID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LCB7fSk7XG4gIHZhciBib3hTaXppbmcgPSBzaXppbmdTdHlsZVsnYm94LXNpemluZyddOyAvLyBwcm9iYWJseSBub2RlIGlzIGRldGFjaGVkIGZyb20gRE9NLCBjYW4ndCByZWFkIGNvbXB1dGVkIGRpbWVuc2lvbnNcblxuICBpZiAoYm94U2l6aW5nID09PSAnJykge1xuICAgIHJldHVybiBudWxsO1xuICB9IC8vIElFIChFZGdlIGhhcyBhbHJlYWR5IGNvcnJlY3QgYmVoYXZpb3VyKSByZXR1cm5zIGNvbnRlbnQgd2lkdGggYXMgY29tcHV0ZWQgd2lkdGhcbiAgLy8gc28gd2UgbmVlZCB0byBhZGQgbWFudWFsbHkgcGFkZGluZyBhbmQgYm9yZGVyIHdpZHRoc1xuXG5cbiAgaWYgKGlzSUUgJiYgYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICBzaXppbmdTdHlsZS53aWR0aCA9IHBhcnNlRmxvYXQoc2l6aW5nU3R5bGUud2lkdGgpICsgcGFyc2VGbG9hdChzdHlsZVsnYm9yZGVyLXJpZ2h0LXdpZHRoJ10pICsgcGFyc2VGbG9hdChzdHlsZVsnYm9yZGVyLWxlZnQtd2lkdGgnXSkgKyBwYXJzZUZsb2F0KHN0eWxlWydwYWRkaW5nLXJpZ2h0J10pICsgcGFyc2VGbG9hdChzdHlsZVsncGFkZGluZy1sZWZ0J10pICsgJ3B4JztcbiAgfVxuXG4gIHZhciBwYWRkaW5nU2l6ZSA9IHBhcnNlRmxvYXQoc2l6aW5nU3R5bGVbJ3BhZGRpbmctYm90dG9tJ10pICsgcGFyc2VGbG9hdChzaXppbmdTdHlsZVsncGFkZGluZy10b3AnXSk7XG4gIHZhciBib3JkZXJTaXplID0gcGFyc2VGbG9hdChzaXppbmdTdHlsZVsnYm9yZGVyLWJvdHRvbS13aWR0aCddKSArIHBhcnNlRmxvYXQoc2l6aW5nU3R5bGVbJ2JvcmRlci10b3Atd2lkdGgnXSk7XG4gIHZhciBub2RlSW5mbyA9IHtcbiAgICBzaXppbmdTdHlsZTogc2l6aW5nU3R5bGUsXG4gICAgcGFkZGluZ1NpemU6IHBhZGRpbmdTaXplLFxuICAgIGJvcmRlclNpemU6IGJvcmRlclNpemUsXG4gICAgYm94U2l6aW5nOiBib3hTaXppbmdcbiAgfTtcblxuICBpZiAodXNlQ2FjaGUpIHtcbiAgICBjb21wdXRlZFN0eWxlQ2FjaGVbdWlkXSA9IG5vZGVJbmZvO1xuICB9XG5cbiAgcmV0dXJuIG5vZGVJbmZvO1xufVxuXG52YXIgcHVyZ2VDYWNoZSA9IGZ1bmN0aW9uIHB1cmdlQ2FjaGUodWlkKSB7XG4gIHJldHVybiBkZWxldGUgY29tcHV0ZWRTdHlsZUNhY2hlW3VpZF07XG59O1xuXG5mdW5jdGlvbiBhdXRvSW5jKHNlZWQpIHtcbiAgaWYgKHNlZWQgPT09IHZvaWQgMCkge1xuICAgIHNlZWQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKytzZWVkO1xuICB9O1xufVxuXG52YXIgdWlkID0gYXV0b0luYygpO1xuXG4vKipcbiAqIDxUZXh0YXJlYUF1dG9zaXplIC8+XG4gKi9cbnZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9OyAvLyBJRTExIGhhcyBhIHByb2JsZW0gd2l0aCBldmFsIHNvdXJjZSBtYXBzLCBjYW4gYmUgcmVwcm9kdWNlZCB3aXRoOlxuLy8gZXZhbCgnXCJ1c2Ugc3RyaWN0XCI7IHZhciBvbk5leHRGcmFtZSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTsgb25OZXh0RnJhbWUoNCk7Jylcbi8vIHNvIHdlIGJpbmQgd2luZG93IGFzIGNvbnRleHQgaW4gZGV2IG1vZGVzXG5cblxudmFyIF9yZWYgPSBpc0Jyb3dzZXIgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAnZGV2ZWxvcG1lbnQnID8gW3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZV0gOiBbd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyksIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyldIDogW3NldFRpbWVvdXQsIGNsZWFyVGltZW91dF07XG52YXIgb25OZXh0RnJhbWUgPSBfcmVmWzBdO1xudmFyIGNsZWFyTmV4dEZyYW1lQWN0aW9uID0gX3JlZlsxXTtcblxudmFyIFRleHRhcmVhQXV0b3NpemUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVGV4dGFyZWFBdXRvc2l6ZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGV4dGFyZWFBdXRvc2l6ZShwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgIF90aGlzLl9yZXNpemVMb2NrID0gZmFsc2U7XG5cbiAgICBfdGhpcy5fb25Sb290RE9NTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBfdGhpcy5fcm9vdERPTU5vZGUgPSBub2RlO1xuXG4gICAgICBfdGhpcy5wcm9wcy5pbnB1dFJlZihub2RlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuX29uQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoIV90aGlzLl9jb250cm9sbGVkKSB7XG4gICAgICAgIF90aGlzLl9yZXNpemVDb21wb25lbnQoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoZXZlbnQpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fcmVzaXplQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgICBjYWxsYmFjayA9IG5vb3A7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgX3RoaXMuX3Jvb3RET01Ob2RlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBub2RlSGVpZ2h0ID0gY2FsY3VsYXRlTm9kZUhlaWdodChfdGhpcy5fcm9vdERPTU5vZGUsIF90aGlzLl91aWQsIF90aGlzLnByb3BzLnVzZUNhY2hlRm9yRE9NTWVhc3VyZW1lbnRzLCBfdGhpcy5wcm9wcy5taW5Sb3dzLCBfdGhpcy5wcm9wcy5tYXhSb3dzKTtcblxuICAgICAgaWYgKG5vZGVIZWlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGVpZ2h0ID0gbm9kZUhlaWdodC5oZWlnaHQsXG4gICAgICAgICAgbWluSGVpZ2h0ID0gbm9kZUhlaWdodC5taW5IZWlnaHQsXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gbm9kZUhlaWdodC5tYXhIZWlnaHQsXG4gICAgICAgICAgcm93Q291bnQgPSBub2RlSGVpZ2h0LnJvd0NvdW50O1xuICAgICAgX3RoaXMucm93Q291bnQgPSByb3dDb3VudDtcblxuICAgICAgaWYgKF90aGlzLnN0YXRlLmhlaWdodCAhPT0gaGVpZ2h0IHx8IF90aGlzLnN0YXRlLm1pbkhlaWdodCAhPT0gbWluSGVpZ2h0IHx8IF90aGlzLnN0YXRlLm1heEhlaWdodCAhPT0gbWF4SGVpZ2h0KSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICBtaW5IZWlnaHQ6IG1pbkhlaWdodCxcbiAgICAgICAgICBtYXhIZWlnaHQ6IG1heEhlaWdodFxuICAgICAgICB9LCBjYWxsYmFjayk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjYWxsYmFjaygpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhlaWdodDogcHJvcHMuc3R5bGUgJiYgcHJvcHMuc3R5bGUuaGVpZ2h0IHx8IDAsXG4gICAgICBtaW5IZWlnaHQ6IC1JbmZpbml0eSxcbiAgICAgIG1heEhlaWdodDogSW5maW5pdHlcbiAgICB9O1xuICAgIF90aGlzLl91aWQgPSB1aWQoKTtcbiAgICBfdGhpcy5fY29udHJvbGxlZCA9IHR5cGVvZiBwcm9wcy52YWx1ZSA9PT0gJ3N0cmluZyc7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFRleHRhcmVhQXV0b3NpemUucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIF9pbnB1dFJlZiA9IF9wcm9wcy5pbnB1dFJlZixcbiAgICAgICAgX21heFJvd3MgPSBfcHJvcHMubWF4Um93cyxcbiAgICAgICAgX21pblJvd3MgPSBfcHJvcHMubWluUm93cyxcbiAgICAgICAgX29uSGVpZ2h0Q2hhbmdlID0gX3Byb3BzLm9uSGVpZ2h0Q2hhbmdlLFxuICAgICAgICBfdXNlQ2FjaGVGb3JET01NZWFzdXJlbWVudHMgPSBfcHJvcHMudXNlQ2FjaGVGb3JET01NZWFzdXJlbWVudHMsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgW1wiaW5wdXRSZWZcIiwgXCJtYXhSb3dzXCIsIFwibWluUm93c1wiLCBcIm9uSGVpZ2h0Q2hhbmdlXCIsIFwidXNlQ2FjaGVGb3JET01NZWFzdXJlbWVudHNcIl0pO1xuXG4gICAgcHJvcHMuc3R5bGUgPSBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIHtcbiAgICAgIGhlaWdodDogdGhpcy5zdGF0ZS5oZWlnaHRcbiAgICB9KTtcbiAgICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5tYXgocHJvcHMuc3R5bGUubWF4SGVpZ2h0IHx8IEluZmluaXR5LCB0aGlzLnN0YXRlLm1heEhlaWdodCk7XG5cbiAgICBpZiAobWF4SGVpZ2h0IDwgdGhpcy5zdGF0ZS5oZWlnaHQpIHtcbiAgICAgIHByb3BzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkNoYW5nZSxcbiAgICAgIHJlZjogdGhpcy5fb25Sb290RE9NTm9kZVxuICAgIH0pKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHRoaXMuX3Jlc2l6ZUNvbXBvbmVudCgpOyAvLyBXb3JraW5nIGFyb3VuZCBGaXJlZm94IGJ1ZyB3aGljaCBydW5zIHJlc2l6ZSBsaXN0ZW5lcnMgZXZlbiB3aGVuIG90aGVyIEpTIGlzIHJ1bm5pbmcgYXQgdGhlIHNhbWUgbW9tZW50XG4gICAgLy8gY2F1c2luZyBjb21wZXRpbmcgcmVyZW5kZXJzIChkdWUgdG8gc2V0U3RhdGUgaW4gdGhlIGxpc3RlbmVyKSBpbiBSZWFjdC5cbiAgICAvLyBNb3JlIGNhbiBiZSBmb3VuZCBoZXJlIC0gZmFjZWJvb2svcmVhY3QjNjMyNFxuXG5cbiAgICB0aGlzLl9yZXNpemVMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpczIuX3Jlc2l6ZUxvY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpczIuX3Jlc2l6ZUxvY2sgPSB0cnVlO1xuXG4gICAgICBfdGhpczIuX3Jlc2l6ZUNvbXBvbmVudChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuX3Jlc2l6ZUxvY2sgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fcmVzaXplTGlzdGVuZXIpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIGlmIChwcmV2UHJvcHMgIT09IHRoaXMucHJvcHMpIHtcbiAgICAgIHRoaXMuX2NsZWFyTmV4dEZyYW1lKCk7XG5cbiAgICAgIHRoaXMuX29uTmV4dEZyYW1lQWN0aW9uSWQgPSBvbk5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuX3Jlc2l6ZUNvbXBvbmVudCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaGVpZ2h0ICE9PSBwcmV2U3RhdGUuaGVpZ2h0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uSGVpZ2h0Q2hhbmdlKHRoaXMuc3RhdGUuaGVpZ2h0LCB0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5fY2xlYXJOZXh0RnJhbWUoKTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9yZXNpemVMaXN0ZW5lcik7XG4gICAgcHVyZ2VDYWNoZSh0aGlzLl91aWQpO1xuICB9O1xuXG4gIF9wcm90by5fY2xlYXJOZXh0RnJhbWUgPSBmdW5jdGlvbiBfY2xlYXJOZXh0RnJhbWUoKSB7XG4gICAgY2xlYXJOZXh0RnJhbWVBY3Rpb24odGhpcy5fb25OZXh0RnJhbWVBY3Rpb25JZCk7XG4gIH07XG5cbiAgcmV0dXJuIFRleHRhcmVhQXV0b3NpemU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblRleHRhcmVhQXV0b3NpemUucHJvcFR5cGVzID0ge1xuICBpbnB1dFJlZjogUHJvcFR5cGVzLmZ1bmMsXG4gIG1heFJvd3M6IFByb3BUeXBlcy5udW1iZXIsXG4gIG1pblJvd3M6IFByb3BUeXBlcy5udW1iZXIsXG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25IZWlnaHRDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICB1c2VDYWNoZUZvckRPTU1lYXN1cmVtZW50czogUHJvcFR5cGVzLmJvb2wsXG4gIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuVGV4dGFyZWFBdXRvc2l6ZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGlucHV0UmVmOiBub29wLFxuICBvbkNoYW5nZTogbm9vcCxcbiAgb25IZWlnaHRDaGFuZ2U6IG5vb3AsXG4gIHVzZUNhY2hlRm9yRE9NTWVhc3VyZW1lbnRzOiBmYWxzZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVGV4dGFyZWFBdXRvc2l6ZTtcbiIsInZhciBiYXNlSXNFcXVhbCA9IHJlcXVpcmUoJy4vX2Jhc2VJc0VxdWFsJyk7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogb2JqZWN0ID09PSBvdGhlcjtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXF1YWw7XG4iLCJ2YXIgYmFzZUlzRXF1YWxEZWVwID0gcmVxdWlyZSgnLi9fYmFzZUlzRXF1YWxEZWVwJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzRXF1YWw7XG4iLCJ2YXIgU3RhY2sgPSByZXF1aXJlKCcuL19TdGFjaycpLFxuICAgIGVxdWFsQXJyYXlzID0gcmVxdWlyZSgnLi9fZXF1YWxBcnJheXMnKSxcbiAgICBlcXVhbEJ5VGFnID0gcmVxdWlyZSgnLi9fZXF1YWxCeVRhZycpLFxuICAgIGVxdWFsT2JqZWN0cyA9IHJlcXVpcmUoJy4vX2VxdWFsT2JqZWN0cycpLFxuICAgIGdldFRhZyA9IHJlcXVpcmUoJy4vX2dldFRhZycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0J1ZmZlciA9IHJlcXVpcmUoJy4vaXNCdWZmZXInKSxcbiAgICBpc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL2lzVHlwZWRBcnJheScpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgIG9iaklzT2JqID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgfVxuICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNFcXVhbERlZXA7XG4iLCJ2YXIgTWFwQ2FjaGUgPSByZXF1aXJlKCcuL19NYXBDYWNoZScpLFxuICAgIHNldENhY2hlQWRkID0gcmVxdWlyZSgnLi9fc2V0Q2FjaGVBZGQnKSxcbiAgICBzZXRDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX3NldENhY2hlSGFzJyk7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5TZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxubW9kdWxlLmV4cG9ydHMgPSBTZXRDYWNoZTtcbiIsIi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBhZGRcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQGFsaWFzIHB1c2hcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldENhY2hlQWRkO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldENhY2hlSGFzO1xuIiwiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcnJheVNvbWU7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYWNoZUhhcztcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBVaW50OEFycmF5ID0gcmVxdWlyZSgnLi9fVWludDhBcnJheScpLFxuICAgIGVxID0gcmVxdWlyZSgnLi9lcScpLFxuICAgIGVxdWFsQXJyYXlzID0gcmVxdWlyZSgnLi9fZXF1YWxBcnJheXMnKSxcbiAgICBtYXBUb0FycmF5ID0gcmVxdWlyZSgnLi9fbWFwVG9BcnJheScpLFxuICAgIHNldFRvQXJyYXkgPSByZXF1aXJlKCcuL19zZXRUb0FycmF5Jyk7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgYm9vbFRhZzpcbiAgICBjYXNlIGRhdGVUYWc6XG4gICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgY2FzZSBlcnJvclRhZzpcbiAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICBjYXNlIG1hcFRhZzpcbiAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXF1YWxCeVRhZztcbiIsIi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwVG9BcnJheTtcbiIsIi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VG9BcnJheTtcbiIsInZhciBnZXRBbGxLZXlzID0gcmVxdWlyZSgnLi9fZ2V0QWxsS2V5cycpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDE7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gIH1cbiAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcXVhbE9iamVjdHM7XG4iLCIvKipcbiAqIFxuICogQGZpbGUgU3RhdHVzIFNraWxsIENhcmQgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL21lc3NhZ2VzJztcbmltcG9ydCB7IFNLSUxMU19FUlJPUl9FWFRFUk5BTF9BVVRILCBTS0lMTFNfRVJST1JfQklMTElORywgU0tJTExTX0VSUk9SX1VOS05PV04sIFNLSUxMU19FUlJPUl9JTlZPQ0FUSU9OUywgU0tJTExTX0VSUk9SX0ZJTEVfUFJPQ0VTU0lORywgU0tJTExTX0VSUk9SX0lOVkFMSURfRklMRV9TSVpFLCBTS0lMTFNfRVJST1JfSU5WQUxJRF9GSUxFX0ZPUk1BVCwgU0tJTExTX1NUQVRVU19QRU5ESU5HLCBTS0lMTFNfU1RBVFVTX0lOVk9LRUQgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMnO1xuXG52YXIgU3RhdHVzID0gZnVuY3Rpb24gU3RhdHVzKF9yZWYpIHtcbiAgdmFyIGNhcmQgPSBfcmVmLmNhcmQ7XG4gIHZhciBfY2FyZCRzdGF0dXMgPSBjYXJkLnN0YXR1cyxcbiAgICAgIHN0YXR1cyA9IF9jYXJkJHN0YXR1cyA9PT0gdm9pZCAwID8ge30gOiBfY2FyZCRzdGF0dXM7XG4gIHZhciBjb2RlID0gc3RhdHVzLmNvZGUsXG4gICAgICBtZXNzYWdlID0gc3RhdHVzLm1lc3NhZ2U7XG4gIHZhciBsb2NhbGl6ZWRNZXNzYWdlID0gbWVzc2FnZXMuc2tpbGxVbmtub3duRXJyb3I7XG5cbiAgc3dpdGNoIChjb2RlKSB7XG4gICAgY2FzZSBTS0lMTFNfRVJST1JfSU5WQUxJRF9GSUxFX1NJWkU6XG4gICAgICBsb2NhbGl6ZWRNZXNzYWdlID0gbWVzc2FnZXMuc2tpbGxJbnZhbGlkRmlsZVNpemVFcnJvcjtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTS0lMTFNfRVJST1JfSU5WQUxJRF9GSUxFX0ZPUk1BVDpcbiAgICAgIGxvY2FsaXplZE1lc3NhZ2UgPSBtZXNzYWdlcy5za2lsbEludmFsaWRGaWxlRXh0ZW5zaW9uRXJyb3I7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU0tJTExTX0VSUk9SX0VYVEVSTkFMX0FVVEg6XG4gICAgY2FzZSBTS0lMTFNfRVJST1JfQklMTElORzpcbiAgICBjYXNlIFNLSUxMU19FUlJPUl9JTlZPQ0FUSU9OUzpcbiAgICBjYXNlIFNLSUxMU19FUlJPUl9VTktOT1dOOlxuICAgICAgbG9jYWxpemVkTWVzc2FnZSA9IG1lc3NhZ2VzLnNraWxsVW5rbm93bkVycm9yO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNLSUxMU19FUlJPUl9GSUxFX1BST0NFU1NJTkc6XG4gICAgICBsb2NhbGl6ZWRNZXNzYWdlID0gbWVzc2FnZXMuc2tpbGxGaWxlUHJvY2Vzc2luZ0Vycm9yO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNLSUxMU19TVEFUVVNfUEVORElORzpcbiAgICAgIGxvY2FsaXplZE1lc3NhZ2UgPSBtZXNzYWdlcy5za2lsbFBlbmRpbmdTdGF0dXM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU0tJTExTX1NUQVRVU19JTlZPS0VEOlxuICAgICAgbG9jYWxpemVkTWVzc2FnZSA9IG1lc3NhZ2VzLnNraWxsSW52b2tlZFN0YXR1cztcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgfVxuXG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBsb2NhbGl6ZWRNZXNzYWdlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFN0YXR1czsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uQ29weSA9IGZ1bmN0aW9uIEljb25Db3B5KF9yZWYpIHtcbiAgdmFyIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIF9yZWYkY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcmVmJGNvbG9yID09PSB2b2lkIDAgPyAnIzk5OScgOiBfcmVmJGNvbG9yLFxuICAgICAgX3JlZiRoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB2b2lkIDAgPyAxNCA6IF9yZWYkaGVpZ2h0LFxuICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgX3JlZiR3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICB3aWR0aCA9IF9yZWYkd2lkdGggPT09IHZvaWQgMCA/IDE0IDogX3JlZiR3aWR0aDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjZXNzaWJsZVNWRywge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLWNvcHkgXCIuY29uY2F0KGNsYXNzTmFtZSksXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgdGl0bGU6IHRpdGxlLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsXG4gICAgd2lkdGg6IHdpZHRoXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZmlsbC1jb2xvclwiLFxuICAgIGQ6IFwiTTEgMTFhMSAxIDAgMCAxLTEtMVYxYTEgMSAwIDAgMSAxLTFoOWExIDEgMCAwIDEgMCAySDJ2OGExIDEgMCAwIDEtMSAxelwiLFxuICAgIGZpbGw6IGNvbG9yXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk0xMyAzSDN2MTBhMSAxIDAgMCAwIDEgMWg5YTEgMSAwIDAgMCAxLTFWNGExIDEgMCAwIDAtMS0xem0tMyA4SDdhMSAxIDAgMCAxIDAtMmgzYTEgMSAwIDAgMSAwIDJ6bTAtM0g3YTEgMSAwIDAgMSAwLTJoM2ExIDEgMCAwIDEgMCAyelwiLFxuICAgIGZpbGw6IGNvbG9yXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEljb25Db3B5OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY2Nlc3NpYmxlU1ZHIGZyb20gJy4uL2FjY2Vzc2libGUtc3ZnJztcblxudmFyIEljb25FeHBhbmQgPSBmdW5jdGlvbiBJY29uRXhwYW5kKF9yZWYpIHtcbiAgdmFyIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIF9yZWYkY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcmVmJGNvbG9yID09PSB2b2lkIDAgPyAnIzk3OTc5NycgOiBfcmVmJGNvbG9yLFxuICAgICAgX3JlZiRoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB2b2lkIDAgPyAxMyA6IF9yZWYkaGVpZ2h0LFxuICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgX3JlZiR3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICB3aWR0aCA9IF9yZWYkd2lkdGggPT09IHZvaWQgMCA/IDEzIDogX3JlZiR3aWR0aDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjZXNzaWJsZVNWRywge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLWV4cGFuZCBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdmlld0JveDogXCIwIDAgMTMgMTNcIixcbiAgICB3aWR0aDogd2lkdGhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmaWxsLWNvbG9yXCIsXG4gICAgZDogXCJNMTIgMEg2YTEgMSAwIDAgMCAwIDJoNXY1YTEgMSAwIDAgMCAyIDBWMWExIDEgMCAwIDAtMS0xek03IDExSDJWNmExIDEgMCAwIDAtMiAwdjZhMSAxIDAgMCAwIDEgMWg2YTEgMSAwIDAgMCAwLTJ6XCIsXG4gICAgZmlsbDogY29sb3JcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbkV4cGFuZDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uQ29sbGFwc2UgPSBmdW5jdGlvbiBJY29uQ29sbGFwc2UoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICcjOTc5Nzk3JyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDEzIDogX3JlZiRoZWlnaHQsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gMTMgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tY29sbGFwc2UgXCIuY29uY2F0KGNsYXNzTmFtZSksXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgdGl0bGU6IHRpdGxlLFxuICAgIHZpZXdCb3g6IFwiMCAwIDEzIDEzXCIsXG4gICAgd2lkdGg6IHdpZHRoXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZmlsbC1jb2xvclwiLFxuICAgIGQ6IFwiTTggNmg0YTEgMSAwIDAgMCAwLTJIOVYxYTEgMSAwIDAgMC0yIDB2NGExIDEgMCAwIDAgMSAxek0xIDloM3YzYTEgMSAwIDAgMCAyIDBWOGExIDEgMCAwIDAtMS0xSDFhMSAxIDAgMCAwIDAgMnpcIixcbiAgICBmaWxsOiBjb2xvclxuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJY29uQ29sbGFwc2U7IiwiLyoqXG4gKiBcbiAqIEBmaWxlIFRyYW5zY3JpcHQgdXRpbHNcbiAqIEBhdXRob3IgQm94XG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlcmUgaXMgYSB2YWxpZCBzdGFydCB0aW1lXG4gKlxuICogQHBhcmFtIHtTa2lsbENhcmRFbnRyeVRpbWVTbGljZX0gdGltZXNsaWNlcyAtIHNraWxsIGVudHJ5IHRpbWUgc2xpY2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIHRoZXJlIGlzIGEgdmFsaWQgc3RhcnQgdGltZVxuICovXG52YXIgaXNWYWxpZFN0YXJ0VGltZSA9IGZ1bmN0aW9uIGlzVmFsaWRTdGFydFRpbWUodGltZXNsaWNlKSB7XG4gIHJldHVybiAhIXRpbWVzbGljZSAmJiB0eXBlb2YgdGltZXNsaWNlLnN0YXJ0ID09PSAnbnVtYmVyJztcbn07XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBhIHZhbGlkIHRpbWUgc2xpY2Ugd2l0aCB2YWxpZCBzdGFydCB0aW1lXG4gKlxuICogQHBhcmFtIHtTa2lsbENhcmRFbnRyeVRpbWVTbGljZVtdfSB0aW1lc2xpY2VzIC0gc2tpbGwgZW50cnkgdGltZSBzbGljZVxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgaXQgaXMgYSB2YWxpZCB0aW1lIHNsaWNlXG4gKi9cblxuXG52YXIgaXNWYWxpZFRpbWVTbGljZSA9IGZ1bmN0aW9uIGlzVmFsaWRUaW1lU2xpY2UodGltZXNsaWNlcykge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aW1lc2xpY2VzKSAmJiBpc1ZhbGlkU3RhcnRUaW1lKHRpbWVzbGljZXNbMF0pO1xufTtcblxuZXhwb3J0IHsgaXNWYWxpZFRpbWVTbGljZSwgaXNWYWxpZFN0YXJ0VGltZSB9OyIsIi8qKlxuICogXG4gKiBAZmlsZSBSZWFkIG9ubHkgdHJhbnNjcmlwdCByb3cgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGxhaW5CdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9wbGFpbi1idXR0b24vUGxhaW5CdXR0b24nO1xuXG52YXIgUmVhZE9ubHlUcmFuc2NyaXB0Um93ID0gZnVuY3Rpb24gUmVhZE9ubHlUcmFuc2NyaXB0Um93KF9yZWYpIHtcbiAgdmFyIHRpbWUgPSBfcmVmLnRpbWUsXG4gICAgICBfcmVmJHRleHQgPSBfcmVmLnRleHQsXG4gICAgICB0ZXh0ID0gX3JlZiR0ZXh0ID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkdGV4dCxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmLm9uQ2xpY2ssXG4gICAgICBpbnRlcmFjdGlvblRhcmdldCA9IF9yZWYuaW50ZXJhY3Rpb25UYXJnZXQ7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWluQnV0dG9uLCB7XG4gICAgY2xhc3NOYW1lOiBcImJlLXRyYW5zY3JpcHQtcm93XCIsXG4gICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBpbnRlcmFjdGlvblRhcmdldCxcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgdGltZSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmUtdHJhbnNjcmlwdC10aW1lXCJcbiAgfSwgdGltZSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiZS10cmFuc2NyaXB0LXRleHRcIlxuICB9LCB0ZXh0KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFkT25seVRyYW5zY3JpcHRSb3c7IiwiLyoqXG4gKiBcbiAqIEBmaWxlIEVkaXRhYmxlIHRyYW5zY3JpcHQgcm93IGNvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IFRleHRhcmVhQXV0b3NpemUgZnJvbSAncmVhY3QtdGV4dGFyZWEtYXV0b3NpemUnO1xuaW1wb3J0IFByaW1hcnlCdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9wcmltYXJ5LWJ1dHRvbi9QcmltYXJ5QnV0dG9uJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9idXR0b24vQnV0dG9uJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi8uLi8uLi9jb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgU0tJTExTX1RBUkdFVFMgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vaW50ZXJhY3Rpb25UYXJnZXRzJztcbmltcG9ydCAnLi9FZGl0aW5nVHJhbnNjcmlwdFJvdy5zY3NzJztcblxudmFyIEVkaXRpbmdUcmFuc2NyaXB0Um93ID0gZnVuY3Rpb24gRWRpdGluZ1RyYW5zY3JpcHRSb3coX3JlZikge1xuICB2YXIgdGltZSA9IF9yZWYudGltZSxcbiAgICAgIF9yZWYkdGV4dCA9IF9yZWYudGV4dCxcbiAgICAgIHRleHQgPSBfcmVmJHRleHQgPT09IHZvaWQgMCA/ICcnIDogX3JlZiR0ZXh0LFxuICAgICAgb25TYXZlID0gX3JlZi5vblNhdmUsXG4gICAgICBvbkNhbmNlbCA9IF9yZWYub25DYW5jZWwsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2U7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmUtdHJhbnNjcmlwdC1yb3cgYmUtdHJhbnNjcmlwdC1lZGl0aW5nLXJvd1wiXG4gIH0sIHRpbWUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJlLXRyYW5zY3JpcHQtdGltZVwiXG4gIH0sIHRpbWUpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmUtdHJhbnNjcmlwdC10ZXh0XCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0YXJlYUF1dG9zaXplLCB7XG4gICAgbWF4Um93czogMTAsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgIHZhbHVlOiB0ZXh0XG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmUtdHJhbnNjcmlwdC1idXR0b25zXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFNLSUxMU19UQVJHRVRTLlRSQU5TQ1JJUFRTLkVESVRfQ0FOQ0VMLFxuICAgIG9uQ2xpY2s6IG9uQ2FuY2VsLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5jYW5jZWwpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChQcmltYXJ5QnV0dG9uLCB7XG4gICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBTS0lMTFNfVEFSR0VUUy5UUkFOU0NSSVBUUy5FRElUX1NBVkUsXG4gICAgb25DbGljazogb25TYXZlLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5zYXZlKSkpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBFZGl0aW5nVHJhbnNjcmlwdFJvdzsiLCIvKipcbiAqIFxuICogQGZpbGUgVHJhbnNjcmlwdCByb3cgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZm9ybWF0VGltZSB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2RhdGV0aW1lJztcbmltcG9ydCBSZWFkT25seVRyYW5zY3JpcHRSb3cgZnJvbSAnLi9SZWFkT25seVRyYW5zY3JpcHRSb3cnO1xuaW1wb3J0IEVkaXRpbmdUcmFuc2NyaXB0Um93IGZyb20gJy4vRWRpdGluZ1RyYW5zY3JpcHRSb3cnO1xuaW1wb3J0IHsgaXNWYWxpZFRpbWVTbGljZSB9IGZyb20gJy4vdGltZVNsaWNlVXRpbHMnO1xuaW1wb3J0ICcuL1RyYW5zY3JpcHRSb3cuc2Nzcyc7XG5cbnZhciBUcmFuc2NyaXB0Um93ID0gZnVuY3Rpb24gVHJhbnNjcmlwdFJvdyhfcmVmKSB7XG4gIHZhciBhcHBlYXJzID0gX3JlZi5hcHBlYXJzLFxuICAgICAgdGV4dCA9IF9yZWYudGV4dCxcbiAgICAgIGlzRWRpdGluZyA9IF9yZWYuaXNFZGl0aW5nLFxuICAgICAgb25DbGljayA9IF9yZWYub25DbGljayxcbiAgICAgIG9uU2F2ZSA9IF9yZWYub25TYXZlLFxuICAgICAgb25DYW5jZWwgPSBfcmVmLm9uQ2FuY2VsLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgaW50ZXJhY3Rpb25UYXJnZXQgPSBfcmVmLmludGVyYWN0aW9uVGFyZ2V0O1xuICB2YXIgaXNWYWxpZCA9IGlzVmFsaWRUaW1lU2xpY2UoYXBwZWFycykgJiYgQXJyYXkuaXNBcnJheShhcHBlYXJzKSAmJiBhcHBlYXJzLmxlbmd0aCA9PT0gMTtcbiAgdmFyIHRpbWVTbGljZSA9IGFwcGVhcnM7XG4gIHZhciBzdGFydCA9IGlzVmFsaWQgPyBmb3JtYXRUaW1lKHRpbWVTbGljZVswXS5zdGFydCkgOiB1bmRlZmluZWQ7XG4gIHJldHVybiBpc0VkaXRpbmcgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRpbmdUcmFuc2NyaXB0Um93LCB7XG4gICAgb25DYW5jZWw6IG9uQ2FuY2VsLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICBvblNhdmU6IG9uU2F2ZSxcbiAgICB0ZXh0OiB0ZXh0LFxuICAgIHRpbWU6IHN0YXJ0XG4gIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChSZWFkT25seVRyYW5zY3JpcHRSb3csIHtcbiAgICBpbnRlcmFjdGlvblRhcmdldDogaW50ZXJhY3Rpb25UYXJnZXQsXG4gICAgb25DbGljazogb25DbGljayxcbiAgICB0ZXh0OiB0ZXh0LFxuICAgIHRpbWU6IHN0YXJ0XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNjcmlwdFJvdzsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vKipcbiAqIFxuICogQGZpbGUgVHJhbnNjcmlwdCBjb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgbmluZXMgfSBmcm9tICcuLi8uLi8uLi8uLi9zdHlsZXMvdmFyaWFibGVzJztcbmltcG9ydCBQbGFpbkJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL3BsYWluLWJ1dHRvbi9QbGFpbkJ1dHRvbic7XG5pbXBvcnQgSWNvbkVkaXQgZnJvbSAnLi4vLi4vLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uRWRpdCc7XG5pbXBvcnQgSWNvbkNvcHkgZnJvbSAnLi4vLi4vLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uQ29weSc7XG5pbXBvcnQgSWNvbkV4cGFuZCBmcm9tICcuLi8uLi8uLi8uLi9pY29ucy9nZW5lcmFsL0ljb25FeHBhbmQnO1xuaW1wb3J0IEljb25Db2xsYXBzZSBmcm9tICcuLi8uLi8uLi8uLi9pY29ucy9nZW5lcmFsL0ljb25Db2xsYXBzZSc7XG5pbXBvcnQgeyBmb3JtYXRUaW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvZGF0ZXRpbWUnO1xuaW1wb3J0IExvYWRpbmdJbmRpY2F0b3JXcmFwcGVyIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbG9hZGluZy1pbmRpY2F0b3IvTG9hZGluZ0luZGljYXRvcldyYXBwZXInO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy90b29sdGlwL1Rvb2x0aXAnO1xuaW1wb3J0IHsgY29weSB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2Rvd25sb2FkJztcbmltcG9ydCB7IFNLSUxMU19UQVJHRVRTIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2ludGVyYWN0aW9uVGFyZ2V0cyc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL21lc3NhZ2VzJztcbmltcG9ydCB7IGlzVmFsaWRUaW1lU2xpY2UgfSBmcm9tICcuL3RpbWVTbGljZVV0aWxzJztcbmltcG9ydCBUcmFuc2NyaXB0Um93IGZyb20gJy4vVHJhbnNjcmlwdFJvdyc7XG5pbXBvcnQgJy4vVHJhbnNjcmlwdC5zY3NzJztcblxudmFyIFRyYW5zY3JpcHQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUcmFuc2NyaXB0LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNjcmlwdCgpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2NyaXB0KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFRyYW5zY3JpcHQpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBpc0VkaXRpbmdJbmRleDogdW5kZWZpbmVkLFxuICAgICAgbmV3VHJhbnNjcmlwdFRleHQ6ICcnLFxuICAgICAgaXNDb2xsYXBzZWQ6IHRydWUsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwidHJhbnNjcmlwdFJlZHVjZXJcIiwgZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBfcmVmKSB7XG4gICAgICB2YXIgYXBwZWFycyA9IF9yZWYuYXBwZWFycyxcbiAgICAgICAgICB0ZXh0ID0gX3JlZi50ZXh0O1xuICAgICAgdmFyIHN0YXJ0ID0gaXNWYWxpZFRpbWVTbGljZShhcHBlYXJzKSAmJiBBcnJheS5pc0FycmF5KGFwcGVhcnMpID8gXCJcIi5jb25jYXQoZm9ybWF0VGltZShhcHBlYXJzWzBdLnN0YXJ0KSwgXCI6XCIpIDogJyc7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoYWNjdW11bGF0b3IpLmNvbmNhdChzdGFydCwgXCIgXCIpLmNvbmNhdCh0ZXh0IHx8ICcnLCBcIlxcclxcblwiKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJ0cmFuc2NyaXB0TWFwcGVyXCIsIGZ1bmN0aW9uIChfcmVmMiwgaW5kZXgpIHtcbiAgICAgIHZhciBhcHBlYXJzID0gX3JlZjIuYXBwZWFycyxcbiAgICAgICAgICB0ZXh0ID0gX3JlZjIudGV4dDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGlzRWRpdGluZ0luZGV4ID0gX3RoaXMkc3RhdGUuaXNFZGl0aW5nSW5kZXgsXG4gICAgICAgICAgbmV3VHJhbnNjcmlwdFRleHQgPSBfdGhpcyRzdGF0ZS5uZXdUcmFuc2NyaXB0VGV4dDtcbiAgICAgIHZhciBpc0VkaXRpbmdSb3cgPSBpc0VkaXRpbmdJbmRleCA9PT0gaW5kZXg7XG4gICAgICB2YXIgdHJhbnNjcmlwdFRleHQgPSBpc0VkaXRpbmdSb3cgPyBuZXdUcmFuc2NyaXB0VGV4dCA6IHRleHQ7XG4gICAgICB2YXIgaW50ZXJhY3Rpb25UYXJnZXQgPSBpc0VkaXRpbmdSb3cgPyBTS0lMTFNfVEFSR0VUUy5UUkFOU0NSSVBUUy5FRElUX1RFWFQgOiBTS0lMTFNfVEFSR0VUUy5UUkFOU0NSSVBUUy5UUkFOU0NSSVBUO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNjcmlwdFJvdywge1xuICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICBhcHBlYXJzOiBhcHBlYXJzLFxuICAgICAgICBpbnRlcmFjdGlvblRhcmdldDogaW50ZXJhY3Rpb25UYXJnZXQsXG4gICAgICAgIGlzRWRpdGluZzogaXNFZGl0aW5nUm93LFxuICAgICAgICBvbkNhbmNlbDogX3RoaXMub25DYW5jZWwsXG4gICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5vbkNoYW5nZSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMub25DbGljayhpbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uU2F2ZTogX3RoaXMub25TYXZlLFxuICAgICAgICB0ZXh0OiB0cmFuc2NyaXB0VGV4dFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwidG9nZ2xlSXNFZGl0aW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc0VkaXRpbmdJbmRleDogdHlwZW9mIHByZXZTdGF0ZS5pc0VkaXRpbmdJbmRleCA9PT0gJ251bWJlcicgPyB1bmRlZmluZWQgOiAtMVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25TYXZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGVudHJpZXMgPSBfdGhpcyRwcm9wcy5jYXJkLmVudHJpZXMsXG4gICAgICAgICAgb25Ta2lsbENoYW5nZSA9IF90aGlzJHByb3BzLm9uU2tpbGxDaGFuZ2U7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgaXNFZGl0aW5nSW5kZXggPSBfdGhpcyRzdGF0ZTIuaXNFZGl0aW5nSW5kZXgsXG4gICAgICAgICAgbmV3VHJhbnNjcmlwdFRleHQgPSBfdGhpcyRzdGF0ZTIubmV3VHJhbnNjcmlwdFRleHQ7XG5cbiAgICAgIGlmICh0eXBlb2YgaXNFZGl0aW5nSW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpc0VkaXRpbmdJbmRleF07XG5cbiAgICAgIGlmIChlbnRyeS50ZXh0ID09PSBuZXdUcmFuc2NyaXB0VGV4dCkge1xuICAgICAgICBfdGhpcy5vbkNhbmNlbCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICBpc0VkaXRpbmdJbmRleDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgb25Ta2lsbENoYW5nZShudWxsLCBudWxsLCBbe1xuICAgICAgICAgIHJlcGxhY2VtZW50OiBfb2JqZWN0U3ByZWFkKHt9LCBlbnRyeSwge1xuICAgICAgICAgICAgdGV4dDogbmV3VHJhbnNjcmlwdFRleHRcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByZXBsYWNlZDogZW50cnlcbiAgICAgICAgfV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uQ2FuY2VsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNFZGl0aW5nSW5kZXg6IC0xLFxuICAgICAgICBuZXdUcmFuc2NyaXB0VGV4dDogJydcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uQ2hhbmdlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG5ld1RyYW5zY3JpcHRUZXh0OiBjdXJyZW50VGFyZ2V0LnZhbHVlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkNsaWNrXCIsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIGVudHJpZXMgPSBfdGhpcy5wcm9wcy5jYXJkLmVudHJpZXM7XG4gICAgICB2YXIgaXNFZGl0aW5nSW5kZXggPSBfdGhpcy5zdGF0ZS5pc0VkaXRpbmdJbmRleDtcblxuICAgICAgaWYgKHR5cGVvZiBpc0VkaXRpbmdJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRWRpdGluZ0luZGV4OiBpbmRleCxcbiAgICAgICAgICBuZXdUcmFuc2NyaXB0VGV4dDogZW50cmllc1tpbmRleF0udGV4dFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnByZXZpZXdTZWdtZW50KGluZGV4KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJjb3B5VHJhbnNjcmlwdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZW50cmllcyA9IF90aGlzLnByb3BzLmNhcmQuZW50cmllcztcbiAgICAgIHZhciBjb3BpZWRDbGFzcyA9ICdiZS10cmFuc2NyaXB0LWNvcGllZCc7XG4gICAgICBjb3B5KGVudHJpZXMucmVkdWNlKF90aGlzLnRyYW5zY3JpcHRSZWR1Y2VyLCAnJykpOyAvLyBBbmltYXRlIHRoZSBidXR0b24gYnkgYWRkaW5nIGEgY2xhc3NcblxuICAgICAgaWYgKF90aGlzLmNvcHlCdG4pIHtcbiAgICAgICAgX3RoaXMuY29weUJ0bi5jbGFzc0xpc3QuYWRkKGNvcGllZENsYXNzKTtcbiAgICAgIH0gLy8gUmVtb3ZlIHRoZSBhbmltYXRpb24gY2xhc3NcblxuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLmNvcHlCdG4pIHtcbiAgICAgICAgICBfdGhpcy5jb3B5QnRuLmNsYXNzTGlzdC5yZW1vdmUoY29waWVkQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJjb3B5QnRuUmVmXCIsIGZ1bmN0aW9uIChidG4pIHtcbiAgICAgIF90aGlzLmNvcHlCdG4gPSBidG47XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwidG9nZ2xlRXhwYW5kQ29sbGFwc2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzQ29sbGFwc2VkOiAhcHJldlN0YXRlLmlzQ29sbGFwc2VkXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUcmFuc2NyaXB0LCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIsXG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0cmFuc2NyaXB0cyBnZXRzIG5ldyBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKSB7XG4gICAgICB2YXIgd2FzRWRpdGluZyA9IHR5cGVvZiB0aGlzLnN0YXRlLmlzRWRpdGluZ0luZGV4ID09PSAnbnVtYmVyJztcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0VkaXRpbmdJbmRleDogd2FzRWRpdGluZyA/IC0xIDogdW5kZWZpbmVkLFxuICAgICAgICBuZXdUcmFuc2NyaXB0VGV4dDogJycsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VyIHRvIGFjY3VtdWxhdGUgYWxsIHRyYW5zY3JpcHQgZW50cmllcyBmb3IgY29weWluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIC0gcmVkdWNlciBhY2N1bXVsYXRvclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gYWNjdW11bGF0ZWQgdHJhbnNjcmlwdCBlbnRyaWVzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwcmV2aWV3U2VnbWVudFwiLFxuXG4gICAgLyoqXG4gICAgICogUHJldmlld3MgYSB0cmFuc2NyaXB0IHNlZ21lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dm9pZH0gW2luZGV4XSAtIHJvdyBpbmRleCB0byBlZGl0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJldmlld1NlZ21lbnQoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGVudHJpZXMgPSBfdGhpcyRwcm9wczIuY2FyZC5lbnRyaWVzLFxuICAgICAgICAgIGdldFZpZXdlciA9IF90aGlzJHByb3BzMi5nZXRWaWV3ZXI7XG4gICAgICB2YXIgYXBwZWFycyA9IGVudHJpZXNbaW5kZXhdLmFwcGVhcnM7XG4gICAgICB2YXIgdmlld2VyID0gZ2V0Vmlld2VyID8gZ2V0Vmlld2VyKCkgOiBudWxsO1xuICAgICAgdmFyIGlzVmFsaWQgPSBpc1ZhbGlkVGltZVNsaWNlKGFwcGVhcnMpICYmIEFycmF5LmlzQXJyYXkoYXBwZWFycykgJiYgYXBwZWFycy5sZW5ndGggPT09IDE7XG4gICAgICB2YXIgdGltZVNsaWNlID0gYXBwZWFycztcbiAgICAgIHZhciBzdGFydCA9IGlzVmFsaWQgPyB0aW1lU2xpY2VbMF0uc3RhcnQgOiAwO1xuXG4gICAgICBpZiAoaXNWYWxpZCAmJiB2aWV3ZXIgJiYgdHlwZW9mIHZpZXdlci5wbGF5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZpZXdlci5wbGF5KHN0YXJ0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2F2ZXMgdGhlIG5ldyBjYXJkIGRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgdHJhbnNjcmlwdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGVudHJpZXMgPSBfdGhpcyRwcm9wczMuY2FyZC5lbnRyaWVzLFxuICAgICAgICAgIGlzRWRpdGFibGUgPSBfdGhpcyRwcm9wczMuaXNFZGl0YWJsZTtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTMgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGlzRWRpdGluZ0luZGV4ID0gX3RoaXMkc3RhdGUzLmlzRWRpdGluZ0luZGV4LFxuICAgICAgICAgIGlzQ29sbGFwc2VkID0gX3RoaXMkc3RhdGUzLmlzQ29sbGFwc2VkLFxuICAgICAgICAgIGlzTG9hZGluZyA9IF90aGlzJHN0YXRlMy5pc0xvYWRpbmc7XG4gICAgICB2YXIgaGFzRW50cmllcyA9IGVudHJpZXMubGVuZ3RoID4gMDtcbiAgICAgIHZhciBoYXNNYW55RW50cmllcyA9IGVudHJpZXMubGVuZ3RoID4gNTtcbiAgICAgIHZhciBpc0VkaXRpbmcgPSB0eXBlb2YgaXNFZGl0aW5nSW5kZXggPT09ICdudW1iZXInO1xuICAgICAgdmFyIGVkaXRCdG5DbGFzc05hbWUgPSBjbGFzc05hbWVzKCdiZS10cmFuc2NyaXB0LWVkaXQnLCB7XG4gICAgICAgICdiZS10cmFuc2NyaXB0LWlzLWVkaXRpbmcnOiBpc0VkaXRpbmdcbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbnRlbnRDbGFzc05hbWUgPSBjbGFzc05hbWVzKHtcbiAgICAgICAgJ2JlLXRyYW5zY3JpcHQtY29udGVudC1jb2xsYXBzZWQnOiBpc0NvbGxhcHNlZFxuICAgICAgfSk7XG4gICAgICB2YXIgZXhwYW5kQ29sbGFwc2VNZXNzYWdlID0gaXNDb2xsYXBzZWQgPyBtZXNzYWdlcy5leHBhbmQgOiBtZXNzYWdlcy5jb2xsYXBzZTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdJbmRpY2F0b3JXcmFwcGVyLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJiZS10cmFuc2NyaXB0XCIsXG4gICAgICAgIGlzTG9hZGluZzogaXNMb2FkaW5nXG4gICAgICB9LCBoYXNFbnRyaWVzICYmICFpc0xvYWRpbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJiZS10cmFuc2NyaXB0LWFjdGlvbnNcIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgICAgIHRleHQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuY29weSlcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhaW5CdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJlLXRyYW5zY3JpcHQtY29weVwiLFxuICAgICAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFNLSUxMU19UQVJHRVRTLlRSQU5TQ1JJUFRTLkNPUFksXG4gICAgICAgIGdldERPTVJlZjogdGhpcy5jb3B5QnRuUmVmLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLmNvcHlUcmFuc2NyaXB0LFxuICAgICAgICB0eXBlOiBcImJ1dHRvblwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25Db3B5LCB7XG4gICAgICAgIGNvbG9yOiBuaW5lc1xuICAgICAgfSkpKSwgaGFzTWFueUVudHJpZXMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgICAgIHRleHQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgZXhwYW5kQ29sbGFwc2VNZXNzYWdlKVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQbGFpbkJ1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiYmUtdHJhbnNjcmlwdC1leHBhbmRcIixcbiAgICAgICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBTS0lMTFNfVEFSR0VUUy5UUkFOU0NSSVBUUy5FWFBBTkQsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlRXhwYW5kQ29sbGFwc2UsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICAgIH0sIGlzQ29sbGFwc2VkID8gUmVhY3QuY3JlYXRlRWxlbWVudChJY29uRXhwYW5kLCB7XG4gICAgICAgIGNvbG9yOiBuaW5lc1xuICAgICAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25Db2xsYXBzZSwge1xuICAgICAgICBjb2xvcjogbmluZXNcbiAgICAgIH0pKSksIGlzRWRpdGFibGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgICAgIHRleHQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuZWRpdExhYmVsKVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQbGFpbkJ1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6IGVkaXRCdG5DbGFzc05hbWUsXG4gICAgICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogU0tJTExTX1RBUkdFVFMuVFJBTlNDUklQVFMuRURJVCxcbiAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVJc0VkaXRpbmcsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkVkaXQsIG51bGwpKSkpLCBpc0VkaXRpbmcgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJlLXRyYW5zY3JpcHQtZWRpdC1tZXNzYWdlXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMudHJhbnNjcmlwdEVkaXQpKSA6IG51bGwsIGhhc0VudHJpZXMgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjb250ZW50Q2xhc3NOYW1lXG4gICAgICB9LCBlbnRyaWVzLm1hcCh0aGlzLnRyYW5zY3JpcHRNYXBwZXIpKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuc2tpbGxOb0luZm9Gb3VuZEVycm9yKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zY3JpcHQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBUcmFuc2NyaXB0OyIsIi8qKlxuICogXG4gKiBAZmlsZSBVdGlsaXR5IGZvciBjb3B5aW5nIGFuZCBkb3dubG9hZGluZ1xuICogQGF1dGhvciBCb3hcbiAqL1xuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGRvd25sb2FkIHN0cmluZyBhcyB0eHQgZmlsZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIC0gc3RyaW5nIHRvIGRvd25sb2FkXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIGZpbGUgbmFtZSB0byB1c2VcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRvd25sb2FkKHN0cmluZywgbmFtZSkge1xuICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtzdHJpbmddLCB7XG4gICAgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCdcbiAgfSk7IC8vIElFMTFcblxuICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKSB7XG4gICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIG5hbWUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBhLmhyZWYgPSB1cmw7XG4gIGEuZG93bmxvYWQgPSBuYW1lO1xuXG4gIGlmIChkb2N1bWVudC5ib2R5KSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgfVxuXG4gIGEuY2xpY2soKTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgfVxuXG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICB9LCAxMDApO1xufVxuLyoqXG4gKiBGdW5jdGlvbiB0byBjb3B5IHN0cmluZyB0byB0aGUgY2xpcGJvYXJkXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgLSBzdHJpbmcgdG8gY29weVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGNvcHkoc3RyaW5nKSB7XG4gIHZhciB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudCxcbiAgICAgIGJvZHkgPSBfZG9jdW1lbnQuYm9keTtcbiAgdGV4dGFyZWEudmFsdWUgPSBzdHJpbmc7XG4gIHRleHRhcmVhLnN0eWxlLmRpc3BsYXkgPSAnaGlkZGVuJztcblxuICBpZiAoYm9keSkge1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQodGV4dGFyZWEpO1xuICAgIHRleHRhcmVhLnNlbGVjdCgpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgZG93bmxvYWQsIGNvcHkgfTsiLCIvKipcbiAqIFxuICogQGZpbGUgVXRpbGl0aWVzIGZvciBrZXl3b3JkcyBza2lsbFxuICogQGF1dGhvciBCb3hcbiAqL1xuXG4vKipcbiAqIENvbnZlcnRzIHNraWxsIGNhcmQgZW50cmllcyBpbnRvIHBpbGxzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gcHJvcHMgLSBrZXl3b3JkIGVudHJpZXNcbiAqIEByZXR1cm4ge0FycmF5PE9iamVjdD59IHBpbGxzXG4gKi9cbnZhciBnZXRQaWxscyA9IGZ1bmN0aW9uIGdldFBpbGxzKCkge1xuICB2YXIga2V5d29yZHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICByZXR1cm4ga2V5d29yZHMubWFwKGZ1bmN0aW9uIChrZXl3b3JkLCBpbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICBkaXNwbGF5VGV4dDoga2V5d29yZC50ZXh0LFxuICAgICAgdmFsdWU6IGluZGV4XG4gICAgfTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRQaWxsczsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIEVkaXRhYmxlIFNraWxsIEtleXdvcmRzIGNhcmQgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgUGlsbFNlbGVjdG9yIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvcGlsbC1zZWxlY3Rvci1kcm9wZG93bi9QaWxsU2VsZWN0b3InO1xuaW1wb3J0IFByaW1hcnlCdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9wcmltYXJ5LWJ1dHRvbi9QcmltYXJ5QnV0dG9uJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9idXR0b24vQnV0dG9uJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi8uLi8uLi9jb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgU0tJTExTX1RBUkdFVFMgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vaW50ZXJhY3Rpb25UYXJnZXRzJztcbmltcG9ydCBnZXRQaWxscyBmcm9tICcuL2tleXdvcmRVdGlscyc7XG5pbXBvcnQgJy4vRWRpdGFibGVLZXl3b3Jkcy5zY3NzJztcblxudmFyIEVkaXRhYmxlS2V5d29yZHMgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhFZGl0YWJsZUtleXdvcmRzLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIFtjb25zdHJ1Y3Rvcl1cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJuIHtFZGl0YWJsZUtleXdvcmRzfVxuICAgKi9cbiAgZnVuY3Rpb24gRWRpdGFibGVLZXl3b3Jkcyhwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0YWJsZUtleXdvcmRzKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEVkaXRhYmxlS2V5d29yZHMpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvblJlbW92ZVwiLCBmdW5jdGlvbiAob3B0aW9uLCBpbmRleCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25EZWxldGUgPSBfdGhpcyRwcm9wcy5vbkRlbGV0ZSxcbiAgICAgICAgICBrZXl3b3JkcyA9IF90aGlzJHByb3BzLmtleXdvcmRzO1xuICAgICAgb25EZWxldGUoa2V5d29yZHNbaW5kZXhdKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbktleURvd25cIiwgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBrZXkgPSBfcmVmLmtleTtcblxuICAgICAgaWYgKGtleSA9PT0gJ0VudGVyJyAmJiAhX3RoaXMuc3RhdGUuaXNJbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgICBfdGhpcy5vbkJsdXIoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkJsdXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG9uQWRkID0gX3RoaXMucHJvcHMub25BZGQ7XG4gICAgICB2YXIga2V5d29yZCA9IF90aGlzLnN0YXRlLmtleXdvcmQ7XG5cbiAgICAgIGlmIChrZXl3b3JkKSB7XG4gICAgICAgIG9uQWRkKHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgdGV4dDoga2V5d29yZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkNvbXBvc2l0aW9uU3RhcnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0luQ29tcG9zaXRpb25Nb2RlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkNvbXBvc2l0aW9uRW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNJbkNvbXBvc2l0aW9uTW9kZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uSW5wdXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3VycmVudFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAga2V5d29yZDogY3VycmVudFRhcmdldC52YWx1ZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHBpbGxzOiBnZXRQaWxscyhwcm9wcy5rZXl3b3JkcyksXG4gICAgICBrZXl3b3JkOiAnJyxcbiAgICAgIGlzSW5Db21wb3NpdGlvbk1vZGU6IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGtleXdvcmRzIGdldHMgbmV3IHByb3BlcnRpZXMuXG4gICAqIFNob3VsZCByZXNldCB0byBvcmlnaW5hbCBzdGF0ZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG5leHRQcm9wcyAtIGNvbXBvbmVudCBwcm9wc1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhFZGl0YWJsZUtleXdvcmRzLCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcGlsbHM6IGdldFBpbGxzKG5leHRQcm9wcy5rZXl3b3JkcyksXG4gICAgICAgIGtleXdvcmQ6ICcnXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4ga2V5d29yZHMgZ2V0cyBuZXcgcHJvcGVydGllcy5cbiAgICAgKiBTaG91bGQgcmVzZXQgdG8gb3JpZ2luYWwgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24gLSBwaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gcGlsbCBpbmRleFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGtleXdvcmRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG9uU2F2ZSA9IF90aGlzJHByb3BzMi5vblNhdmUsXG4gICAgICAgICAgb25DYW5jZWwgPSBfdGhpcyRwcm9wczIub25DYW5jZWw7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHBpbGxzID0gX3RoaXMkc3RhdGUucGlsbHMsXG4gICAgICAgICAga2V5d29yZCA9IF90aGlzJHN0YXRlLmtleXdvcmQ7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicGlsbC1zZWxlY3Rvci13cmFwcGVyXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGlsbFNlbGVjdG9yLCB7XG4gICAgICAgIG9uQmx1cjogdGhpcy5vbkJsdXIsXG4gICAgICAgIG9uQ29tcG9zaXRpb25FbmQ6IHRoaXMub25Db21wb3NpdGlvbkVuZCxcbiAgICAgICAgb25Db21wb3NpdGlvblN0YXJ0OiB0aGlzLm9uQ29tcG9zaXRpb25TdGFydCxcbiAgICAgICAgb25JbnB1dDogdGhpcy5vbklucHV0LFxuICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLFxuICAgICAgICBvblBhc3RlOiB0aGlzLm9uSW5wdXQsXG4gICAgICAgIG9uUmVtb3ZlOiB0aGlzLm9uUmVtb3ZlLFxuICAgICAgICBzZWxlY3RlZE9wdGlvbnM6IHBpbGxzLFxuICAgICAgICB2YWx1ZToga2V5d29yZFxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiYmUta2V5d29yZHMtYnV0dG9uc1wiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFNLSUxMU19UQVJHRVRTLktFWVdPUkRTLkVESVRfQ0FOQ0VMLFxuICAgICAgICBvbkNsaWNrOiBvbkNhbmNlbCxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5jYW5jZWwpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChQcmltYXJ5QnV0dG9uLCB7XG4gICAgICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogU0tJTExTX1RBUkdFVFMuS0VZV09SRFMuRURJVF9TQVZFLFxuICAgICAgICBvbkNsaWNrOiBvblNhdmUsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuc2F2ZSkpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEVkaXRhYmxlS2V5d29yZHM7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBFZGl0YWJsZUtleXdvcmRzOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uJztcblxudmFyIFBpbGxDbG91ZCA9IGZ1bmN0aW9uIFBpbGxDbG91ZChfcmVmKSB7XG4gIHZhciBvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgb25TZWxlY3QgPSBfcmVmLm9uU2VsZWN0LFxuICAgICAgX3JlZiRzZWxlY3RlZE9wdGlvbnMgPSBfcmVmLnNlbGVjdGVkT3B0aW9ucyxcbiAgICAgIHNlbGVjdGVkT3B0aW9ucyA9IF9yZWYkc2VsZWN0ZWRPcHRpb25zID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkc2VsZWN0ZWRPcHRpb25zLFxuICAgICAgX3JlZiRidXR0b25Qcm9wcyA9IF9yZWYuYnV0dG9uUHJvcHMsXG4gICAgICBidXR0b25Qcm9wcyA9IF9yZWYkYnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRidXR0b25Qcm9wcztcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwaWxsLWNsb3VkLWNvbnRhaW5lclwiXG4gIH0sIG9wdGlvbnMgJiYgb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgICAga2V5OiBvcHRpb24udmFsdWUsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3BpbGwnLCAncGlsbC1jbG91ZC1idXR0b24nLCB7XG4gICAgICAgICdpcy1zZWxlY3RlZCc6IHNlbGVjdGVkT3B0aW9ucy5maW5kKGZ1bmN0aW9uIChvcCkge1xuICAgICAgICAgIHJldHVybiBpc0VxdWFsKG9wLCBvcHRpb24pO1xuICAgICAgICB9KVxuICAgICAgfSksXG4gICAgICBvbkNsaWNrOiBvblNlbGVjdCA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG9uU2VsZWN0KG9wdGlvbik7XG4gICAgICB9IDogdW5kZWZpbmVkXG4gICAgfSwgYnV0dG9uUHJvcHMpLCBvcHRpb24uZGlzcGxheVRleHQpO1xuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQaWxsQ2xvdWQ7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjY2Vzc2libGVTVkcgZnJvbSAnLi4vYWNjZXNzaWJsZS1zdmcnO1xuXG52YXIgSWNvblRyYWNrTmV4dCA9IGZ1bmN0aW9uIEljb25UcmFja05leHQoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICcjOTk5JyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDE0IDogX3JlZiRoZWlnaHQsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gMTQgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tdHJhY2stbmV4dCBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIixcbiAgICB3aWR0aDogd2lkdGhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmaWxsLWNvbG9yXCIsXG4gICAgZDogXCJNNy43MiA3Ljg1YTEgMSAwIDAgMCAwLTEuNDFsLTUtNC44MUExIDEgMCAwIDAgMiAxLjM1YTEgMSAwIDAgMC0xIDFWMTJhMSAxIDAgMCAwIC4yOC42OSAxIDEgMCAwIDAgMS40MSAwbDUtNC44MXpNMTMgMnYxMGExIDEgMCAwIDEtMSAxIDEgMSAwIDAgMS0xLTFWMmExIDEgMCAwIDEgMS0xIDEgMSAwIDAgMSAxIDF6XCIsXG4gICAgZmlsbDogY29sb3JcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvblRyYWNrTmV4dDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uVHJhY2tQcmV2aW91cyA9IGZ1bmN0aW9uIEljb25UcmFja1ByZXZpb3VzKF9yZWYpIHtcbiAgdmFyIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIF9yZWYkY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcmVmJGNvbG9yID09PSB2b2lkIDAgPyAnIzk5OScgOiBfcmVmJGNvbG9yLFxuICAgICAgX3JlZiRoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB2b2lkIDAgPyAxNCA6IF9yZWYkaGVpZ2h0LFxuICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgX3JlZiR3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICB3aWR0aCA9IF9yZWYkd2lkdGggPT09IHZvaWQgMCA/IDE0IDogX3JlZiR3aWR0aDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjZXNzaWJsZVNWRywge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLXRyYWNrLXByZXZpb3VzIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk02LjMxIDcuODhsNSA0LjgxYTEgMSAwIDAgMCAxLjQxIDBBMSAxIDAgMCAwIDEzIDEyVjIuMzVhMSAxIDAgMCAwLTEtMSAxIDEgMCAwIDAtLjY5LjI4bC01IDQuODFhMSAxIDAgMCAwIDAgMS40MXpNMiAxYTEgMSAwIDAgMSAxIDF2MTBhMSAxIDAgMCAxLTEgMSAxIDEgMCAwIDEtMS0xVjJhMSAxIDAgMCAxIDEtMXpcIixcbiAgICBmaWxsOiBjb2xvclxuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJY29uVHJhY2tQcmV2aW91czsiLCIvKipcbiAqIFxuICogQGZpbGUgVGltZWxpbmUgbGluZSBjb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGxhaW5CdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9wbGFpbi1idXR0b24vUGxhaW5CdXR0b24nO1xuaW1wb3J0ICcuL1RpbWVzbGljZS5zY3NzJztcbnZhciBMRU5HVEhfVEVYVF9JVEVNTElORSA9IDI5MDsgLy8gbWF0Y2ggd2l0aCBjc3NcblxudmFyIE1JTl9XSURUSCA9IDY7IC8vIE5lZWQgYXQgbGVhc3Qgc29tZSB3aWR0aCB0byBiZSBjbGlja2FibGVcblxudmFyIFRpbWVzbGljZSA9IGZ1bmN0aW9uIFRpbWVzbGljZShfcmVmKSB7XG4gIHZhciBzdGFydCA9IF9yZWYuc3RhcnQsXG4gICAgICBlbmQgPSBfcmVmLmVuZCxcbiAgICAgIGR1cmF0aW9uID0gX3JlZi5kdXJhdGlvbixcbiAgICAgIF9vbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgaW5kZXggPSBfcmVmLmluZGV4LFxuICAgICAgaW50ZXJhY3Rpb25UYXJnZXQgPSBfcmVmLmludGVyYWN0aW9uVGFyZ2V0O1xuXG4gIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInIHx8ICFkdXJhdGlvbiB8fCBzdGFydCA+PSBkdXJhdGlvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGJhckxlbmd0aCA9IExFTkdUSF9URVhUX0lURU1MSU5FO1xuICB2YXIgc3RhcnRMZWZ0ID0gTWF0aC5yb3VuZChzdGFydCAqIGJhckxlbmd0aCAvIGR1cmF0aW9uKTtcbiAgdmFyIG1pbkVuZGluZyA9IHN0YXJ0TGVmdCArIE1JTl9XSURUSDsgLy8gTmVlZCBhdCBsZWFzdCBzb21lIHdpZHRoIHRvIGJlIGNsaWNrYWJsZVxuXG4gIHZhciBlbmRpbmcgPSB0eXBlb2YgZW5kID09PSAnbnVtYmVyJyA/IE1hdGgubWF4KG1pbkVuZGluZywgZW5kICogYmFyTGVuZ3RoIC8gZHVyYXRpb24pIDogbWluRW5kaW5nO1xuICB2YXIgZW5kTGVmdCA9IE1hdGgucm91bmQoTWF0aC5taW4oYmFyTGVuZ3RoLCBlbmRpbmcpKTtcbiAgdmFyIHdpZHRoID0gZW5kTGVmdCAtIHN0YXJ0TGVmdDsgLy8gSWYgd2lkdGggaXMgdG9vIHNtYWxsIHJlLWFkanVzdCB0aGUgbGVmdCBwb3NpdGlvblxuICAvLyB0byBnZXQgdG8gYXQgbGVhc3QgNnB4IHdpZGUgZm9yIGNsaWNrYWJpbGl0eVxuXG4gIGlmICh3aWR0aCA8IE1JTl9XSURUSCkge1xuICAgIHN0YXJ0TGVmdCAtPSBNSU5fV0lEVEggLSB3aWR0aDtcbiAgICB3aWR0aCA9IE1JTl9XSURUSDtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWluQnV0dG9uLCB7XG4gICAgY2xhc3NOYW1lOiBcImJlLXRpbWVsaW5lLXRpbWVcIixcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IGludGVyYWN0aW9uVGFyZ2V0LFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gX29uQ2xpY2soaW5kZXgpO1xuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGxlZnQ6IFwiXCIuY29uY2F0KHN0YXJ0TGVmdCwgXCJweFwiKSxcbiAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdCh3aWR0aCwgXCJweFwiKVxuICAgIH0sXG4gICAgdHlwZTogXCJidXR0b25cIlxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVzbGljZTsiLCIvKipcbiAqIFxuICogQGZpbGUgVGltZWxpbmUgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IFBsYWluQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvcGxhaW4tYnV0dG9uL1BsYWluQnV0dG9uJztcbmltcG9ydCBJY29uVHJhY2tOZXh0IGZyb20gJy4uLy4uLy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvblRyYWNrTmV4dCc7XG5pbXBvcnQgSWNvblRyYWNrUHJldmlvdXMgZnJvbSAnLi4vLi4vLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uVHJhY2tQcmV2aW91cyc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL21lc3NhZ2VzJztcbmltcG9ydCB7IFNLSUxMU19UQVJHRVRTIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2ludGVyYWN0aW9uVGFyZ2V0cyc7XG5pbXBvcnQgVGltZXNsaWNlIGZyb20gJy4vVGltZXNsaWNlJztcbmltcG9ydCB7IGlzVmFsaWRTdGFydFRpbWUgfSBmcm9tICcuLi90cmFuc2NyaXB0L3RpbWVTbGljZVV0aWxzJztcbmltcG9ydCAnLi9UaW1lbGluZS5zY3NzJztcblxudmFyIFRpbWVsaW5lID0gZnVuY3Rpb24gVGltZWxpbmUoX3JlZikge1xuICB2YXIgX3JlZiR0ZXh0ID0gX3JlZi50ZXh0LFxuICAgICAgdGV4dCA9IF9yZWYkdGV4dCA9PT0gdm9pZCAwID8gJycgOiBfcmVmJHRleHQsXG4gICAgICBfcmVmJGR1cmF0aW9uID0gX3JlZi5kdXJhdGlvbixcbiAgICAgIGR1cmF0aW9uID0gX3JlZiRkdXJhdGlvbiA9PT0gdm9pZCAwID8gMCA6IF9yZWYkZHVyYXRpb24sXG4gICAgICBfcmVmJHRpbWVzbGljZXMgPSBfcmVmLnRpbWVzbGljZXMsXG4gICAgICB0aW1lc2xpY2VzID0gX3JlZiR0aW1lc2xpY2VzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkdGltZXNsaWNlcyxcbiAgICAgIGdldFZpZXdlciA9IF9yZWYuZ2V0Vmlld2VyLFxuICAgICAgaW50ZXJhY3Rpb25UYXJnZXQgPSBfcmVmLmludGVyYWN0aW9uVGFyZ2V0O1xuICB2YXIgdGltZVNsaWNlSW5kZXggPSAtMTtcblxuICB2YXIgcGxheVNlZ21lbnQgPSBmdW5jdGlvbiBwbGF5U2VnbWVudChpbmRleCkge1xuICAgIHZhciBpbmNyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciBuZXdJbmRleCA9IGluY3IgPiAwID8gTWF0aC5taW4odGltZXNsaWNlcy5sZW5ndGggLSAxLCBpbmRleCArIGluY3IpIDogTWF0aC5tYXgoMCwgaW5kZXggKyBpbmNyKTtcbiAgICB2YXIgdmlld2VyID0gZ2V0Vmlld2VyID8gZ2V0Vmlld2VyKCkgOiBudWxsO1xuICAgIHZhciB0aW1lc2xpY2UgPSB0aW1lc2xpY2VzW25ld0luZGV4XTtcbiAgICB2YXIgdmFsaWRUaW1lID0gaXNWYWxpZFN0YXJ0VGltZSh0aW1lc2xpY2UpO1xuXG4gICAgaWYgKHZhbGlkVGltZSAmJiB2aWV3ZXIgJiYgdHlwZW9mIHZpZXdlci5wbGF5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2aWV3ZXIucGxheSh0aW1lc2xpY2Uuc3RhcnQpO1xuICAgICAgdGltZVNsaWNlSW5kZXggPSBuZXdJbmRleDtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiZS10aW1lbGluZVwiXG4gIH0sIHRleHQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJlLXRpbWVsaW5lLWxhYmVsXCJcbiAgfSwgdGV4dCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiZS10aW1lbGluZS1saW5lLXdyYXBwZXJcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmUtdGltZWxpbmUtbGluZVwiXG4gIH0pLCB0aW1lc2xpY2VzLm1hcChmdW5jdGlvbiAoX3JlZjIsIGluZGV4KSB7XG4gICAgdmFyIHN0YXJ0ID0gX3JlZjIuc3RhcnQsXG4gICAgICAgIGVuZCA9IF9yZWYyLmVuZDtcbiAgICByZXR1cm4gKFxuICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5ICovXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVzbGljZSwge1xuICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIGVuZDogZW5kLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGludGVyYWN0aW9uVGFyZ2V0OiBpbnRlcmFjdGlvblRhcmdldCxcbiAgICAgICAgb25DbGljazogcGxheVNlZ21lbnQsXG4gICAgICAgIHN0YXJ0OiBzdGFydFxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5ICovXG4gICkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmUtdGltZWxpbmUtYnRuc1wiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhaW5CdXR0b24sIHtcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFNLSUxMU19UQVJHRVRTLlRJTUVMSU5FLlBSRVZJT1VTLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gcGxheVNlZ21lbnQodGltZVNsaWNlSW5kZXgsIC0xKTtcbiAgICB9LFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uVHJhY2tQcmV2aW91cywge1xuICAgIHRpdGxlOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnByZXZpb3VzU2VnbWVudClcbiAgfSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWluQnV0dG9uLCB7XG4gICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBTS0lMTFNfVEFSR0VUUy5USU1FTElORS5ORVhULFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gcGxheVNlZ21lbnQodGltZVNsaWNlSW5kZXgsIDEpO1xuICAgIH0sXG4gICAgdHlwZTogXCJidXR0b25cIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25UcmFja05leHQsIHtcbiAgICB0aXRsZTogUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5uZXh0U2VnbWVudClcbiAgfSkpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUaW1lbGluZTsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIFJlYWQgT25seSBLZXl3b3JkcyBDYXJkIGNvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBpbGxDbG91ZCBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL3BpbGwtY2xvdWQvUGlsbENsb3VkJztcbmltcG9ydCB7IFNLSUxMU19UQVJHRVRTLCBJTlRFUkFDVElPTl9UQVJHRVQgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vaW50ZXJhY3Rpb25UYXJnZXRzJztcbmltcG9ydCBUaW1lbGluZSBmcm9tICcuLi90aW1lbGluZSc7XG5pbXBvcnQgZ2V0UGlsbHMgZnJvbSAnLi9rZXl3b3JkVXRpbHMnO1xuaW1wb3J0ICcuL1JlYWRPbmx5S2V5d29yZHMuc2Nzcyc7XG5cbnZhciBSZWFkT25seXNlbGVjdGVkcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFJlYWRPbmx5c2VsZWN0ZWRzLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmVhZE9ubHlzZWxlY3RlZHMoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVhZE9ubHlzZWxlY3RlZHMpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoUmVhZE9ubHlzZWxlY3RlZHMpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBzZWxlY3RlZEluZGV4OiAtMVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uU2VsZWN0XCIsIGZ1bmN0aW9uIChwaWxsKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IF90aGlzLnN0YXRlLnNlbGVjdGVkSW5kZXg7XG4gICAgICB2YXIgbmV3SW5kZXggPSBwaWxsLnZhbHVlO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXggPT09IG5ld0luZGV4ID8gLTEgOiBuZXdJbmRleFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVhZE9ubHlzZWxlY3RlZHMsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUga2V5d29yZHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBrZXl3b3JkcyA9IF90aGlzJHByb3BzLmtleXdvcmRzLFxuICAgICAgICAgIGdldFZpZXdlciA9IF90aGlzJHByb3BzLmdldFZpZXdlcixcbiAgICAgICAgICBkdXJhdGlvbiA9IF90aGlzJHByb3BzLmR1cmF0aW9uO1xuICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW5kZXg7XG4gICAgICB2YXIgb3B0aW9ucyA9IGdldFBpbGxzKGtleXdvcmRzKTtcbiAgICAgIHZhciBzZWxlY3RlZCA9IGtleXdvcmRzW3NlbGVjdGVkSW5kZXhdO1xuICAgICAgdmFyIHBpbGxDbG91ZFByb3BzID0gc2VsZWN0ZWQgPyB7XG4gICAgICAgIHNlbGVjdGVkT3B0aW9uczogW29wdGlvbnNbc2VsZWN0ZWRJbmRleF1dXG4gICAgICB9IDoge307XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChQaWxsQ2xvdWQsIF9leHRlbmRzKHtcbiAgICAgICAgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgIH0sIHBpbGxDbG91ZFByb3BzLCB7XG4gICAgICAgIGJ1dHRvblByb3BzOiBfZGVmaW5lUHJvcGVydHkoe30sIElOVEVSQUNUSU9OX1RBUkdFVCwgU0tJTExTX1RBUkdFVFMuS0VZV09SRFMuU0VMRUNUKVxuICAgICAgfSkpLCAhIXNlbGVjdGVkICYmIEFycmF5LmlzQXJyYXkoc2VsZWN0ZWQuYXBwZWFycykgJiYgc2VsZWN0ZWQuYXBwZWFycy5sZW5ndGggPiAwICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZWxpbmUsIHtcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICBnZXRWaWV3ZXI6IGdldFZpZXdlcixcbiAgICAgICAgaW50ZXJhY3Rpb25UYXJnZXQ6IFNLSUxMU19UQVJHRVRTLktFWVdPUkRTLlRJTUVMSU5FLFxuICAgICAgICB0ZXh0OiBzZWxlY3RlZC50ZXh0LFxuICAgICAgICB0aW1lc2xpY2VzOiBzZWxlY3RlZC5hcHBlYXJzXG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlYWRPbmx5c2VsZWN0ZWRzO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhZE9ubHlzZWxlY3RlZHM7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qKlxuICogXG4gKiBAZmlsZSBGaWxlIEtleXdvcmRzIFNraWxsQ2FyZCBjb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUGxhaW5CdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9wbGFpbi1idXR0b24vUGxhaW5CdXR0b24nO1xuaW1wb3J0IEljb25FZGl0IGZyb20gJy4uLy4uLy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbkVkaXQnO1xuaW1wb3J0IExvYWRpbmdJbmRpY2F0b3JXcmFwcGVyIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbG9hZGluZy1pbmRpY2F0b3IvTG9hZGluZ0luZGljYXRvcldyYXBwZXInO1xuaW1wb3J0IElubGluZUVycm9yIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaW5saW5lLWVycm9yL0lubGluZUVycm9yJztcbmltcG9ydCBUb29sdGlwIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvdG9vbHRpcC9Ub29sdGlwJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi8uLi8uLi9jb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgU0tJTExTX1RBUkdFVFMgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vaW50ZXJhY3Rpb25UYXJnZXRzJztcbmltcG9ydCBFZGl0YWJsZUtleXdvcmRzIGZyb20gJy4vRWRpdGFibGVLZXl3b3Jkcyc7XG5pbXBvcnQgUmVhZE9ubHlLZXl3b3JkcyBmcm9tICcuL1JlYWRPbmx5S2V5d29yZHMnO1xuaW1wb3J0ICcuL0tleXdvcmRzLnNjc3MnO1xuXG52YXIgS2V5d29yZHMgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhLZXl3b3JkcywgX1B1cmVDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBbY29uc3RydWN0b3JdXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybiB7S2V5d29yZHN9XG4gICAqL1xuICBmdW5jdGlvbiBLZXl3b3Jkcyhwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXl3b3Jkcyk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihLZXl3b3JkcykuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInRvZ2dsZUlzRWRpdGluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNFZGl0aW5nOiAhcHJldlN0YXRlLmlzRWRpdGluZ1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25BZGRcIiwgZnVuY3Rpb24gKGtleXdvcmQpIHtcbiAgICAgIHZhciB0cmFuc2NyaXB0ID0gX3RoaXMucHJvcHMudHJhbnNjcmlwdDtcbiAgICAgIHZhciBhZGRzID0gX3RoaXMuc3RhdGUuYWRkcztcbiAgICAgIHZhciBsb2NhdGlvbnMgPSBbXTtcbiAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJcXFxcYlwiLmNvbmNhdChrZXl3b3JkLnRleHQsIFwiXFxcXGJcIiksICdpJyk7XG5cbiAgICAgIGlmICh0cmFuc2NyaXB0ICYmIEFycmF5LmlzQXJyYXkodHJhbnNjcmlwdC5lbnRyaWVzKSkge1xuICAgICAgICB0cmFuc2NyaXB0LmVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgIHZhciB0ZXh0ID0gX3JlZi50ZXh0LFxuICAgICAgICAgICAgICBhcHBlYXJzID0gX3JlZi5hcHBlYXJzO1xuXG4gICAgICAgICAgaWYgKHRleHQgJiYgcmVnZXgudGVzdCh0ZXh0KSAmJiBBcnJheS5pc0FycmF5KGFwcGVhcnMpICYmIGFwcGVhcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbG9jYXRpb25zLnB1c2goYXBwZWFyc1swXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAga2V5d29yZC5hcHBlYXJzID0gbG9jYXRpb25zO1xuICAgICAgYWRkcy5wdXNoKGtleXdvcmQpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFkZHM6IGFkZHMuc2xpY2UoMClcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uRGVsZXRlXCIsIGZ1bmN0aW9uIChrZXl3b3JkKSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhZGRzID0gX3RoaXMkc3RhdGUuYWRkcyxcbiAgICAgICAgICByZW1vdmVzID0gX3RoaXMkc3RhdGUucmVtb3ZlcztcbiAgICAgIHZhciBhZGRlZEluZGV4ID0gYWRkcy5maW5kSW5kZXgoZnVuY3Rpb24gKGFkZGVkKSB7XG4gICAgICAgIHJldHVybiBhZGRlZCA9PT0ga2V5d29yZDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWRkZWRJbmRleCA+IC0xKSB7XG4gICAgICAgIGFkZHMuc3BsaWNlKGFkZGVkSW5kZXgsIDEpO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhZGRzOiBhZGRzLnNsaWNlKDApXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3Zlcy5wdXNoKGtleXdvcmQpO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICByZW1vdmVzOiByZW1vdmVzLnNsaWNlKDApXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uU2F2ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb25Ta2lsbENoYW5nZSA9IF90aGlzLnByb3BzLm9uU2tpbGxDaGFuZ2U7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgcmVtb3ZlcyA9IF90aGlzJHN0YXRlMi5yZW1vdmVzLFxuICAgICAgICAgIGFkZHMgPSBfdGhpcyRzdGF0ZTIuYWRkcztcblxuICAgICAgX3RoaXMudG9nZ2xlSXNFZGl0aW5nKCk7XG5cbiAgICAgIGlmIChyZW1vdmVzLmxlbmd0aCA+IDAgfHwgYWRkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgb25Ta2lsbENoYW5nZShyZW1vdmVzLCBhZGRzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkNhbmNlbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZXNldFN0YXRlKF90aGlzLnByb3BzKTtcbiAgICB9KTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAga2V5d29yZHM6IHByb3BzLmNhcmQuZW50cmllcyxcbiAgICAgIGFkZHM6IFtdLFxuICAgICAgcmVtb3ZlczogW10sXG4gICAgICBpc0VkaXRpbmc6IHByb3BzLmhhc0Vycm9yLFxuICAgICAgaGFzRXJyb3I6IHByb3BzLmhhc0Vycm9yLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gcmVzZXQgdGhlIHN0YXRlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIGNvbXBvbmVudCBwcm9wc1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhLZXl3b3JkcywgW3tcbiAgICBrZXk6IFwicmVzZXRTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldFN0YXRlKHByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAga2V5d29yZHM6IHByb3BzLmNhcmQuZW50cmllcyxcbiAgICAgICAgYWRkczogW10sXG4gICAgICAgIHJlbW92ZXM6IFtdLFxuICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgICBoYXNFcnJvcjogZmFsc2UsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHRoZSBlZGl0IG1vZGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUga2V5d29yZHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjYXJkID0gX3RoaXMkcHJvcHMuY2FyZCxcbiAgICAgICAgICBnZXRWaWV3ZXIgPSBfdGhpcyRwcm9wcy5nZXRWaWV3ZXIsXG4gICAgICAgICAgaXNFZGl0YWJsZSA9IF90aGlzJHByb3BzLmlzRWRpdGFibGU7XG4gICAgICB2YXIgZHVyYXRpb24gPSBjYXJkLmR1cmF0aW9uO1xuICAgICAgdmFyIF90aGlzJHN0YXRlMyA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgaXNFZGl0aW5nID0gX3RoaXMkc3RhdGUzLmlzRWRpdGluZyxcbiAgICAgICAgICBpc0xvYWRpbmcgPSBfdGhpcyRzdGF0ZTMuaXNMb2FkaW5nLFxuICAgICAgICAgIGhhc0Vycm9yID0gX3RoaXMkc3RhdGUzLmhhc0Vycm9yLFxuICAgICAgICAgIGtleXdvcmRzID0gX3RoaXMkc3RhdGUzLmtleXdvcmRzLFxuICAgICAgICAgIHJlbW92ZXMgPSBfdGhpcyRzdGF0ZTMucmVtb3ZlcyxcbiAgICAgICAgICBhZGRzID0gX3RoaXMkc3RhdGUzLmFkZHM7XG4gICAgICB2YXIgaGFzS2V5d29yZHMgPSBrZXl3b3Jkcy5sZW5ndGggPiAwO1xuICAgICAgdmFyIGVudHJpZXMgPSBrZXl3b3Jkcy5maWx0ZXIoZnVuY3Rpb24gKGZhY2UpIHtcbiAgICAgICAgcmV0dXJuICFyZW1vdmVzLmluY2x1ZGVzKGZhY2UpO1xuICAgICAgfSkuY29uY2F0KGFkZHMpO1xuICAgICAgdmFyIGVkaXRDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdiZS1rZXl3b3JkLWVkaXQnLCB7XG4gICAgICAgICdiZS1rZXl3b3JkLWlzLWVkaXRpbmcnOiBpc0VkaXRpbmdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0luZGljYXRvcldyYXBwZXIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJlLWtleXdvcmRzXCIsXG4gICAgICAgIGlzTG9hZGluZzogaXNMb2FkaW5nXG4gICAgICB9LCBoYXNLZXl3b3JkcyAmJiBpc0VkaXRhYmxlICYmICFpc0xvYWRpbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgICAgIHRleHQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuZWRpdExhYmVsKVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQbGFpbkJ1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6IGVkaXRDbGFzc05hbWUsXG4gICAgICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogU0tJTExTX1RBUkdFVFMuS0VZV09SRFMuRURJVCxcbiAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVJc0VkaXRpbmcsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkVkaXQsIG51bGwpKSksIGhhc0Vycm9yICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5saW5lRXJyb3IsIHtcbiAgICAgICAgdGl0bGU6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuc2lkZWJhclNraWxsc0Vycm9yVGl0bGUpXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnNpZGViYXJTa2lsbHNFcnJvckNvbnRlbnQpKSwgaXNFZGl0aW5nICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWRpdGFibGVLZXl3b3Jkcywge1xuICAgICAgICBrZXl3b3JkczogZW50cmllcyxcbiAgICAgICAgb25BZGQ6IHRoaXMub25BZGQsXG4gICAgICAgIG9uQ2FuY2VsOiB0aGlzLm9uQ2FuY2VsLFxuICAgICAgICBvbkRlbGV0ZTogdGhpcy5vbkRlbGV0ZSxcbiAgICAgICAgb25TYXZlOiB0aGlzLm9uU2F2ZVxuICAgICAgfSksICFpc0VkaXRpbmcgJiYgaGFzS2V5d29yZHMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChSZWFkT25seUtleXdvcmRzLCB7XG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgZ2V0Vmlld2VyOiBnZXRWaWV3ZXIsXG4gICAgICAgIGtleXdvcmRzOiBlbnRyaWVzXG4gICAgICB9KSwgIWlzRWRpdGluZyAmJiAhaGFzS2V5d29yZHMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5za2lsbE5vSW5mb0ZvdW5kRXJyb3IpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gS2V5d29yZHM7XG59KFB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBLZXl3b3JkczsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uTWludXMgPSBmdW5jdGlvbiBJY29uTWludXMoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICcjMDAwMDAwJyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDE2IDogX3JlZiRoZWlnaHQsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gMTYgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tbWludXMgXCIuY29uY2F0KGNsYXNzTmFtZSksXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgdGl0bGU6IHRpdGxlLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgd2lkdGg6IHdpZHRoXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yIDVoOHYySDJ6XCIsXG4gICAgZmlsbDogY29sb3IsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEljb25NaW51czsiLCIvKipcbiAqIFxuICogQGZpbGUgRmlsZSBLZXl3b3JkcyBTa2lsbENhcmQgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQbGFpbkJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL3BsYWluLWJ1dHRvbi9QbGFpbkJ1dHRvbic7XG5pbXBvcnQgSWNvbkNsb3NlIGZyb20gJy4uLy4uLy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbkNsb3NlJztcbmltcG9ydCBJY29uTWludXMgZnJvbSAnLi4vLi4vLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uTWludXMnO1xuaW1wb3J0IHsgU0tJTExTX1RBUkdFVFMgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vaW50ZXJhY3Rpb25UYXJnZXRzJztcbmltcG9ydCB7IENPTE9SXzk5OSwgQ09MT1JfV0hJVEUgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0ICcuL0ZhY2Uuc2Nzcyc7XG5cbnZhciBGYWNlID0gZnVuY3Rpb24gRmFjZShfcmVmKSB7XG4gIHZhciBmYWNlID0gX3JlZi5mYWNlLFxuICAgICAgc2VsZWN0ZWQgPSBfcmVmLnNlbGVjdGVkLFxuICAgICAgaXNFZGl0aW5nID0gX3JlZi5pc0VkaXRpbmcsXG4gICAgICBvbkRlbGV0ZSA9IF9yZWYub25EZWxldGUsXG4gICAgICBvblNlbGVjdCA9IF9yZWYub25TZWxlY3Q7XG4gIHZhciBpc0FueUZhY2VTZWxlY3RlZCA9ICEhc2VsZWN0ZWQ7XG4gIHZhciBpc0N1cnJlbnRGYWNlU2VsZWN0ZWQgPSBmYWNlID09PSBzZWxlY3RlZDtcbiAgdmFyIGlzRmFjZVNlbGVjdGVkID0gaXNBbnlGYWNlU2VsZWN0ZWQgJiYgaXNDdXJyZW50RmFjZVNlbGVjdGVkICYmICFpc0VkaXRpbmc7XG4gIHZhciBmYWNlQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygnYmUtZmFjZS13cmFwcGVyJywge1xuICAgICdiZS1mYWNlLXVuc2VsZWN0ZWQnOiAhaXNFZGl0aW5nICYmIGlzQW55RmFjZVNlbGVjdGVkICYmICFpc0N1cnJlbnRGYWNlU2VsZWN0ZWRcbiAgfSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGZhY2VDbGFzc05hbWVcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQbGFpbkJ1dHRvbiwge1xuICAgIGNsYXNzTmFtZTogXCJiZS1mYWNlXCIsXG4gICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBTS0lMTFNfVEFSR0VUUy5GQUNFUy5GQUNFLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gIWlzRWRpdGluZyAmJiBvblNlbGVjdChmYWNlKTtcbiAgICB9LFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgYWx0OiBmYWNlLnRleHQsXG4gICAgc3JjOiBmYWNlLmltYWdlX3VybCxcbiAgICB0aXRsZTogZmFjZS50ZXh0XG4gIH0pLCBpc0ZhY2VTZWxlY3RlZCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25NaW51cywge1xuICAgIGNvbG9yOiBDT0xPUl9XSElURVxuICB9KSksIGlzRWRpdGluZyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWluQnV0dG9uLCB7XG4gICAgY2xhc3NOYW1lOiBcImJlLWZhY2UtZGVsZXRlXCIsXG4gICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBTS0lMTFNfVEFSR0VUUy5GQUNFUy5ERUxFVEUsXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBvbkRlbGV0ZShmYWNlKTtcbiAgICB9LFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQ2xvc2UsIHtcbiAgICBjb2xvcjogQ09MT1JfOTk5LFxuICAgIGhlaWdodDogMTYsXG4gICAgd2lkdGg6IDE2XG4gIH0pKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGYWNlOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vKipcbiAqIFxuICogQGZpbGUgRmFjZXMgU2tpbGwgQ2FyZCBjb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFBsYWluQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvcGxhaW4tYnV0dG9uL1BsYWluQnV0dG9uJztcbmltcG9ydCBQcmltYXJ5QnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvcHJpbWFyeS1idXR0b24vUHJpbWFyeUJ1dHRvbic7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvcldyYXBwZXIgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sb2FkaW5nLWluZGljYXRvci9Mb2FkaW5nSW5kaWNhdG9yV3JhcHBlcic7XG5pbXBvcnQgSW5saW5lRXJyb3IgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9pbmxpbmUtZXJyb3IvSW5saW5lRXJyb3InO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy90b29sdGlwL1Rvb2x0aXAnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2J1dHRvbi9CdXR0b24nO1xuaW1wb3J0IEljb25FZGl0IGZyb20gJy4uLy4uLy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbkVkaXQnO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBTS0lMTFNfVEFSR0VUUyB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9pbnRlcmFjdGlvblRhcmdldHMnO1xuaW1wb3J0IEZhY2UgZnJvbSAnLi9GYWNlJztcbmltcG9ydCBUaW1lbGluZSBmcm9tICcuLi90aW1lbGluZSc7XG5pbXBvcnQgJy4vRmFjZXMuc2Nzcyc7XG5cbnZhciBGYWNlcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEZhY2VzLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIFtjb25zdHJ1Y3Rvcl1cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJuIHtGYWNlc31cbiAgICovXG4gIGZ1bmN0aW9uIEZhY2VzKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZhY2VzKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEZhY2VzKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwidG9nZ2xlSXNFZGl0aW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc0VkaXRpbmc6ICFwcmV2U3RhdGUuaXNFZGl0aW5nXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvblNlbGVjdFwiLCBmdW5jdGlvbiAoZmFjZSkge1xuICAgICAgdmFyIHNlbGVjdGVkID0gX3RoaXMuc3RhdGUuc2VsZWN0ZWQ7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkID09PSBmYWNlID8gdW5kZWZpbmVkIDogZmFjZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25EZWxldGVcIiwgZnVuY3Rpb24gKGZhY2UpIHtcbiAgICAgIHZhciByZW1vdmVzID0gX3RoaXMuc3RhdGUucmVtb3ZlcztcbiAgICAgIHJlbW92ZXMucHVzaChmYWNlKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICByZW1vdmVzOiByZW1vdmVzLnNsaWNlKDApXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvblNhdmVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG9uU2tpbGxDaGFuZ2UgPSBfdGhpcy5wcm9wcy5vblNraWxsQ2hhbmdlO1xuICAgICAgdmFyIHJlbW92ZXMgPSBfdGhpcy5zdGF0ZS5yZW1vdmVzO1xuXG4gICAgICBfdGhpcy50b2dnbGVJc0VkaXRpbmcoKTtcblxuICAgICAgaWYgKHJlbW92ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9uU2tpbGxDaGFuZ2UocmVtb3Zlcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25DYW5jZWxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVzZXRTdGF0ZShfdGhpcy5wcm9wcyk7XG4gICAgfSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGZhY2VzOiBwcm9wcy5jYXJkLmVudHJpZXMsXG4gICAgICByZW1vdmVzOiBbXSxcbiAgICAgIGlzRWRpdGluZzogcHJvcHMuaGFzRXJyb3IsXG4gICAgICBoYXNFcnJvcjogcHJvcHMuaGFzRXJyb3IsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciB0byByZXNldCB0aGUgc3RhdGVcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gY29tcG9uZW50IHByb3BzXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEZhY2VzLCBbe1xuICAgIGtleTogXCJyZXNldFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0U3RhdGUocHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmYWNlczogcHJvcHMuY2FyZC5lbnRyaWVzLFxuICAgICAgICByZW1vdmVzOiBbXSxcbiAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgc2VsZWN0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyB0aGUgZWRpdCBtb2RlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGZhY2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNhcmQgPSBfdGhpcyRwcm9wcy5jYXJkLFxuICAgICAgICAgIGlzRWRpdGFibGUgPSBfdGhpcyRwcm9wcy5pc0VkaXRhYmxlLFxuICAgICAgICAgIGdldFZpZXdlciA9IF90aGlzJHByb3BzLmdldFZpZXdlcjtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc2VsZWN0ZWQgPSBfdGhpcyRzdGF0ZS5zZWxlY3RlZCxcbiAgICAgICAgICBmYWNlcyA9IF90aGlzJHN0YXRlLmZhY2VzLFxuICAgICAgICAgIHJlbW92ZXMgPSBfdGhpcyRzdGF0ZS5yZW1vdmVzLFxuICAgICAgICAgIGlzRWRpdGluZyA9IF90aGlzJHN0YXRlLmlzRWRpdGluZyxcbiAgICAgICAgICBoYXNFcnJvciA9IF90aGlzJHN0YXRlLmhhc0Vycm9yLFxuICAgICAgICAgIGlzTG9hZGluZyA9IF90aGlzJHN0YXRlLmlzTG9hZGluZztcbiAgICAgIHZhciBkdXJhdGlvbiA9IGNhcmQuZHVyYXRpb247XG4gICAgICB2YXIgaGFzRmFjZXMgPSBmYWNlcy5sZW5ndGggPiAwO1xuICAgICAgdmFyIGVudHJpZXMgPSBmYWNlcy5maWx0ZXIoZnVuY3Rpb24gKGZhY2UpIHtcbiAgICAgICAgcmV0dXJuICFyZW1vdmVzLmluY2x1ZGVzKGZhY2UpO1xuICAgICAgfSk7XG4gICAgICB2YXIgZWRpdENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ2JlLWZhY2UtZWRpdCcsIHtcbiAgICAgICAgJ2JlLWZhY2VzLWlzLWVkaXRpbmcnOiBpc0VkaXRpbmdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0luZGljYXRvcldyYXBwZXIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJlLWZhY2VzXCIsXG4gICAgICAgIGlzTG9hZGluZzogaXNMb2FkaW5nXG4gICAgICB9LCBoYXNGYWNlcyAmJiBpc0VkaXRhYmxlICYmICFpc0xvYWRpbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgICAgIHRleHQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuZWRpdExhYmVsKVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQbGFpbkJ1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6IGVkaXRDbGFzc05hbWUsXG4gICAgICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogU0tJTExTX1RBUkdFVFMuRkFDRVMuRURJVCxcbiAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVJc0VkaXRpbmcsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkVkaXQsIG51bGwpKSksIGhhc0Vycm9yICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5saW5lRXJyb3IsIHtcbiAgICAgICAgdGl0bGU6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuc2lkZWJhclNraWxsc0Vycm9yVGl0bGUpXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnNpZGViYXJTa2lsbHNFcnJvckNvbnRlbnQpKSwgaGFzRmFjZXMgPyBlbnRyaWVzLm1hcChmdW5jdGlvbiAoZmFjZSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXkgKi9cbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZhY2UsIHtcbiAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICBmYWNlOiBmYWNlLFxuICAgICAgICAgICAgaXNFZGl0aW5nOiBpc0VkaXRpbmcsXG4gICAgICAgICAgICBvbkRlbGV0ZTogX3RoaXMyLm9uRGVsZXRlLFxuICAgICAgICAgICAgb25TZWxlY3Q6IF90aGlzMi5vblNlbGVjdCxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXkgKi9cblxuICAgICAgICApO1xuICAgICAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnNraWxsTm9JbmZvRm91bmRFcnJvciksICEhc2VsZWN0ZWQgJiYgIWlzRWRpdGluZyAmJiBBcnJheS5pc0FycmF5KHNlbGVjdGVkLmFwcGVhcnMpICYmIHNlbGVjdGVkLmFwcGVhcnMubGVuZ3RoID4gMCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVsaW5lLCB7XG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgZ2V0Vmlld2VyOiBnZXRWaWV3ZXIsXG4gICAgICAgIGludGVyYWN0aW9uVGFyZ2V0OiBTS0lMTFNfVEFSR0VUUy5GQUNFUy5USU1FTElORSxcbiAgICAgICAgdGltZXNsaWNlczogc2VsZWN0ZWQuYXBwZWFyc1xuICAgICAgfSksIGlzRWRpdGluZyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJlLWZhY2VzLWJ1dHRvbnNcIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBTS0lMTFNfVEFSR0VUUy5GQUNFUy5FRElUX0NBTkNFTCxcbiAgICAgICAgb25DbGljazogdGhpcy5vbkNhbmNlbCxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5jYW5jZWwpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChQcmltYXJ5QnV0dG9uLCB7XG4gICAgICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogU0tJTExTX1RBUkdFVFMuRkFDRVMuRURJVF9TQVZFLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLm9uU2F2ZSxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5zYXZlKSkpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmFjZXM7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBGYWNlczsiLCIvKipcbiAqIFxuICogQGZpbGUgU2tpbGxzIGNhcmQgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFN0YXR1cyBmcm9tICcuL3N0YXR1cyc7XG5pbXBvcnQgVHJhbnNjcmlwdCBmcm9tICcuL3RyYW5zY3JpcHQnO1xuaW1wb3J0IEtleXdvcmRzIGZyb20gJy4va2V5d29yZHMnO1xuaW1wb3J0IEZhY2VzIGZyb20gJy4vZmFjZXMnO1xuaW1wb3J0IHsgU0tJTExTX1RSQU5TQ1JJUFQsIFNLSUxMU19LRVlXT1JELCBTS0lMTFNfVElNRUxJTkUsIFNLSUxMU19GQUNFLCBTS0lMTFNfU1RBVFVTIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJztcblxudmFyIFNpZGViYXJTa2lsbHNDYXJkID0gZnVuY3Rpb24gU2lkZWJhclNraWxsc0NhcmQoX3JlZikge1xuICB2YXIgY2FyZCA9IF9yZWYuY2FyZCxcbiAgICAgIGNhcmRzID0gX3JlZi5jYXJkcyxcbiAgICAgIGhhc0Vycm9yID0gX3JlZi5oYXNFcnJvcixcbiAgICAgIGlzRWRpdGFibGUgPSBfcmVmLmlzRWRpdGFibGUsXG4gICAgICBvblNraWxsQ2hhbmdlID0gX3JlZi5vblNraWxsQ2hhbmdlLFxuICAgICAgZ2V0Vmlld2VyID0gX3JlZi5nZXRWaWV3ZXI7XG5cbiAgc3dpdGNoIChjYXJkLnNraWxsX2NhcmRfdHlwZSkge1xuICAgIGNhc2UgU0tJTExTX0tFWVdPUkQ6XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChLZXl3b3Jkcywge1xuICAgICAgICBjYXJkOiBjYXJkLFxuICAgICAgICBnZXRWaWV3ZXI6IGdldFZpZXdlcixcbiAgICAgICAgaGFzRXJyb3I6IGhhc0Vycm9yLFxuICAgICAgICBpc0VkaXRhYmxlOiBpc0VkaXRhYmxlLFxuICAgICAgICBvblNraWxsQ2hhbmdlOiBvblNraWxsQ2hhbmdlLFxuICAgICAgICB0cmFuc2NyaXB0OiBpc0VkaXRhYmxlID8gY2FyZHMuZmluZChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICB2YXIgc2tpbGxfY2FyZF90eXBlID0gX3JlZjIuc2tpbGxfY2FyZF90eXBlO1xuICAgICAgICAgIHJldHVybiBza2lsbF9jYXJkX3R5cGUgPT09IFNLSUxMU19UUkFOU0NSSVBUO1xuICAgICAgICB9KSA6IHVuZGVmaW5lZFxuICAgICAgfSk7XG5cbiAgICBjYXNlIFNLSUxMU19USU1FTElORTpcbiAgICBjYXNlIFNLSUxMU19GQUNFOlxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmFjZXMsIHtcbiAgICAgICAgY2FyZDogY2FyZCxcbiAgICAgICAgZ2V0Vmlld2VyOiBnZXRWaWV3ZXIsXG4gICAgICAgIGhhc0Vycm9yOiBoYXNFcnJvcixcbiAgICAgICAgaXNFZGl0YWJsZTogaXNFZGl0YWJsZSxcbiAgICAgICAgb25Ta2lsbENoYW5nZTogb25Ta2lsbENoYW5nZVxuICAgICAgfSk7XG5cbiAgICBjYXNlIFNLSUxMU19UUkFOU0NSSVBUOlxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNjcmlwdCwge1xuICAgICAgICBjYXJkOiBjYXJkLFxuICAgICAgICBnZXRWaWV3ZXI6IGdldFZpZXdlcixcbiAgICAgICAgaGFzRXJyb3I6IGhhc0Vycm9yLFxuICAgICAgICBpc0VkaXRhYmxlOiBpc0VkaXRhYmxlLFxuICAgICAgICBvblNraWxsQ2hhbmdlOiBvblNraWxsQ2hhbmdlXG4gICAgICB9KTtcblxuICAgIGNhc2UgU0tJTExTX1NUQVRVUzpcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YXR1cywge1xuICAgICAgICBjYXJkOiBjYXJkXG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2lkZWJhclNraWxsc0NhcmQ7IiwiLyoqXG4gKiBcbiAqIEBmaWxlIERldGFpbHMgc2lkZWJhciBjb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCB1bmlxdWVJZCBmcm9tICdsb2Rhc2gvdW5pcXVlSWQnO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uLy4uL2NvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBTS0lMTFNfVEFSR0VUUyB9IGZyb20gJy4uLy4uL2NvbW1vbi9pbnRlcmFjdGlvblRhcmdldHMnO1xuaW1wb3J0IFNpZGViYXJTZWN0aW9uIGZyb20gJy4uL1NpZGViYXJTZWN0aW9uJztcbmltcG9ydCB7IGlzVmFsaWRTa2lsbHNDYXJkIH0gZnJvbSAnLi9za2lsbFV0aWxzJztcbmltcG9ydCBTaWRlYmFyU2tpbGxzQ2FyZCBmcm9tICcuL1NpZGViYXJTa2lsbHNDYXJkJztcbmltcG9ydCB7IFNLSUxMU19UUkFOU0NSSVBULCBTS0lMTFNfS0VZV09SRCwgU0tJTExTX1RJTUVMSU5FLCBTS0lMTFNfRkFDRSwgU0tJTExTX1NUQVRVUywgU0tJTExTX0VSUk9SX1VOS05PV04gfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMnO1xuXG4vKipcbiAqIEdldCB0aHMgc2tpbGwgaW50ZXJhY3Rpb24gdGFyZ2V0IGJhc2VkIG9uIGNhcmQgdHlwZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYXJkIC0gc2tpbGwgY2FyZFxuICogQHJldHVybiB7c3RyaW5nfSAtIGludGVyYWN0aW9uIHRhcmdldFxuICovXG52YXIgZ2V0Q2FyZEludGVyYWN0aW9uVGFyZ2V0ID0gZnVuY3Rpb24gZ2V0Q2FyZEludGVyYWN0aW9uVGFyZ2V0KF9yZWYpIHtcbiAgdmFyIHNraWxsX2NhcmRfdHlwZSA9IF9yZWYuc2tpbGxfY2FyZF90eXBlO1xuXG4gIHN3aXRjaCAoc2tpbGxfY2FyZF90eXBlKSB7XG4gICAgY2FzZSBTS0lMTFNfS0VZV09SRDpcbiAgICAgIHJldHVybiBTS0lMTFNfVEFSR0VUUy5LRVlXT1JEUy5DQVJEO1xuXG4gICAgY2FzZSBTS0lMTFNfRkFDRTpcbiAgICBjYXNlIFNLSUxMU19USU1FTElORTpcbiAgICAgIHJldHVybiBTS0lMTFNfVEFSR0VUUy5GQUNFUy5DQVJEO1xuXG4gICAgY2FzZSBTS0lMTFNfVFJBTlNDUklQVDpcbiAgICAgIHJldHVybiBTS0lMTFNfVEFSR0VUUy5UUkFOU0NSSVBUUy5DQVJEO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufTtcbi8qKlxuICogR2V0IHRocyBzdHJpbmcgc2tpbGwgdGl0bGUgYmFzZWQgb24gY2FyZCB0aXRsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYXJkIC0gc2tpbGwgY2FyZFxuICogQHJldHVybiB7c3RyaW5nfSAtIHNraWxsIHRpdGxlXG4gKi9cblxuXG52YXIgZ2V0Q2FyZFRpdGxlID0gZnVuY3Rpb24gZ2V0Q2FyZFRpdGxlKF9yZWYyKSB7XG4gIHZhciBza2lsbF9jYXJkX3R5cGUgPSBfcmVmMi5za2lsbF9jYXJkX3R5cGUsXG4gICAgICBfcmVmMiRza2lsbF9jYXJkX3RpdGwgPSBfcmVmMi5za2lsbF9jYXJkX3RpdGxlLFxuICAgICAgc2tpbGxfY2FyZF90aXRsZSA9IF9yZWYyJHNraWxsX2NhcmRfdGl0bCA9PT0gdm9pZCAwID8ge30gOiBfcmVmMiRza2lsbF9jYXJkX3RpdGw7XG4gIHZhciBjb2RlID0gc2tpbGxfY2FyZF90aXRsZS5jb2RlLFxuICAgICAgbWVzc2FnZSA9IHNraWxsX2NhcmRfdGl0bGUubWVzc2FnZTtcbiAgdmFyIGRlZmF1bHRLZXkgPSBcIlwiLmNvbmNhdChza2lsbF9jYXJkX3R5cGUsIFwiU2tpbGxcIik7XG4gIHZhciBkZWZhdWx0TWVzc2FnZSA9IG1lc3NhZ2VzW2RlZmF1bHRLZXldIHx8IG1lc3NhZ2VzLmRlZmF1bHRTa2lsbDtcblxuICBzd2l0Y2ggKGNvZGUpIHtcbiAgICBjYXNlICdza2lsbHNfZmFjZXMnOlxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuZmFjZVNraWxsKTtcblxuICAgIGNhc2UgJ3NraWxsc190cmFuc2NyaXB0JzpcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnRyYW5zY3JpcHRTa2lsbCk7XG5cbiAgICBjYXNlICdza2lsbHNfdG9waWNzJzpcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnRvcGljc1NraWxsKTtcblxuICAgIGNhc2UgJ3NraWxsc19zdGF0dXMnOlxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuc3RhdHVzU2tpbGwpO1xuXG4gICAgY2FzZSAnc2tpbGxzX2Vycm9yJzpcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmVycm9yKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbWVzc2FnZSB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIGRlZmF1bHRNZXNzYWdlKTtcbiAgfVxufTtcblxudmFyIFNpZGViYXJTa2lsbHMgPSBmdW5jdGlvbiBTaWRlYmFyU2tpbGxzKF9yZWYzKSB7XG4gIHZhciBmaWxlID0gX3JlZjMuZmlsZSxcbiAgICAgIGNhcmRzID0gX3JlZjMuY2FyZHMsXG4gICAgICBlcnJvcnMgPSBfcmVmMy5lcnJvcnMsXG4gICAgICBnZXRWaWV3ZXIgPSBfcmVmMy5nZXRWaWV3ZXIsXG4gICAgICBfb25Ta2lsbENoYW5nZSA9IF9yZWYzLm9uU2tpbGxDaGFuZ2U7XG4gIHZhciBfZmlsZSRwZXJtaXNzaW9ucyA9IGZpbGUucGVybWlzc2lvbnMsXG4gICAgICBwZXJtaXNzaW9ucyA9IF9maWxlJHBlcm1pc3Npb25zID09PSB2b2lkIDAgPyB7fSA6IF9maWxlJHBlcm1pc3Npb25zO1xuICB2YXIgaXNTa2lsbEVkaXRhYmxlID0gISFwZXJtaXNzaW9ucy5jYW5fdXBsb2FkO1xuICByZXR1cm4gY2FyZHMubWFwKGZ1bmN0aW9uIChjYXJkLCBpbmRleCkge1xuICAgIGlmIChjYXJkLmVycm9yICYmICFjYXJkLnN0YXR1cykge1xuICAgICAgY2FyZC5za2lsbF9jYXJkX3R5cGUgPSBTS0lMTFNfU1RBVFVTO1xuICAgICAgY2FyZC5zdGF0dXMgPSB7XG4gICAgICAgIGNvZGU6IFNLSUxMU19FUlJPUl9VTktOT1dOXG4gICAgICB9O1xuICAgICAgZGVsZXRlIGNhcmQuZXJyb3I7XG4gICAgfVxuXG4gICAgdmFyIGlkID0gY2FyZC5pZDtcbiAgICB2YXIgY2FyZElkID0gaWQgfHwgdW5pcXVlSWQoJ2NhcmRfJyk7XG4gICAgdmFyIGlzVmFsaWQgPSBpc1ZhbGlkU2tpbGxzQ2FyZChmaWxlLCBjYXJkKTtcbiAgICB2YXIgaW50ZXJhY3Rpb25UYXJnZXQgPSBnZXRDYXJkSW50ZXJhY3Rpb25UYXJnZXQoY2FyZCk7XG4gICAgdmFyIHRpdGxlID0gZ2V0Q2FyZFRpdGxlKGNhcmQpO1xuICAgIHZhciBoYXNFbnRyaWVzID0gQXJyYXkuaXNBcnJheShjYXJkLmVudHJpZXMpID8gY2FyZC5lbnRyaWVzLmxlbmd0aCA+IDAgOiBpc1ZhbGlkO1xuICAgIHJldHVybiBpc1ZhbGlkID8gUmVhY3QuY3JlYXRlRWxlbWVudChTaWRlYmFyU2VjdGlvbiwge1xuICAgICAga2V5OiBjYXJkSWQsXG4gICAgICBpbnRlcmFjdGlvblRhcmdldDogaW50ZXJhY3Rpb25UYXJnZXQsXG4gICAgICBpc09wZW46IGhhc0VudHJpZXMsXG4gICAgICB0aXRsZTogdGl0bGVcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJTa2lsbHNDYXJkLCB7XG4gICAgICBjYXJkOiBjYXJkLFxuICAgICAgY2FyZHM6IGNhcmRzLFxuICAgICAgZ2V0Vmlld2VyOiBnZXRWaWV3ZXIsXG4gICAgICBoYXNFcnJvcjogISFlcnJvcnNbaW5kZXhdLFxuICAgICAgaXNFZGl0YWJsZTogaXNTa2lsbEVkaXRhYmxlLFxuICAgICAgb25Ta2lsbENoYW5nZTogZnVuY3Rpb24gb25Ta2lsbENoYW5nZSgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfb25Ta2lsbENoYW5nZS5hcHBseSh2b2lkIDAsIFtpbmRleF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgIH1cbiAgICB9KSkgOiBudWxsO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpZGViYXJTa2lsbHM7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIFNraWxscyBzaWRlYmFyIGNvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG5vb3AgZnJvbSAnbG9kYXNoL25vb3AnO1xuaW1wb3J0IGdldFByb3AgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgZmxvdyBmcm9tICdsb2Rhc2gvZmxvdyc7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvciBmcm9tICcuLi8uLi9jb21wb25lbnRzL2xvYWRpbmctaW5kaWNhdG9yL0xvYWRpbmdJbmRpY2F0b3InO1xuaW1wb3J0IHsgbWFyayB9IGZyb20gJy4uLy4uL3V0aWxzL3BlcmZvcm1hbmNlJztcbmltcG9ydCB7IEVWRU5UX0pTX1JFQURZIH0gZnJvbSAnLi4vY29tbW9uL2xvZ2dlci9jb25zdGFudHMnO1xuaW1wb3J0IHsgd2l0aEFQSUNvbnRleHQgfSBmcm9tICcuLi9jb21tb24vYXBpLWNvbnRleHQnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi9jb21tb24vZXJyb3ItYm91bmRhcnknO1xuaW1wb3J0IHsgd2l0aExvZ2dlciB9IGZyb20gJy4uL2NvbW1vbi9sb2dnZXInO1xuaW1wb3J0IEFQSSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0IFNpZGViYXJDb250ZW50IGZyb20gJy4vU2lkZWJhckNvbnRlbnQnO1xuaW1wb3J0IFNpZGViYXJVdGlscyBmcm9tICcuL1NpZGViYXJVdGlscyc7XG5pbXBvcnQgeyBGSUVMRF9QRVJNSVNTSU9OU19DQU5fVVBMT0FELCBTS0lMTFNfVFJBTlNDUklQVCwgT1JJR0lOX1NLSUxMU19TSURFQkFSLCBTSURFQkFSX1ZJRVdfU0tJTExTIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCBTaWRlYmFyU2tpbGxzIGZyb20gJy4vc2tpbGxzL1NpZGViYXJTa2lsbHMnO1xuaW1wb3J0ICcuL1NraWxsc1NpZGViYXIuc2Nzcyc7XG52YXIgTUFSS19OQU1FX0pTX1JFQURZID0gXCJcIi5jb25jYXQoT1JJR0lOX1NLSUxMU19TSURFQkFSLCBcIl9cIikuY29uY2F0KEVWRU5UX0pTX1JFQURZKTtcbm1hcmsoTUFSS19OQU1FX0pTX1JFQURZKTtcblxudmFyIFNraWxsc1NpZGViYXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTa2lsbHNTaWRlYmFyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2tpbGxzU2lkZWJhcihwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTa2lsbHNTaWRlYmFyKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFNraWxsc1NpZGViYXIpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBlcnJvcnM6IHt9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZmV0Y2hTa2lsbHNTdWNjZXNzQ2FsbGJhY2tcIiwgZnVuY3Rpb24gKGNhcmRzKSB7XG4gICAgICBfdGhpcy51cGRhdGVQcmV2aWV3VHJhbnNjcmlwdChjYXJkcyk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2FyZHM6IGNhcmRzXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJ1cGRhdGVQcmV2aWV3VHJhbnNjcmlwdFwiLCBmdW5jdGlvbiAoY2FyZHMpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGdldFByZXZpZXcgPSBfdGhpcyRwcm9wcy5nZXRQcmV2aWV3LFxuICAgICAgICAgIGdldFZpZXdlciA9IF90aGlzJHByb3BzLmdldFZpZXdlcjtcbiAgICAgIHZhciBwcmV2aWV3ID0gZ2V0UHJldmlldyA/IGdldFByZXZpZXcoKSA6IG51bGw7XG4gICAgICB2YXIgdmlld2VyID0gZ2V0Vmlld2VyID8gZ2V0Vmlld2VyKCkgOiBudWxsO1xuICAgICAgdmFyIHRyYW5zY3JpcHRDYXJkID0gY2FyZHMuZmluZChmdW5jdGlvbiAoY2FyZCkge1xuICAgICAgICByZXR1cm4gY2FyZC5za2lsbF9jYXJkX3R5cGUgPT09IFNLSUxMU19UUkFOU0NSSVBUO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghdHJhbnNjcmlwdENhcmQgfHwgIXByZXZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXZpZXdlcikge1xuICAgICAgICBwcmV2aWV3LmFkZExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICB2YXIgbG9hZGVkVmlld2VyID0gX3JlZi52aWV3ZXI7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGxvYWRlZFZpZXdlci5sb2FkQXV0b0dlbmVyYXRlZENhcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBsb2FkZWRWaWV3ZXIubG9hZEF1dG9HZW5lcmF0ZWRDYXB0aW9ucyh0cmFuc2NyaXB0Q2FyZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZpZXdlci5sb2FkQXV0b0dlbmVyYXRlZENhcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZpZXdlci5sb2FkQXV0b0dlbmVyYXRlZENhcHRpb25zKHRyYW5zY3JpcHRDYXJkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvblNhdmVTdWNjZXNzSGFuZGxlclwiLCBmdW5jdGlvbiAoaW5kZXgsIHVwZGF0ZWRDYXJkcykge1xuICAgICAgdmFyIGVycm9ycyA9IF90aGlzLnN0YXRlLmVycm9ycztcblxuICAgICAgdmFyIGNsb25lID0gX29iamVjdFNwcmVhZCh7fSwgZXJyb3JzKTtcblxuICAgICAgZGVsZXRlIGNsb25lW2luZGV4XTtcblxuICAgICAgX3RoaXMudXBkYXRlUHJldmlld1RyYW5zY3JpcHQodXBkYXRlZENhcmRzKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjYXJkczogdXBkYXRlZENhcmRzLFxuICAgICAgICBlcnJvcnM6IGNsb25lXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvblNhdmVFcnJvckhhbmRsZXJcIiwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgZXJyb3JzID0gX3RoaXMuc3RhdGUuZXJyb3JzO1xuXG4gICAgICB2YXIgY2xvbmUgPSBfb2JqZWN0U3ByZWFkKHt9LCBlcnJvcnMpO1xuXG4gICAgICBjbG9uZVtpbmRleF0gPSB0cnVlO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogY2xvbmVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uU2F2ZVwiLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciByZW1vdmVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcbiAgICAgIHZhciBhZGRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTtcbiAgICAgIHZhciByZXBsYWNlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogW107XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHMyLmFwaSxcbiAgICAgICAgICBmaWxlID0gX3RoaXMkcHJvcHMyLmZpbGU7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUkY2FyZHMgPSBfdGhpcy5zdGF0ZS5jYXJkcyxcbiAgICAgICAgICBjYXJkcyA9IF90aGlzJHN0YXRlJGNhcmRzID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJHN0YXRlJGNhcmRzO1xuICAgICAgdmFyIGNhcmQgPSBjYXJkc1tpbmRleF07XG4gICAgICB2YXIgcGF0aCA9IFwiL2NhcmRzL1wiLmNvbmNhdChpbmRleCk7XG4gICAgICB2YXIgb3BzID0gW107XG4gICAgICB2YXIgY2FuRWRpdCA9IGdldFByb3AoZmlsZSwgRklFTERfUEVSTUlTU0lPTlNfQ0FOX1VQTE9BRCwgZmFsc2UpO1xuXG4gICAgICBpZiAoIWNhbkVkaXQgfHwgIWNhcmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXBsYWNlcykpIHtcbiAgICAgICAgcmVwbGFjZXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICB2YXIgcmVwbGFjZWQgPSBfcmVmMi5yZXBsYWNlZCxcbiAgICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSBfcmVmMi5yZXBsYWNlbWVudDtcbiAgICAgICAgICB2YXIgaWR4ID0gY2FyZC5lbnRyaWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeSA9PT0gcmVwbGFjZWQ7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgICAgICAgcGF0aDogXCJcIi5jb25jYXQocGF0aCwgXCIvZW50cmllcy9cIikuY29uY2F0KGlkeCksXG4gICAgICAgICAgICAgIHZhbHVlOiByZXBsYWNlbWVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVtb3ZlcykpIHtcbiAgICAgICAgdmFyIGRlbGV0ZXMgPSBbXTtcbiAgICAgICAgcmVtb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZW1vdmVkKSB7XG4gICAgICAgICAgdmFyIGlkeCA9IGNhcmQuZW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkgPT09IHJlbW92ZWQ7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIGRlbGV0ZXMucHVzaChpZHgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7IC8vIFRvIG1haW50YWluIG1ldGFkYXRhIGluZGV4IHBvc2l0aW9ucywgcmVtb3ZlcyBzaG91bGQgYmVcbiAgICAgICAgLy8gZG9uZSBpcyByZXZlcnNlIG9yZGVyIHdpdGggbGFyZ2VzdCBpbmRleCBiZWluZyByZW1vdmVkIGZpcnN0LlxuICAgICAgICAvLyBSZW1vdmUgb3BlcmF0aW9ucyBhcmUgYXRvbWljIGFuZCBkb24ndCBoYXBwZW4gaW4gYmF0Y2guXG5cbiAgICAgICAgZGVsZXRlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGIgLSBhO1xuICAgICAgICB9KSAvLyBudW1iZXIgc29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICBvcHMucHVzaCh7XG4gICAgICAgICAgICBvcDogJ3JlbW92ZScsXG4gICAgICAgICAgICBwYXRoOiBcIlwiLmNvbmNhdChwYXRoLCBcIi9lbnRyaWVzL1wiKS5jb25jYXQoaWR4KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWRkcykpIHtcbiAgICAgICAgYWRkcy5mb3JFYWNoKGZ1bmN0aW9uIChhZGRlZCkge1xuICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgIG9wOiAnYWRkJyxcbiAgICAgICAgICAgIHBhdGg6IFwiXCIuY29uY2F0KHBhdGgsIFwiL2VudHJpZXMvLVwiKSxcbiAgICAgICAgICAgIHZhbHVlOiBhZGRlZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gSWYgbm8gb3BzLCBkb24ndCBwcm9jZWVkXG5cblxuICAgICAgaWYgKG9wcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBBZGQgdGVzdCBvcHMgYmVmb3JlIGFueSBvdGhlciBvcHNcblxuXG4gICAgICBvcHMuc3BsaWNlKDAsIDAsIHtcbiAgICAgICAgb3A6ICd0ZXN0JyxcbiAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgdmFsdWU6IGNhcmRcbiAgICAgIH0pO1xuICAgICAgYXBpLmdldE1ldGFkYXRhQVBJKGZhbHNlKS51cGRhdGVTa2lsbHMoZmlsZSwgb3BzLCBmdW5jdGlvbiAodXBkYXRlZENhcmRzKSB7XG4gICAgICAgIF90aGlzLm9uU2F2ZVN1Y2Nlc3NIYW5kbGVyKGluZGV4LCB1cGRhdGVkQ2FyZHMpO1xuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5vblNhdmVFcnJvckhhbmRsZXIoaW5kZXgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgbG9nZ2VyID0gX3RoaXMucHJvcHMubG9nZ2VyO1xuICAgIGxvZ2dlci5vblJlYWR5TWV0cmljKHtcbiAgICAgIGVuZE1hcmtOYW1lOiBNQVJLX05BTUVfSlNfUkVBRFlcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2tpbGxzU2lkZWJhciwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhcGkgPSBfdGhpcyRwcm9wczMuYXBpLFxuICAgICAgICAgIGZpbGUgPSBfdGhpcyRwcm9wczMuZmlsZTtcbiAgICAgIGFwaS5nZXRNZXRhZGF0YUFQSShmYWxzZSkuZ2V0U2tpbGxzKGZpbGUsIHRoaXMuZmV0Y2hTa2lsbHNTdWNjZXNzQ2FsbGJhY2ssIG5vb3ApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHNraWxscyBmZXRjaCBzdWNjZXNzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXk8U2tpbGxDYXJkPn0gY2FyZHMgLSBTa2lsbHMgY2FyZHNcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZpbGUgPSBfdGhpcyRwcm9wczQuZmlsZSxcbiAgICAgICAgICBnZXRWaWV3ZXIgPSBfdGhpcyRwcm9wczQuZ2V0Vmlld2VyO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBjYXJkcyA9IF90aGlzJHN0YXRlLmNhcmRzLFxuICAgICAgICAgIGVycm9ycyA9IF90aGlzJHN0YXRlLmVycm9ycztcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJDb250ZW50LCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJiY3Mtc2tpbGxzXCIsXG4gICAgICAgIHRpdGxlOiBTaWRlYmFyVXRpbHMuZ2V0VGl0bGVGb3JWaWV3KFNJREVCQVJfVklFV19TS0lMTFMpXG4gICAgICB9LCBjYXJkcyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhclNraWxscywge1xuICAgICAgICBjYXJkczogY2FyZHMsXG4gICAgICAgIGVycm9yczogZXJyb3JzLFxuICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICBnZXRWaWV3ZXI6IGdldFZpZXdlcixcbiAgICAgICAgb25Ta2lsbENoYW5nZTogdGhpcy5vblNhdmVcbiAgICAgIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nSW5kaWNhdG9yLCBudWxsKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNraWxsc1NpZGViYXI7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBTa2lsbHNTaWRlYmFyIGFzIFNraWxsc1NpZGViYXJDb21wb25lbnQgfTtcbmV4cG9ydCBkZWZhdWx0IGZsb3coW3dpdGhMb2dnZXIoT1JJR0lOX1NLSUxMU19TSURFQkFSKSwgd2l0aEVycm9yQm91bmRhcnkoT1JJR0lOX1NLSUxMU19TSURFQkFSKSwgd2l0aEFQSUNvbnRleHRdKShTa2lsbHNTaWRlYmFyKTsiXSwic291cmNlUm9vdCI6IiJ9