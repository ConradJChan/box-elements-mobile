(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1115:function(e,t,n){"use strict";n.r(t);n(258);var r=n(0),a=n.n(r),o=n(5),i=n.n(o),c=n(135),l=n.n(c),s=n(98),u=n(341),f=n(107),p=n(6),d=n.n(p),h=n(9),m=n.n(h),b=n(13),v=n.n(b),y=n(1222),g=n(80),O=n(426),E=n(2),S=n(7),w=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,c=void 0===i?24:i,l=e.title,s=e.width,u=void 0===s?24:s;return r.createElement(S.a,{className:"icon-magic-wand ".concat(n),height:c,title:l,viewBox:"0 0 24 24",width:u},r.createElement("path",{className:"fill-color",d:"M19.91 5.84a2.85 2.85 0 0 0-4 0L3.83 17.89a2.83 2.83 0 0 0 4 4L19.91 9.83a2.84 2.84 0 0 0 0-3.99zm-1.6 2.44l-2.92 3-.86-.86 3-3a.51.51 0 0 1 .43-.18.61.61 0 0 1 .43.19l.08.1a.64.64 0 0 1-.16.75zM11.11 3.51a2.67 2.67 0 0 1 .91.86 5.39 5.39 0 0 1 .38.76l.06.14a7.6 7.6 0 0 1 .37-.76 2.71 2.71 0 0 1 .78-.84 4 4 0 0 1 .73-.4l.24-.11c-.25-.11-.5-.23-.74-.36a2.51 2.51 0 0 1-.94-.89 5.63 5.63 0 0 1-.4-.82v-.05a5.93 5.93 0 0 1-.34.72 2.73 2.73 0 0 1-.88.94 6.45 6.45 0 0 1-.74.38l-.16.06a4.3 4.3 0 0 1 .73.37zM8.48 7.61a1.9 1.9 0 0 1 .66.63 4.73 4.73 0 0 1 .28.55v.09a4.64 4.64 0 0 1 .26-.55 2.05 2.05 0 0 1 .56-.61 3.2 3.2 0 0 1 .54-.3l.22-.09a2.11 2.11 0 0 1-.52-.26 1.87 1.87 0 0 1-.68-.66 3.14 3.14 0 0 1-.29-.58c-.08.19-.16.35-.25.52a2 2 0 0 1-.68.65 3.89 3.89 0 0 1-.58.28h-.12a5.36 5.36 0 0 1 .6.33z",fill:o}))},k=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,c=void 0===i?24:i,l=e.title,s=e.width,u=void 0===s?24:s;return r.createElement(S.a,{className:"icon-metadata-thick ".concat(n),height:c,title:l,viewBox:"0 0 24 24",width:u},r.createElement("path",{className:"fill-color",d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm4.37,13.43a1,1,0,0,1-.37.07,1,1,0,0,1-.93-.63L13.9,11.94l-1,2a1,1,0,0,1-1.78,0l-1-2L8.93,14.87a1,1,0,1,1-1.86-.74l2-5a1,1,0,0,1,1.82-.08L12,11.26l1.11-2.21A1,1,0,0,1,14,8.5a1,1,0,0,1,.89.63l2,5A1,1,0,0,1,16.37,15.43Z",fill:o}))},P=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,c=void 0===i?24:i,l=e.title,s=e.width,u=void 0===s?24:s;return r.createElement(S.a,{className:"icon-doc-info ".concat(n),height:c,title:l,viewBox:"0 0 24 24",width:u},r.createElement("path",{className:"fill-color",d:"M19.41 7.41l-4.82-4.82A2 2 0 0 0 13.17 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.83a2 2 0 0 0-.59-1.42zM13 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0zm-1-6a1 1 0 1 1 1-1 1 1 0 0 1-1 1z",fill:o}))},j=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,c=void 0===i?24:i,l=e.title,s=e.width,u=void 0===s?24:s;return r.createElement(S.a,{className:"icon-chat-round ".concat(n),height:c,title:l,viewBox:"0 0 24 24",width:u},r.createElement("path",{className:"fill-color",d:"M14 3h-4a8 8 0 0 0-5 14.26V21a1 1 0 0 0 .08.37 1 1 0 0 0 1.31.53L12 19h2a8 8 0 0 0 0-16zm-6 9a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z",fill:o}))},x=n(3),C=n(16),A=n(1144),N=n(188),L=(n(1152),function(e){var t=e.children,n=e["data-resin-target"],a=(e["data-testid"],e.isOpen),o=e.sidebarView,i=e.tooltip,c="/".concat(o);return r.createElement(y.c,{path:c},function(e){var o=e.match,l=!!o,s=function(){return l&&!!a},u=l&&o.isExact,f={open:!u||!a};return r.createElement(N.a,{position:"middle-left",text:i},r.createElement(A.b,{"aria-selected":s(),activeClassName:"bcs-is-selected",className:"bcs-NavButton","data-resin-target":n,isActive:s,replace:u,role:"tab",to:{pathname:c,state:f},type:"button"},t))})}),_=n(15),T=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?_.h:a,i=e.height,c=void 0===i?16:i,l=e.title,s=e.width,u=void 0===s?16:s;return r.createElement(S.a,{className:"icon-hide ".concat(n),title:l,width:u,height:c,viewBox:"0 0 16 16"},r.createElement("path",{d:"M7.646 7.646L4.354 4.354a.5.5 0 0 1 0-.708l1.292-1.292a.5.5 0 0 1 .708 0l5.292 5.292a.5.5 0 0 1 0 .708l-5.292 5.292a.5.5 0 0 1-.708 0l-1.292-1.292a.5.5 0 0 1 0-.708l3.292-3.292a.5.5 0 0 0 0-.708z",fill:o,fillRule:"nonzero"}))},M=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?_.h:a,i=e.height,c=void 0===i?16:i,l=e.title,s=e.width,u=void 0===s?16:s;return r.createElement(S.a,{className:"icon-show ".concat(n),title:l,width:u,height:c,viewBox:"0 0 16 16"},r.createElement("path",{d:"M7.354 7.646l3.292-3.292a.5.5 0 0 0 0-.708L9.354 2.354a.5.5 0 0 0-.708 0L3.354 7.646a.5.5 0 0 0 0 .708l5.292 5.292a.5.5 0 0 0 .708 0l1.292-1.292a.5.5 0 0 0 0-.708L7.354 8.354a.5.5 0 0 1 0-.708z",fill:o,fillRule:"nonzero"}))},I=n(22),V=n(25);n(1153);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var D=Object(E.g)(function(e){var t=e.className,n=void 0===t?"":t,a=e.direction,o=void 0===a?"right":a,i=e.intl,c=e.isOpen,l=e.onClick,s=F(e,["className","direction","intl","isOpen","onClick"]),u=c?"":"collapsed",f=c?x.a.sidebarHide:x.a.sidebarShow,p=i.formatMessage(f),h=d()(n,"bdl-SidebarToggleButton",{"bdl-is-collapsed":u}),m="left"===o?"middle-right":"middle-left";return r.createElement(V.a,{position:m,text:p},r.createElement(I.a,R({"aria-label":p,className:h,onClick:l,type:"button"},s),"left"===o?c?r.createElement(M,{height:16,width:16}):r.createElement(T,{height:16,width:16}):c?r.createElement(T,{height:16,width:16}):r.createElement(M,{height:16,width:16})))}),H=Object(y.g)(function(e){var t=e.history,n=e.isOpen;return r.createElement(D,{"data-resin-target":C.e.TOGGLE,isOpen:n,onClick:function(e){e.preventDefault(),t.replace({state:{open:!n}})}})}),U=n(130),$=n(32),B=n(349),z=function(e){var t=e.isLoading,n=void 0!==t&&t,a=d()("bdl-AdditionalTabPlaceholder-icon",{"bdl-AdditionalTabPlaceholder-icon--loading":n});return r.createElement("div",{className:"bdl-AdditionalTabPlaceholder"},r.createElement("div",{className:a}))};n(1154);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=q(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==J(a)&&"function"!=typeof a?Z(r):a,Y(Z(Z(n)),"state",{isErrored:!1}),Y(Z(Z(n)),"onImageError",function(){n.props.onImageLoad(),n.setState({isErrored:!0})}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e,t=this.props,n=t.callback,a=t.id,o=t.isLoading,i=t.iconUrl,c=t.onImageLoad,l=t.title,s=G(t,["callback","id","isLoading","iconUrl","onImageLoad","title"]),u=this.state.isErrored,f=d()("bdl-AdditionalTab",{"bdl-AdditionalTab--hidden":o});return e=u?r.createElement(z,{isLoading:!1}):a&&a>0?r.createElement("img",{className:"bdl-AdditionalTab-icon",src:i,onError:this.onImageError,onLoad:c,alt:l}):r.createElement(B.a,{color:_.o}),r.createElement(U.a,{position:"middle-left",text:l},r.createElement($.a,{className:f,type:"button",onClick:function(){return n({id:a,callbackData:s})}},e))}}])&&W(n.prototype,a),o&&W(n,o),t}(),X=(n(1124),function(){return r.createElement("div",{className:"bdl-AdditionalTabPlaceholder"},r.createElement(B.a,{color:_.p,className:"bdl-AdditionalTabPlaceholder-moreIcon"}))}),ee=(n(1155),[z,z,z,z,z,X]),te=function(){return ee.map(function(e,t){return r.createElement(e,{isLoading:!0,key:t})})};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=oe(t).call(this,e),n=!a||"object"!==ne(a)&&"function"!=typeof a?ce(r):a,le(ce(ce(n)),"numLoadedTabs",0),le(ce(ce(n)),"onImageLoad",function(){var e=n.props.tabs;if(e){var t=e.find(function(e){return e.id<0&&!e.iconUrl}),r=e.length-(t?1:0);n.numLoadedTabs+=1,n.numLoadedTabs===r&&n.setState({isLoading:!1})}}),n.state={isLoading:!0},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props.tabs,n=this.state.isLoading;return a.a.createElement("div",{className:"bdl-AdditionalTabs"},n&&a.a.createElement(te,null),t&&t.map(function(t){return a.a.createElement(Q,re({key:t.id,onImageLoad:e.onImageLoad,isLoading:n},t))}))}}])&&ae(n.prototype,o),i&&ae(n,i),t}(),ue=n(1),fe=(n(1156),Object(E.g)(function(e){var t=e.additionalTabs,n=e.fileId,a=e.hasActivity,o=e.hasAdditionalTabs,i=e.hasDetails,c=e.hasMetadata,l=e.hasSkills,s=e.intl,u=e.isOpen,f=e.onNavigate;return r.createElement("div",{className:"bcs-SidebarNav","aria-label":s.formatMessage(x.a.sidebarNavLabel),role:"tablist"},r.createElement("div",{className:"bcs-SidebarNav-tabs"},a&&r.createElement(L,{"data-resin-target":C.e.ACTIVITY,isOpen:u,sidebarView:ue.ae,onNavigate:f,tooltip:r.createElement(E.b,x.a.sidebarActivityTitle)},r.createElement(j,null)),i&&r.createElement(L,{"data-resin-target":C.e.DETAILS,isOpen:u,sidebarView:ue.be,onNavigate:f,tooltip:r.createElement(E.b,x.a.sidebarDetailsTitle)},r.createElement(P,null)),l&&r.createElement(L,{"data-resin-target":C.e.SKILLS,isOpen:u,sidebarView:ue.de,onNavigate:f,tooltip:r.createElement(E.b,x.a.sidebarSkillsTitle)},r.createElement(w,null)),c&&r.createElement(L,{"data-resin-target":C.e.METADATA,isOpen:u,sidebarView:ue.ce,onNavigate:f,tooltip:r.createElement(E.b,x.a.sidebarMetadataTitle)},r.createElement(k,null)),o&&r.createElement(se,{key:n,tabs:t})),r.createElement("div",{className:"bcs-SidebarNav-footer"},r.createElement(H,{isOpen:u})))})),pe=n(1117);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var he="".concat(ue.Kd).concat("_JS_LOADING"),me="".concat(ue.Hd).concat("_JS_LOADING"),be="".concat(ue.Od).concat("_JS_LOADING"),ve="".concat(ue.Ld).concat("_JS_LOADING"),ye="".concat(ue.Pd).concat("_JS_LOADING"),ge=pe.a.getAsyncSidebarContent(ue.be,he),Oe=pe.a.getAsyncSidebarContent(ue.ae,me),Ee=pe.a.getAsyncSidebarContent(ue.de,be),Se=pe.a.getAsyncSidebarContent(ue.ce,ve),we=pe.a.getAsyncSidebarContent(ue.ee,ye),ke=function(e){var t=e.activitySidebarProps,n=e.currentUser,a=e.detailsSidebarProps,o=e.file,i=e.fileId,c=e.getPreview,l=e.getViewer,s=e.hasActivity,u=e.hasDetails,f=e.hasMetadata,p=e.hasSkills,d=e.hasVersions,h=e.isOpen,m=e.metadataSidebarProps,b=e.onVersionChange,v=e.onVersionHistoryClick;return h&&r.createElement(y.e,null,p&&r.createElement(y.c,{exact:!0,path:"/".concat(ue.de),render:function(){return r.createElement(Ee,{key:o.id,file:o,getPreview:c,getViewer:l,startMarkName:be})}}),s&&r.createElement(y.c,{exact:!0,path:"/".concat(ue.ae),render:function(){return r.createElement(Oe,de({currentUser:n,file:o,onVersionHistoryClick:v,startMarkName:me},t))}}),u&&r.createElement(y.c,{exact:!0,path:"/".concat(ue.be),render:function(){return r.createElement(ge,de({fileId:i,key:i,onVersionHistoryClick:v,startMarkName:he},a))}}),f&&r.createElement(y.c,{exact:!0,path:"/".concat(ue.ce),render:function(){return r.createElement(Se,de({fileId:i,startMarkName:ve},m))}}),d&&r.createElement(y.c,{path:"/:sidebar/versions/:versionId?",render:function(e){var t=e.match;return r.createElement(we,{fileId:i,key:i,onVersionChange:b,parentName:t.params.sidebar,versionId:t.params.versionId})}}),r.createElement(y.c,{render:function(){var e="";return p?e=ue.de:s?e=ue.ae:u?e=ue.be:f&&(e=ue.ce),r.createElement(y.b,{to:{pathname:"/".concat(e),state:{silent:!0}}})}}))},Pe=n(78);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Ce(t).call(this,e),n=!a||"object"!==je(a)&&"function"!=typeof a?Ne(r):a,Le(Ne(Ne(n)),"id",v()("bcs_")),Le(Ne(Ne(n)),"state",{isDirty:!1}),Le(Ne(Ne(n)),"store",new O.a),Le(Ne(Ne(n)),"handleVersionHistoryClick",function(e){var t=n.props,r=t.file,a=t.history,o=r.file_version,i=o?"/".concat(o.id):"";e.preventDefault&&e.preventDefault(),a.push("".concat(a.location.pathname,"/versions").concat(i))}),n.setForcedByLocation(),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.fileId,r=t.history,a=t.location,o=e.fileId,i=e.location;this.state.isDirty||n===o||"/"===a.pathname||r.replace({pathname:"/",state:{silent:!0}}),a===i||this.getLocationState("silent")||(this.setForcedByLocation(),this.setState({isDirty:!0}))}},{key:"getLocationState",value:function(e){var t=this.props.location.state,n=void 0===t?{}:t;return m()(n,e)}},{key:"isForced",value:function(e){return void 0!==e&&this.store.setItem("bcs.force",e?"open":"closed"),this.store.getItem("bcs.force")}},{key:"isForcedOpen",value:function(){return"open"===this.isForced()}},{key:"isForcedSet",value:function(){return null!==this.isForced()}},{key:"setForcedByLocation",value:function(){var e=this.getLocationState("open");null!=e&&this.isForced(e)}},{key:"render",value:function(){var e=this.props,t=e.activitySidebarProps,n=e.additionalTabs,a=e.className,o=e.currentUser,i=e.detailsSidebarProps,c=e.features,l=e.file,s=e.fileId,u=e.getPreview,f=e.getViewer,p=e.hasAdditionalTabs,h=e.isLarge,m=e.isLoading,b=e.metadataEditors,v=e.metadataSidebarProps,y=e.onVersionChange,O=this.isForcedSet()?this.isForcedOpen():!!h,E=pe.a.canHaveActivitySidebar(this.props),S=pe.a.canHaveDetailsSidebar(this.props),w=pe.a.shouldRenderMetadataSidebar(this.props,b),k=pe.a.shouldRenderSkillsSidebar(this.props,l),P=Object(Pe.isFeatureEnabled)(c,"versions"),j=P?this.handleVersionHistoryClick:this.props.onVersionHistoryClick,x=d()("be bcs",a,{"bcs-is-open":O});return r.createElement("aside",{id:this.id,className:x},m?r.createElement("div",{className:"bcs-loading"},r.createElement(g.a,null)):r.createElement(r.Fragment,null,r.createElement(fe,{additionalTabs:n,fileId:s,hasActivity:E,hasAdditionalTabs:p,hasDetails:S,hasMetadata:w,hasSkills:k,isOpen:O}),r.createElement(ke,{activitySidebarProps:t,currentUser:o,detailsSidebarProps:i,file:l,fileId:s,getPreview:u,getViewer:f,hasActivity:E,hasDetails:S,hasMetadata:w,hasSkills:k,hasVersions:P,isOpen:O,key:l.id,metadataSidebarProps:v,onVersionChange:y,onVersionHistoryClick:j})))}}])&&xe(n.prototype,a),o&&xe(n,o),t}();Le(_e,"defaultProps",{isLarge:!0,isLoading:!1});var Te=l()([Pe.withFeatureConsumer,y.g])(_e);function Me(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ie=function(e){var t=e.children,n=e.history,a=Me(e,["children","history"]);return n?r.createElement(y.d,{history:n},t):r.createElement(y.a,a,t)},Ve=n(190),Re=n(189),Fe=n(26),De=n(342),He=n(343);n(259),n(257),n(516),n(1160);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We="".concat(ue.Jd,"_").concat(Ve.a);Object(Re.b)(We);var qe=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Be(t).call(this,e),n=!a||"object"!==Ue(a)&&"function"!=typeof a?Je(r):a,Ge(Je(Je(n)),"state",{isLoading:!0}),Ge(Je(Je(n)),"errorCallback",function(e,t){console.error(e),n.props.onError(e,t,{error:e})}),Ge(Je(Je(n)),"fetchMetadataSuccessCallback",function(e){var t=e.editors;n.setState({metadataEditors:t})}),Ge(Je(Je(n)),"fetchFileSuccessCallback",function(e){n.setState({file:e,isLoading:!1},n.fetchMetadata)});var o=e.apiHost,i=e.cache,c=e.clientName,l=e.requestInterceptor,u=e.responseInterceptor,f=e.sharedLink,p=e.sharedLinkPassword,d=e.token;return n.api=new s.a({apiHost:o,cache:i,clientName:c,requestInterceptor:l,responseInterceptor:u,sharedLink:f,sharedLinkPassword:p,token:d}),e.logger.onReadyMetric({endMarkName:We}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,r["Component"]),n=t,(a=[{key:"clearCache",value:function(){this.api.destroy(!0)}},{key:"componentWillUnmount",value:function(){this.api.destroy(!1)}},{key:"componentDidMount",value:function(){this.fetchFile()}},{key:"componentDidUpdate",value:function(e){this.props.fileId!==e.fileId&&this.fetchFile()}},{key:"fetchMetadata",value:function(){var e=this.state.file,t=this.props.metadataSidebarProps.isFeatureEnabled,n=void 0===t||t;!n&&pe.a.canHaveMetadataSidebar(this.props)&&this.api.getMetadataAPI(!1).getMetadata(e,this.fetchMetadataSuccessCallback,i.a,n)}},{key:"fetchFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.fileId;this.setState({isLoading:!0}),t&&pe.a.canHaveSidebar(this.props)&&this.api.getFileAPI().getFile(t,this.fetchFileSuccessCallback,this.errorCallback,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ge(e,t,n[t])})}return e}({},e,{fields:Fe.g}))}},{key:"render",value:function(){var e=this.props,t=e.activitySidebarProps,n=e.additionalTabs,a=e.className,o=e.currentUser,i=e.defaultView,c=e.detailsSidebarProps,l=e.fileId,s=e.getPreview,p=e.getViewer,d=e.hasAdditionalTabs,h=e.hasActivityFeed,m=e.hasMetadata,b=e.hasSkills,v=e.history,y=e.isLarge,g=e.language,O=e.messages,E=e.metadataSidebarProps,S=e.onVersionChange,w=e.onVersionHistoryClick,k=this.state,P=k.file,j=k.isLoading,x=k.metadataEditors,C="/"===i.charAt(0)?i:"/".concat(i);return P&&l&&pe.a.shouldRenderSidebar(this.props,P,x)?r.createElement(f.a,{language:g,messages:O},r.createElement(u.a.Provider,{value:this.api},r.createElement(Ie,{history:v,initialEntries:[C]},r.createElement(Te,{activitySidebarProps:t,additionalTabs:n,className:a,currentUser:o,detailsSidebarProps:c,file:P,fileId:l,getPreview:s,getViewer:p,hasActivityFeed:h,hasAdditionalTabs:d,hasMetadata:m,hasSkills:b,isLarge:y,isLoading:j,metadataEditors:x,metadataSidebarProps:E,onVersionChange:S,onVersionHistoryClick:w})))):null}}])&&$e(n.prototype,a),o&&$e(n,o),t}();Ge(qe,"defaultProps",{activitySidebarProps:{},apiHost:ue.I,className:"",clientName:ue.y,defaultView:"",detailsSidebarProps:{},getPreview:i.a,getViewer:i.a,hasActivityFeed:!1,hasAdditionalTabs:!1,hasMetadata:!1,hasSkills:!1,isLarge:!0,metadataSidebarProps:{}});var Ke=l()([Pe.withFeatureProvider,Object(He.a)(ue.Jd),Object(De.a)(ue.Jd)])(qe);n.d(t,"default",function(){return Ke})},1117:function(e,t,n){"use strict";var r=n(0),a=n(2),o=n(240),i=n(80),c=n(1118),l=n(345),s=(n(1158),function(e){var t=e.title;return r.createElement(c.a,{title:t},r.createElement(l.a,{isOpen:!0},r.createElement(i.a,{className:"bcs-sidebar-loading"})))}),u=n(231),f=(n(1159),function(){return r.createElement("div",{className:"bcs-loading-error"},r.createElement(u.a,null))}),p=n(1143),d=n(3),h=n(189),m=n(1);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,c;return t=e,c=[{key:"canHaveDetailsSidebar",value:function(e){var t=e.detailsSidebarProps,n=void 0===t?{}:t,r=n.hasProperties,a=n.hasAccessStats,o=n.hasClassification,i=n.hasVersions,c=n.hasNotices;return!!(r||a||o||i||c)}},{key:"canHaveMetadataSidebar",value:function(e){return!!e.hasMetadata}},{key:"canHaveActivitySidebar",value:function(e){return!!e.hasActivityFeed}},{key:"canHaveSkillsSidebar",value:function(e){return!!e.hasSkills}},{key:"canHaveSidebar",value:function(t){return e.canHaveDetailsSidebar(t)||e.canHaveActivitySidebar(t)||e.canHaveSkillsSidebar(t)||e.canHaveMetadataSidebar(t)}},{key:"shouldRenderSkillsSidebar",value:function(t,n){return!!n&&e.canHaveSkillsSidebar(t)&&Object(p.a)(n)}},{key:"shouldRenderMetadataSidebar",value:function(t,n){var r=t.metadataSidebarProps,a=(void 0===r?{}:r).isFeatureEnabled,o=void 0===a||a;return e.canHaveMetadataSidebar(t)&&(o||Array.isArray(n)&&n.length>0)}},{key:"shouldRenderSidebar",value:function(t,n,r){return!!n&&(e.canHaveDetailsSidebar(t)||e.shouldRenderSkillsSidebar(t,n)||e.canHaveActivitySidebar(t)||e.shouldRenderMetadataSidebar(t,r))}},{key:"getTitleForView",value:function(e){switch(e){case m.de:return r.createElement(a.b,d.a.sidebarSkillsTitle);case m.be:return r.createElement(a.b,d.a.sidebarDetailsTitle);case m.ce:return r.createElement(a.b,d.a.sidebarMetadataTitle);case m.ae:return r.createElement(a.b,d.a.sidebarActivityTitle);default:return null}}},{key:"getLoaderForView",value:function(e,t){var r;switch(Object(h.b)(t),e){case m.de:r=n.e(6).then(n.bind(null,1219));break;case m.be:r=n.e(4).then(n.bind(null,1218));break;case m.ce:r=n.e(5).then(n.bind(null,1217));break;case m.ae:r=n.e(1).then(n.bind(null,1223));break;case m.ee:r=n.e(7).then(n.bind(null,1221));break;default:return Promise.resolve(null)}return r}},{key:"getAsyncSidebarContent",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(o.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}({errorComponent:f,fallback:r.createElement(s,{title:this.getTitleForView(e)}),loader:function(){return n.getLoaderForView(e,t)}},a))}}],(i=null)&&v(t.prototype,i),c&&v(t,c),e}();t.a=y},1118:function(e,t,n){"use strict";var r=n(0),a=n(6),o=n.n(a);n(1157);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.actions,n=e.children,a=e.className,l=e.title,s=c(e,["actions","children","className","title"]);return r.createElement("div",i({className:o()("bcs-content",a)},s),r.createElement("div",{className:"bcs-content-header"},r.createElement("h3",{className:"bcs-title"},l),t),r.createElement("div",{className:"bcs-scroll-content-wrapper"},r.createElement("div",{className:"bcs-scroll-content"},n)))}},1124:function(e,t,n){},1142:function(e,t,n){"use strict";e.exports=n(1150)},1143:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(9),a=n.n(r),o=function(e,t){var n=a()(e,"file_version.id");return n===(t.file_version?t.file_version.id:n)&&(!!t.status||Array.isArray(t.entries))},i=function(e){var t=a()(e,"metadata.global.boxSkillsCards.cards",[]);return Array.isArray(t)&&t.length>0&&t.some(function(t){return o(e,t)})}},1144:function(e,t,n){"use strict";var r=n(0),a=n(6),o=n.n(a),i=n(2),c=n(1222),l=n(460),s=n(3),u=n(22);n(1145);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=function(e){var t=e.className,n=e.to,a=p(e,["className","to"]);return r.createElement(c.c,null,function(e){var c=e.history;return r.createElement(u.a,f({className:o()("bdl-BackButton",t),onClick:function(){return n?c.push(n):c.goBack()},type:"button"},a),r.createElement(l.a,{height:24,width:24}),r.createElement("span",{className:"accessibility-hidden"},r.createElement(i.b,s.a.back)))})},h=n(38);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var y=r.forwardRef(function(e,t){var n=e.activeClassName,a=void 0===n?"bdl-is-active":n,i=e.children,l=e.className,s=void 0===l?"bdl-NavButton":l,f=e.component,p=void 0===f?u.a:f,d=e.exact,y=e.isActive,g=e.onClick,O=e.replace,E=e.strict,S=e.to,w=v(e,["activeClassName","children","className","component","exact","isActive","onClick","replace","strict","to"]),k="object"===b(S)?S.pathname:S;return r.createElement(c.c,{exact:d,path:k,strict:E},function(e){var n,c,l,u=e.history,f=e.location,d=e.match,b=!!(y?y(d,f):d);return r.createElement(p,m({className:o()(s,(n={},c=a,l=b,c in n?Object.defineProperty(n,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[c]=l,n)),onClick:function(e){(g&&g(e),!e.defaultPrevented&&Object(h.d)(e))&&(O?u.replace:u.push)(S)},ref:t},w),i)})});n.d(t,"a",function(){return d}),n.d(t,"b",function(){return y})},1145:function(e,t,n){},1146:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},1147:function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(40))},1148:function(e,t,n){var r=n(1149);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return c(o(e,t))},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,i=0,c="",u=t&&t.delimiter||"/";null!=(n=a.exec(e));){var f=n[0],p=n[1],d=n.index;if(c+=e.slice(i,d),i=d+f.length,p)c+=p[1];else{var h=e[i],m=n[2],b=n[3],v=n[4],y=n[5],g=n[6],O=n[7];c&&(r.push(c),c="");var E=null!=m&&null!=h&&h!==m,S="+"===g||"*"===g,w="?"===g||"*"===g,k=n[2]||u,P=v||y;r.push({name:b||o++,prefix:m||"",delimiter:k,optional:w,repeat:S,partial:E,asterisk:!!O,pattern:P?s(P):O?".*":"[^"+l(k)+"]+?"})}}return i<e.length&&(c+=e.substr(i)),c&&r.push(c),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,a){for(var o="",c=n||{},l=(a||{}).pretty?i:encodeURIComponent,s=0;s<e.length;s++){var u=e[s];if("string"!=typeof u){var f,p=c[u.name];if(null==p){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(f=l(p[d]),!t[s].test(f))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?u.prefix:u.delimiter)+f}}else{if(f=u.asterisk?encodeURI(p).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):l(p),!t[s].test(f))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+f+'"');o+=u.prefix+f}}else o+=u}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",c=0;c<e.length;c++){var s=e[c];if("string"==typeof s)i+=l(s);else{var p=l(s.prefix),d="(?:"+s.pattern+")";t.push(s),s.repeat&&(d+="(?:"+p+d+")*"),i+=d=s.optional?s.partial?p+"("+d+")?":"(?:"+p+"("+d+"))?":p+"("+d+")"}}var h=l(n.delimiter||"/"),m=i.slice(-h.length)===h;return a||(i=(m?i.slice(0,-h.length):i)+"(?:"+h+"(?=$))?"),i+=o?"$":a&&m?"":"(?="+h+"|$)",u(new RegExp("^"+i,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(d(e[a],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},1149:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1150:function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case f:case p:case i:case l:case c:case h:return e;default:switch(e=e&&e.$$typeof){case u:case d:case s:return e;default:return t}}case b:case m:case o:return t}}}function y(e){return v(e)===p}t.typeOf=v,t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=s,t.Element=a,t.ForwardRef=d,t.Fragment=i,t.Lazy=b,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=c,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===l||e===c||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===s||e.$$typeof===u||e.$$typeof===d)},t.isAsyncMode=function(e){return y(e)||v(e)===f},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return v(e)===d},t.isFragment=function(e){return v(e)===i},t.isLazy=function(e){return v(e)===b},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===l},t.isStrictMode=function(e){return v(e)===c},t.isSuspense=function(e){return v(e)===h}},1151:function(e,t,n){"use strict";var r=n(1142),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function l(e){return r.isMemo(e)?i:c[e.$$typeof]||a}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var s=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=d(n);a&&a!==h&&e(t,a,r)}var i=u(n);f&&(i=i.concat(f(n)));for(var c=l(t),m=l(n),b=0;b<i.length;++b){var v=i[b];if(!(o[v]||r&&r[v]||m&&m[v]||c&&c[v])){var y=p(n,v);try{s(t,v,y)}catch(e){}}}return t}return t}},1152:function(e,t,n){},1153:function(e,t,n){},1154:function(e,t,n){},1155:function(e,t,n){},1156:function(e,t,n){},1157:function(e,t,n){},1158:function(e,t,n){},1159:function(e,t,n){},1160:function(e,t,n){},1222:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1146),i=n.n(o),c=n(11),l=n.n(c),s=n(1147),u=n.n(s),f=1073741823;var p=a.a.createContext||function(e,t){var n,a,o="__create-react-context-"+u()()+"__",c=function(e){function n(){var t,n,r;return(t=e.apply(this,arguments)||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter(function(t){return t!==e})},get:function(){return n},set:function(e,t){n=e,r.forEach(function(e){return e(n,t)})}}),t}i()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,a=e.value;((o=r)===(i=a)?0!==o||1/o==1/i:o!=o&&i!=i)?n=0:(n="function"==typeof t?t(r,a):f,0!=(n|=0)&&this.emitter.set(e.value,n))}var o,i},r.render=function(){return this.props.children},n}(r.Component);c.childContextTypes=((n={})[o]=l.a.object.isRequired,n);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}i()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?f:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?f:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return s.contextTypes=((a={})[o]=l.a.object,a),{Provider:c,Consumer:s}},d=n(432),h=n(351);function m(e){return"/"===e.charAt(0)}function b(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&m(e),o=t&&m(t),i=a||o;if(e&&m(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c=void 0;if(r.length){var l=r[r.length-1];c="."===l||".."===l||""===l}else c=!1;for(var s=0,u=r.length;u>=0;u--){var f=r[u];"."===f?b(r,u):".."===f?(b(r,u),s++):s&&(b(r,u),s--)}if(!i)for(;s--;s)r.unshift("..");!i||""===r[0]||r[0]&&m(r[0])||r.unshift("");var p=r.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p},y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var g=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r=void 0===t?"undefined":y(t);if(r!==(void 0===n?"undefined":y(n)))return!1;if("object"===r){var a=t.valueOf(),o=n.valueOf();if(a!==t||o!==n)return e(a,o);var i=Object.keys(t),c=Object.keys(n);return i.length===c.length&&i.every(function(r){return e(t[r],n[r])})}return!1},O=!0,E="Invariant failed";var S=function(e,t){if(!e)throw O?new Error(E):new Error(E+": "+(t||""))};function w(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function k(e,t,n,r){var a;"string"==typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=Object(h.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=v(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function P(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&g(e.state,t.state)}function j(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}"undefined"==typeof window||!window.document||window.document.createElement;function x(e,t,n){return Math.min(Math.max(e,t),n)}var C=n(1148),A=n.n(C),N=(n(1142),n(431)),L=n(1151),_=n.n(L);n.d(t,"a",function(){return I}),n.d(t,"b",function(){return U}),n.d(t,"c",function(){return G}),n.d(t,"d",function(){return M}),n.d(t,"e",function(){return Q}),n.d(t,"f",function(){return H}),n.d(t,"g",function(){return X});var T=function(e){var t=p();return t.displayName=e,t}("Router"),M=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(d.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(T.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(a.a.Component);var I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,a=void 0===r?["/"]:r,o=t.initialIndex,i=void 0===o?0:o,c=t.keyLength,l=void 0===c?6:c,s=j();function u(e){Object(h.a)(v,e),v.length=v.entries.length,s.notifyListeners(v.location,v.action)}function f(){return Math.random().toString(36).substr(2,l)}var p=x(i,0,a.length-1),d=a.map(function(e){return k(e,void 0,"string"==typeof e?f():e.key||f())}),m=w;function b(e){var t=x(v.index+e,0,v.entries.length-1),r=v.entries[t];s.confirmTransitionTo(r,"POP",n,function(e){e?u({action:"POP",location:r,index:t}):u()})}var v={length:d.length,action:"POP",location:d[p],index:p,entries:d,createHref:m,push:function(e,t){var r=k(e,t,f(),v.location);s.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=v.index+1,n=v.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),u({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=k(e,t,f(),v.location);s.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(v.entries[v.index]=r,u({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(e){return void 0===e&&(e=!1),s.setPrompt(e)},listen:function(e){return s.appendListener(e)}};return v}(t.props),t}return Object(d.a)(t,e),t.prototype.render=function(){return a.a.createElement(M,{history:this.history,children:this.props.children})},t}(a.a.Component);var V=function(e){function t(){return e.apply(this,arguments)||this}Object(d.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(a.a.Component);var R={},F=1e4,D=0;function H(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(R[e])return R[e];var t=A.a.compile(e);return D<F&&(R[e]=t,D++),t}(e)(t,{pretty:!0})}function U(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return a.a.createElement(T.Consumer,null,function(e){e||S(!1);var r=e.history,i=e.staticContext,c=o?r.push:r.replace,l=k(t?"string"==typeof n?H(n,t.params):Object(h.a)({},n,{pathname:H(n.pathname,t.params)}):n);return i?(c(l),null):a.a.createElement(V,{onMount:function(){c(l)},onUpdate:function(e,t){var n=k(t.to);P(n,Object(h.a)({},l,{key:n.key}))||c(l)},to:n})})}var $={},B=1e4,z=0;function J(e,t){void 0===t&&(t={}),"string"==typeof t&&(t={path:t});var n=t,r=n.path,a=n.exact,o=void 0!==a&&a,i=n.strict,c=void 0!==i&&i,l=n.sensitive,s=void 0!==l&&l;return[].concat(r).reduce(function(t,n){if(!n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=$[n]||($[n]={});if(r[e])return r[e];var a=[],o={regexp:A()(e,a,t),keys:a};return z<B&&(r[e]=o,z++),o}(n,{end:o,strict:c,sensitive:s}),a=r.regexp,i=r.keys,l=a.exec(e);if(!l)return null;var u=l[0],f=l.slice(1),p=e===u;return o&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:i.reduce(function(e,t,n){return e[t.name]=f[n],e},{})}},null)}var G=function(e){function t(){return e.apply(this,arguments)||this}return Object(d.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(T.Consumer,null,function(t){t||S(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?J(n.pathname,e.props):t.match,o=Object(h.a)({},t,{location:n,match:r}),i=e.props,c=i.children,l=i.component,s=i.render;(Array.isArray(c)&&0===c.length&&(c=null),"function"==typeof c)&&(void 0===(c=c(o))&&(c=null));return a.a.createElement(T.Provider,{value:o},c&&!function(e){return 0===a.a.Children.count(e)}(c)?c:o.match?l?a.a.createElement(l,o):s?s(o):null:null)})},t}(a.a.Component);function W(e){return"/"===e.charAt(0)?e:"/"+e}function q(e,t){if(!e)return t;var n=W(e);return 0!==t.pathname.indexOf(n)?t:Object(h.a)({},t,{pathname:t.pathname.substr(n.length)})}function K(e){return"string"==typeof e?e:w(e)}function Z(e){return function(){S(!1)}}function Y(){}a.a.Component;var Q=function(e){function t(){return e.apply(this,arguments)||this}return Object(d.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(T.Consumer,null,function(t){t||S(!1);var n,r,o=e.props.location||t.location;return a.a.Children.forEach(e.props.children,function(e){if(null==r&&a.a.isValidElement(e)){n=e;var i=e.props.path||e.props.from;r=i?J(o.pathname,Object(h.a)({},e.props,{path:i})):t.match}}),r?a.a.cloneElement(n,{location:o,computedMatch:r}):null})},t}(a.a.Component);function X(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(N.a)(t,["wrappedComponentRef"]);return a.a.createElement(T.Consumer,null,function(t){return t||S(!1),a.a.createElement(e,Object(h.a)({},r,t,{ref:n}))})};return n.displayName=t,n.WrappedComponent=e,_()(n,e)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvbk1hZ2ljV2FuZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvbk1ldGFkYXRhVGhpY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9pY29ucy9nZW5lcmFsL0ljb25Eb2NJbmZvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvaWNvbnMvZ2VuZXJhbC9JY29uQ2hhdFJvdW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL1NpZGViYXJOYXZCdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9pY29ucy9nZW5lcmFsL0ljb25IaWRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvaWNvbnMvZ2VuZXJhbC9JY29uU2hvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2NvbXBvbmVudHMvc2lkZWJhci10b2dnbGUtYnV0dG9uL1NpZGViYXJUb2dnbGVCdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvU2lkZWJhclRvZ2dsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9hZGRpdGlvbmFsLXRhYnMvQWRkaXRpb25hbFRhYlBsYWNlaG9sZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL2FkZGl0aW9uYWwtdGFicy9BZGRpdGlvbmFsVGFiLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL2FkZGl0aW9uYWwtdGFicy9Nb3JlVGFiUGxhY2Vob2xkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvYWRkaXRpb25hbC10YWJzL0FkZGl0aW9uYWxUYWJzTG9hZGluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9hZGRpdGlvbmFsLXRhYnMvQWRkaXRpb25hbFRhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvU2lkZWJhck5hdi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9TaWRlYmFyUGFuZWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL1NpZGViYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvU2lkZWJhclJvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9Db250ZW50U2lkZWJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9TaWRlYmFyTG9hZGluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9TaWRlYmFyTG9hZGluZ0Vycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL1NpZGViYXJVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9TaWRlYmFyQ29udGVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvc2tpbGxzL3NraWxsVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb21tb24vbmF2LWJ1dHRvbi9CYWNrQnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29tbW9uL25hdi1idXR0b24vTmF2QnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29tbW9uL25hdi1idXR0b24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktY3JlYXRlLXJlYWN0LWNvbnRleHQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3VkL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvbm9kZV9tb2R1bGVzL3BhdGgtdG8tcmVnZXhwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL25vZGVfbW9kdWxlcy9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9kaXN0L2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzLmNqcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWluaS1jcmVhdGUtcmVhY3QtY29udGV4dC9kaXN0L2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmFsdWUtZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbnktaW52YXJpYW50L2Rpc3QvdGlueS1pbnZhcmlhbnQuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzbS9oaXN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvZXNtL3JlYWN0LXJvdXRlci5qcyJdLCJuYW1lcyI6WyJnZW5lcmFsX0ljb25NYWdpY1dhbmQiLCJfcmVmIiwiX3JlZiRjbGFzc05hbWUiLCJjbGFzc05hbWUiLCJfcmVmJGNvbG9yIiwiY29sb3IiLCJfcmVmJGhlaWdodCIsImhlaWdodCIsInRpdGxlIiwiX3JlZiR3aWR0aCIsIndpZHRoIiwicmVhY3QiLCJhY2Nlc3NpYmxlX3N2ZyIsImNvbmNhdCIsInZpZXdCb3giLCJkIiwiZmlsbCIsImdlbmVyYWxfSWNvbk1ldGFkYXRhVGhpY2siLCJnZW5lcmFsX0ljb25Eb2NJbmZvIiwiZ2VuZXJhbF9JY29uQ2hhdFJvdW5kIiwiZWxlbWVudHNfY29udGVudF9zaWRlYmFyX1NpZGViYXJOYXZCdXR0b24iLCJjaGlsZHJlbiIsImRhdGFSZXNpblRhcmdldCIsImlzT3BlbiIsInNpZGViYXJWaWV3IiwidG9vbHRpcCIsInNpZGViYXJQYXRoIiwicmVhY3Rfcm91dGVyIiwicGF0aCIsIl9yZWYyIiwibWF0Y2giLCJpc01hdGNoIiwiaXNBY3RpdmUiLCJpc1RvZ2dsZSIsImlzRXhhY3QiLCJzaWRlYmFyU3RhdGUiLCJvcGVuIiwiVG9vbHRpcCIsInBvc2l0aW9uIiwidGV4dCIsIm5hdl9idXR0b24iLCJhcmlhLXNlbGVjdGVkIiwiYWN0aXZlQ2xhc3NOYW1lIiwiZGF0YS1yZXNpbi10YXJnZXQiLCJyZXBsYWNlIiwicm9sZSIsInRvIiwicGF0aG5hbWUiLCJzdGF0ZSIsInR5cGUiLCJnZW5lcmFsX0ljb25IaWRlIiwidmFyaWFibGVzIiwiZmlsbFJ1bGUiLCJnZW5lcmFsX0ljb25TaG93IiwiX2V4dGVuZHMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiZXhjbHVkZWQiLCJzb3VyY2VLZXlzIiwia2V5cyIsImluZGV4T2YiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImdldE93blByb3BlcnR5U3ltYm9scyIsInNvdXJjZVN5bWJvbEtleXMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbXBvbmVudHNfc2lkZWJhcl90b2dnbGVfYnV0dG9uX1NpZGViYXJUb2dnbGVCdXR0b24iLCJpbmRleF9lcyIsIl9yZWYkZGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwiaW50bCIsIm9uQ2xpY2siLCJyZXN0IiwiaXNDb2xsYXBzZWQiLCJpbnRsTWVzc2FnZSIsImNvbW1vbl9tZXNzYWdlcyIsInNpZGViYXJIaWRlIiwic2lkZWJhclNob3ciLCJpbnRsVGV4dCIsImZvcm1hdE1lc3NhZ2UiLCJjbGFzc2VzIiwiY2xhc3NuYW1lc19kZWZhdWx0IiwiYmRsLWlzLWNvbGxhcHNlZCIsInRvb2x0aXBQb3NpdGlvbiIsImNvbXBvbmVudHNfdG9vbHRpcCIsInBsYWluX2J1dHRvbiIsImFyaWEtbGFiZWwiLCJjb250ZW50X3NpZGViYXJfU2lkZWJhclRvZ2dsZSIsImhpc3RvcnkiLCJpbnRlcmFjdGlvblRhcmdldHMiLCJUT0dHTEUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWRkaXRpb25hbF90YWJzX0FkZGl0aW9uYWxUYWJQbGFjZWhvbGRlciIsIl9yZWYkaXNMb2FkaW5nIiwiaXNMb2FkaW5nIiwiYmRsLUFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlci1pY29uLS1sb2FkaW5nIiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJBZGRpdGlvbmFsVGFiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiQWRkaXRpb25hbFRhYl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiX2RlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsIl9nZXRQcm90b3R5cGVPZiIsIm8iLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX3NldFByb3RvdHlwZU9mIiwicCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImNvbnRlbnRfc2lkZWJhcl9hZGRpdGlvbmFsX3RhYnNfQWRkaXRpb25hbFRhYiIsIl9SZWFjdCRQdXJlQ29tcG9uZW50IiwiQWRkaXRpb25hbFRhYiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfdGhpcyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJfbGVuIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImlzRXJyb3JlZCIsIm9uSW1hZ2VMb2FkIiwic2V0U3RhdGUiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJfaW5oZXJpdHMiLCJUYWJJY29uIiwiX3RoaXMkcHJvcHMiLCJjYWxsYmFja0ZuIiwiY2FsbGJhY2siLCJpZCIsImljb25VcmwiLCJiZGwtQWRkaXRpb25hbFRhYi0taGlkZGVuIiwic3JjIiwib25FcnJvciIsIm9uSW1hZ2VFcnJvciIsIm9uTG9hZCIsImFsdCIsIkljb25FbGxpcHNpcyIsImNvbW1vbl9Ub29sdGlwIiwiUGxhaW5CdXR0b24iLCJjYWxsYmFja0RhdGEiLCJhZGRpdGlvbmFsX3RhYnNfTW9yZVRhYlBsYWNlaG9sZGVyIiwiTE9BRElOR19UQUJTIiwiY29udGVudF9zaWRlYmFyX2FkZGl0aW9uYWxfdGFic19BZGRpdGlvbmFsVGFic0xvYWRpbmciLCJtYXAiLCJMb2FkaW5nQ29tcG9uZW50IiwiaWR4IiwiQWRkaXRpb25hbFRhYnNfdHlwZW9mIiwiQWRkaXRpb25hbFRhYnNfZXh0ZW5kcyIsIkFkZGl0aW9uYWxUYWJzX2RlZmluZVByb3BlcnRpZXMiLCJBZGRpdGlvbmFsVGFic19nZXRQcm90b3R5cGVPZiIsIkFkZGl0aW9uYWxUYWJzX3NldFByb3RvdHlwZU9mIiwiQWRkaXRpb25hbFRhYnNfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiQWRkaXRpb25hbFRhYnNfZGVmaW5lUHJvcGVydHkiLCJjb250ZW50X3NpZGViYXJfYWRkaXRpb25hbF90YWJzX0FkZGl0aW9uYWxUYWJzIiwiX1B1cmVDb21wb25lbnQiLCJBZGRpdGlvbmFsVGFicyIsIkFkZGl0aW9uYWxUYWJzX2NsYXNzQ2FsbENoZWNrIiwidGFicyIsImhhc01vcmVUYWIiLCJmaW5kIiwidGFiIiwibnVtVGFicyIsIm51bUxvYWRlZFRhYnMiLCJBZGRpdGlvbmFsVGFic19pbmhlcml0cyIsIl90aGlzMiIsInJlYWN0X2RlZmF1bHQiLCJhIiwiY3JlYXRlRWxlbWVudCIsInRhYkRhdGEiLCJlbGVtZW50c19jb250ZW50X3NpZGViYXJfU2lkZWJhck5hdiIsImFkZGl0aW9uYWxUYWJzIiwiZmlsZUlkIiwiaGFzQWN0aXZpdHkiLCJoYXNBZGRpdGlvbmFsVGFicyIsImhhc0RldGFpbHMiLCJoYXNNZXRhZGF0YSIsImhhc1NraWxscyIsIm9uTmF2aWdhdGUiLCJzaWRlYmFyTmF2TGFiZWwiLCJBQ1RJVklUWSIsImNvbnN0YW50cyIsInNpZGViYXJBY3Rpdml0eVRpdGxlIiwiREVUQUlMUyIsInNpZGViYXJEZXRhaWxzVGl0bGUiLCJTS0lMTFMiLCJzaWRlYmFyU2tpbGxzVGl0bGUiLCJNRVRBREFUQSIsInNpZGViYXJNZXRhZGF0YVRpdGxlIiwiU2lkZWJhclBhbmVsc19leHRlbmRzIiwiTUFSS19OQU1FX0pTX0xPQURJTkdfREVUQUlMUyIsIk1BUktfTkFNRV9KU19MT0FESU5HX0FDVElWSVRZIiwiTUFSS19OQU1FX0pTX0xPQURJTkdfU0tJTExTIiwiTUFSS19OQU1FX0pTX0xPQURJTkdfTUVUQURBVEEiLCJNQVJLX05BTUVfSlNfTE9BRElOR19WRVJTSU9OUyIsIkxvYWRhYmxlRGV0YWlsc1NpZGViYXIiLCJTaWRlYmFyVXRpbHMiLCJnZXRBc3luY1NpZGViYXJDb250ZW50IiwiTG9hZGFibGVBY3Rpdml0eVNpZGViYXIiLCJMb2FkYWJsZVNraWxsc1NpZGViYXIiLCJMb2FkYWJsZU1ldGFkYXRhU2lkZWJhciIsIkxvYWRhYmxlVmVyc2lvbnNTaWRlYmFyIiwiY29udGVudF9zaWRlYmFyX1NpZGViYXJQYW5lbHMiLCJhY3Rpdml0eVNpZGViYXJQcm9wcyIsImN1cnJlbnRVc2VyIiwiZGV0YWlsc1NpZGViYXJQcm9wcyIsImZpbGUiLCJnZXRQcmV2aWV3IiwiZ2V0Vmlld2VyIiwiaGFzVmVyc2lvbnMiLCJtZXRhZGF0YVNpZGViYXJQcm9wcyIsIm9uVmVyc2lvbkNoYW5nZSIsIm9uVmVyc2lvbkhpc3RvcnlDbGljayIsImV4YWN0IiwicmVuZGVyIiwic3RhcnRNYXJrTmFtZSIsInBhcmVudE5hbWUiLCJwYXJhbXMiLCJzaWRlYmFyIiwidmVyc2lvbklkIiwicmVkaXJlY3QiLCJzaWxlbnQiLCJTaWRlYmFyX3R5cGVvZiIsIlNpZGViYXJfZGVmaW5lUHJvcGVydGllcyIsIlNpZGViYXJfZ2V0UHJvdG90eXBlT2YiLCJTaWRlYmFyX3NldFByb3RvdHlwZU9mIiwiU2lkZWJhcl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJTaWRlYmFyX2RlZmluZVByb3BlcnR5IiwiU2lkZWJhcl9TaWRlYmFyIiwiX1JlYWN0JENvbXBvbmVudCIsIlNpZGViYXIiLCJTaWRlYmFyX2NsYXNzQ2FsbENoZWNrIiwidW5pcXVlSWRfZGVmYXVsdCIsImlzRGlydHkiLCJMb2NhbFN0b3JlIiwiY3VycmVudFZlcnNpb24iLCJmaWxlX3ZlcnNpb24iLCJmaWxlVmVyc2lvblNsdWciLCJwdXNoIiwibG9jYXRpb24iLCJzZXRGb3JjZWRCeUxvY2F0aW9uIiwiU2lkZWJhcl9pbmhlcml0cyIsInByZXZQcm9wcyIsIl90aGlzJHByb3BzMiIsInByZXZGaWxlSWQiLCJwcmV2TG9jYXRpb24iLCJnZXRMb2NhdGlvblN0YXRlIiwiX2xvY2F0aW9uJHN0YXRlIiwibG9jYXRpb25TdGF0ZSIsImdldF9kZWZhdWx0IiwidW5kZWZpbmVkIiwic3RvcmUiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsImlzRm9yY2VkIiwiaXNMb2NhdGlvbk9wZW4iLCJfdGhpcyRwcm9wczMiLCJmZWF0dXJlcyIsImlzTGFyZ2UiLCJtZXRhZGF0YUVkaXRvcnMiLCJpc0ZvcmNlZFNldCIsImlzRm9yY2VkT3BlbiIsImNhbkhhdmVBY3Rpdml0eVNpZGViYXIiLCJjYW5IYXZlRGV0YWlsc1NpZGViYXIiLCJzaG91bGRSZW5kZXJNZXRhZGF0YVNpZGViYXIiLCJzaG91bGRSZW5kZXJTa2lsbHNTaWRlYmFyIiwiZmVhdHVyZV9jaGVja2luZyIsImhhbmRsZVZlcnNpb25IaXN0b3J5Q2xpY2siLCJzdHlsZUNsYXNzTmFtZSIsImJjcy1pcy1vcGVuIiwiTG9hZGluZ0luZGljYXRvciIsImNvbnRlbnRfc2lkZWJhcl9TaWRlYmFyIiwiZmxvd19kZWZhdWx0IiwiU2lkZWJhclJvdXRlcl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsIlNpZGViYXJSb3V0ZXJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImNvbnRlbnRfc2lkZWJhcl9TaWRlYmFyUm91dGVyIiwiQ29udGVudFNpZGViYXJfdHlwZW9mIiwiQ29udGVudFNpZGViYXJfZGVmaW5lUHJvcGVydGllcyIsIkNvbnRlbnRTaWRlYmFyX2dldFByb3RvdHlwZU9mIiwiQ29udGVudFNpZGViYXJfc2V0UHJvdG90eXBlT2YiLCJDb250ZW50U2lkZWJhcl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJDb250ZW50U2lkZWJhcl9kZWZpbmVQcm9wZXJ0eSIsIk1BUktfTkFNRV9KU19SRUFEWSIsImxvZ2dlcl9jb25zdGFudHMiLCJwZXJmb3JtYW5jZSIsIkNvbnRlbnRTaWRlYmFyX0NvbnRlbnRTaWRlYmFyIiwiQ29udGVudFNpZGViYXIiLCJDb250ZW50U2lkZWJhcl9jbGFzc0NhbGxDaGVjayIsImVycm9yIiwiY29kZSIsImNvbnNvbGUiLCJlZGl0b3JzIiwiZmV0Y2hNZXRhZGF0YSIsImFwaUhvc3QiLCJjYWNoZSIsImNsaWVudE5hbWUiLCJyZXF1ZXN0SW50ZXJjZXB0b3IiLCJyZXNwb25zZUludGVyY2VwdG9yIiwic2hhcmVkTGluayIsInNoYXJlZExpbmtQYXNzd29yZCIsInRva2VuIiwiYXBpIiwibG9nZ2VyIiwib25SZWFkeU1ldHJpYyIsImVuZE1hcmtOYW1lIiwiQ29udGVudFNpZGViYXJfaW5oZXJpdHMiLCJkZXN0cm95IiwiZmV0Y2hGaWxlIiwiX21ldGFkYXRhU2lkZWJhclByb3BzIiwiaXNGZWF0dXJlRW5hYmxlZCIsImNhbkhhdmVNZXRhZGF0YVNpZGViYXIiLCJnZXRNZXRhZGF0YUFQSSIsImdldE1ldGFkYXRhIiwiZmV0Y2hNZXRhZGF0YVN1Y2Nlc3NDYWxsYmFjayIsIm5vb3BfZGVmYXVsdCIsImZldGNoT3B0aW9ucyIsImNhbkhhdmVTaWRlYmFyIiwiZ2V0RmlsZUFQSSIsImdldEZpbGUiLCJmZXRjaEZpbGVTdWNjZXNzQ2FsbGJhY2siLCJlcnJvckNhbGxiYWNrIiwib3duS2V5cyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImZvckVhY2giLCJfb2JqZWN0U3ByZWFkIiwiZmllbGRzIiwiZGVmYXVsdFZpZXciLCJoYXNBY3Rpdml0eUZlZWQiLCJsYW5ndWFnZSIsIm1lc3NhZ2VzIiwiX3RoaXMkc3RhdGUiLCJpbml0aWFsUGF0aCIsImNoYXJBdCIsInNob3VsZFJlbmRlclNpZGViYXIiLCJJbnRlcm5hdGlvbmFsaXplIiwiYXBpX2NvbnRleHQiLCJQcm92aWRlciIsImluaXRpYWxFbnRyaWVzIiwiZWxlbWVudHNfY29udGVudF9zaWRlYmFyX0NvbnRlbnRTaWRlYmFyIiwiY29tbW9uX2xvZ2dlciIsImVycm9yX2JvdW5kYXJ5IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9fd2VicGFja19leHBvcnRzX18iLCJlbGVtZW50c19jb250ZW50X3NpZGViYXJfU2lkZWJhckxvYWRpbmciLCJTaWRlYmFyQ29udGVudCIsIlNpZGViYXJTZWN0aW9uIiwiZWxlbWVudHNfY29udGVudF9zaWRlYmFyX1NpZGViYXJMb2FkaW5nRXJyb3IiLCJEZWZhdWx0RXJyb3IiLCJTaWRlYmFyVXRpbHNfU2lkZWJhclV0aWxzIiwiX3JlZiRkZXRhaWxzU2lkZWJhclByIiwiaGFzUHJvcGVydGllcyIsImhhc0FjY2Vzc1N0YXRzIiwiaGFzQ2xhc3NpZmljYXRpb24iLCJoYXNOb3RpY2VzIiwiY2FuSGF2ZVNraWxsc1NpZGViYXIiLCJza2lsbFV0aWxzIiwiX3Byb3BzJG1ldGFkYXRhU2lkZWJhIiwiaXNBcnJheSIsInZpZXciLCJtYXJrTmFtZSIsImltcG9ydEZuIiwiZSIsInRoZW4iLCJiaW5kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJhc3luY19sb2FkIiwiZXJyb3JDb21wb25lbnQiLCJmYWxsYmFjayIsImdldFRpdGxlRm9yVmlldyIsImxvYWRlciIsImdldExvYWRlckZvclZpZXciLCJyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQiLCJuIiwiYWN0aW9ucyIsIm1vZHVsZSIsImV4cG9ydHMiLCJpc1ZhbGlkU2tpbGxzQ2FyZCIsImxvZGFzaF9nZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImxvZGFzaF9nZXRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0IiwiY2FyZCIsImZpbGVWZXJzaW9uIiwic3RhdHVzIiwiZW50cmllcyIsImNhcmRzIiwic29tZSIsImNvbW1vbl9uYXZfYnV0dG9uX0JhY2tCdXR0b24iLCJnb0JhY2siLCJJY29uTmF2aWdhdGVMZWZ0IiwiYmFjayIsIk5hdkJ1dHRvbl9leHRlbmRzIiwiTmF2QnV0dG9uX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiTmF2QnV0dG9uX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJuYXZfYnV0dG9uX05hdkJ1dHRvbiIsInJlZiIsIl9wcm9wcyRhY3RpdmVDbGFzc05hbSIsIl9wcm9wcyRjbGFzc05hbWUiLCJfcHJvcHMkY29tcG9uZW50IiwiY29tcG9uZW50IiwiQ29tcG9uZW50IiwiX29uQ2xpY2siLCJzdHJpY3QiLCJpc0FjdGl2ZVZhbHVlIiwiZGVmYXVsdFByZXZlbnRlZCIsImRvbSIsImdsb2JhbCIsImlzYXJyYXkiLCJwYXRoVG9SZWdleHAiLCJwYXJzZSIsImNvbXBpbGUiLCJzdHIiLCJvcHRpb25zIiwidG9rZW5zVG9GdW5jdGlvbiIsInRva2Vuc1RvUmVnRXhwIiwiUEFUSF9SRUdFWFAiLCJSZWdFeHAiLCJqb2luIiwicmVzIiwidG9rZW5zIiwiaW5kZXgiLCJkZWZhdWx0RGVsaW1pdGVyIiwiZGVsaW1pdGVyIiwiZXhlYyIsIm0iLCJlc2NhcGVkIiwib2Zmc2V0Iiwic2xpY2UiLCJuZXh0IiwicHJlZml4IiwibmFtZSIsImNhcHR1cmUiLCJncm91cCIsIm1vZGlmaWVyIiwiYXN0ZXJpc2siLCJwYXJ0aWFsIiwicmVwZWF0Iiwib3B0aW9uYWwiLCJwYXR0ZXJuIiwiZXNjYXBlR3JvdXAiLCJlc2NhcGVTdHJpbmciLCJzdWJzdHIiLCJlbmNvZGVVUklDb21wb25lbnRQcmV0dHkiLCJlbmNvZGVVUkkiLCJjIiwiY2hhckNvZGVBdCIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJtYXRjaGVzIiwib3B0cyIsImRhdGEiLCJlbmNvZGUiLCJwcmV0dHkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZWdtZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImoiLCJ0ZXN0IiwiYXR0YWNoS2V5cyIsInJlIiwiZmxhZ3MiLCJzZW5zaXRpdmUiLCJlbmQiLCJyb3V0ZSIsImVuZHNXaXRoRGVsaW1pdGVyIiwiZ3JvdXBzIiwicmVnZXhwVG9SZWdleHAiLCJwYXJ0cyIsImFycmF5VG9SZWdleHAiLCJzdHJpbmdUb1JlZ2V4cCIsImFyciIsImIiLCJmb3IiLCJmIiwiZyIsImgiLCJrIiwibCIsInEiLCJyIiwidCIsInUiLCIkJHR5cGVvZiIsInYiLCJ0eXBlT2YiLCJBc3luY01vZGUiLCJDb25jdXJyZW50TW9kZSIsIkNvbnRleHRDb25zdW1lciIsIkNvbnRleHRQcm92aWRlciIsIkVsZW1lbnQiLCJGb3J3YXJkUmVmIiwiRnJhZ21lbnQiLCJMYXp5IiwiTWVtbyIsIlBvcnRhbCIsIlByb2ZpbGVyIiwiU3RyaWN0TW9kZSIsIlN1c3BlbnNlIiwiaXNWYWxpZEVsZW1lbnRUeXBlIiwiaXNBc3luY01vZGUiLCJpc0NvbmN1cnJlbnRNb2RlIiwiaXNDb250ZXh0Q29uc3VtZXIiLCJpc0NvbnRleHRQcm92aWRlciIsImlzRWxlbWVudCIsImlzRm9yd2FyZFJlZiIsImlzRnJhZ21lbnQiLCJpc0xhenkiLCJpc01lbW8iLCJpc1BvcnRhbCIsImlzUHJvZmlsZXIiLCJpc1N0cmljdE1vZGUiLCJpc1N1c3BlbnNlIiwiUmVhY3RJcyIsIlJFQUNUX1NUQVRJQ1MiLCJjaGlsZENvbnRleHRUeXBlcyIsImNvbnRleHRUeXBlIiwiY29udGV4dFR5cGVzIiwiZGVmYXVsdFByb3BzIiwiZGlzcGxheU5hbWUiLCJnZXREZWZhdWx0UHJvcHMiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJtaXhpbnMiLCJwcm9wVHlwZXMiLCJLTk9XTl9TVEFUSUNTIiwiY2FsbGVyIiwiY2FsbGVlIiwiYXJpdHkiLCJNRU1PX1NUQVRJQ1MiLCJjb21wYXJlIiwiVFlQRV9TVEFUSUNTIiwiZ2V0U3RhdGljcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJvYmplY3RQcm90b3R5cGUiLCJob2lzdE5vblJlYWN0U3RhdGljcyIsInRhcmdldENvbXBvbmVudCIsInNvdXJjZUNvbXBvbmVudCIsImJsYWNrbGlzdCIsImluaGVyaXRlZENvbXBvbmVudCIsInRhcmdldFN0YXRpY3MiLCJzb3VyY2VTdGF0aWNzIiwiTUFYX1NJR05FRF8zMV9CSVRfSU5UIiwiZXNtIiwiY3JlYXRlQ29udGV4dCIsImRlZmF1bHRWYWx1ZSIsImNhbGN1bGF0ZUNoYW5nZWRCaXRzIiwiX1Byb3ZpZGVyJGNoaWxkQ29udGV4IiwiX0NvbnN1bWVyJGNvbnRleHRUeXBlIiwiY29udGV4dFByb3AiLCJndWRfZGVmYXVsdCIsIl9Db21wb25lbnQiLCJoYW5kbGVycyIsImVtaXR0ZXIiLCJvbiIsImhhbmRsZXIiLCJvZmYiLCJnZXQiLCJzZXQiLCJuZXdWYWx1ZSIsImNoYW5nZWRCaXRzIiwiaW5oZXJpdHNMb29zZV9kZWZhdWx0IiwiX3Byb3RvIiwiZ2V0Q2hpbGRDb250ZXh0IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsIm9sZFZhbHVlIiwieCIsInkiLCJwcm9wX3R5cGVzX2RlZmF1bHQiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwiQ29uc3VtZXIiLCJfQ29tcG9uZW50MiIsImdldFZhbHVlIiwib25VcGRhdGUiLCJvYnNlcnZlZEJpdHMiLCJfcHJvdG8yIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb250ZXh0IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpc0Fic29sdXRlIiwic3BsaWNlT25lIiwibGlzdCIsInBvcCIsInJlc29sdmVfcGF0aG5hbWUiLCJmcm9tIiwidG9QYXJ0cyIsInNwbGl0IiwiZnJvbVBhcnRzIiwiaXNUb0FicyIsImlzRnJvbUFicyIsIm11c3RFbmRBYnMiLCJoYXNUcmFpbGluZ1NsYXNoIiwibGFzdCIsInVwIiwicGFydCIsInVuc2hpZnQiLCJyZXN1bHQiLCJ2YWx1ZV9lcXVhbCIsInZhbHVlRXF1YWwiLCJldmVyeSIsIml0ZW0iLCJhVHlwZSIsImFWYWx1ZSIsInZhbHVlT2YiLCJiVmFsdWUiLCJhS2V5cyIsImJLZXlzIiwiaXNQcm9kdWN0aW9uIiwidGlueV9pbnZhcmlhbnRfZXNtIiwiY29uZGl0aW9uIiwibWVzc2FnZSIsIkVycm9yIiwiY3JlYXRlUGF0aCIsInNlYXJjaCIsImhhc2giLCJjcmVhdGVMb2NhdGlvbiIsImN1cnJlbnRMb2NhdGlvbiIsImhhc2hJbmRleCIsInNlYXJjaEluZGV4IiwicGFyc2VQYXRoIiwiZXNtX2V4dGVuZHMiLCJkZWNvZGVVUkkiLCJVUklFcnJvciIsImxvY2F0aW9uc0FyZUVxdWFsIiwiY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIiLCJwcm9tcHQiLCJsaXN0ZW5lcnMiLCJzZXRQcm9tcHQiLCJuZXh0UHJvbXB0IiwiY29uZmlybVRyYW5zaXRpb25UbyIsImFjdGlvbiIsImdldFVzZXJDb25maXJtYXRpb24iLCJhcHBlbmRMaXN0ZW5lciIsImZuIiwibGlzdGVuZXIiLCJub3RpZnlMaXN0ZW5lcnMiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImNsYW1wIiwibG93ZXJCb3VuZCIsInVwcGVyQm91bmQiLCJNYXRoIiwibWluIiwibWF4IiwicmVhY3Rfcm91dGVyX01lbW9yeVJvdXRlciIsIlJlZGlyZWN0IiwicmVhY3Rfcm91dGVyX1JvdXRlIiwicmVhY3Rfcm91dGVyX1JvdXRlciIsInJlYWN0X3JvdXRlcl9Td2l0Y2giLCJnZW5lcmF0ZVBhdGgiLCJ3aXRoUm91dGVyIiwicmVhY3Rfcm91dGVyX2NvbnRleHQiLCJyZWFjdF9yb3V0ZXJfY3JlYXRlTmFtZWRDb250ZXh0IiwiUm91dGVyIiwiX2lzTW91bnRlZCIsIl9wZW5kaW5nTG9jYXRpb24iLCJzdGF0aWNDb250ZXh0IiwidW5saXN0ZW4iLCJsaXN0ZW4iLCJlc21faW5oZXJpdHNMb29zZSIsImNvbXB1dGVSb290TWF0Y2giLCJ1cmwiLCJNZW1vcnlSb3V0ZXIiLCJfcHJvcHMiLCJfcHJvcHMkaW5pdGlhbEVudHJpZXMiLCJfcHJvcHMkaW5pdGlhbEluZGV4IiwiaW5pdGlhbEluZGV4IiwiX3Byb3BzJGtleUxlbmd0aCIsImtleUxlbmd0aCIsInRyYW5zaXRpb25NYW5hZ2VyIiwibmV4dFN0YXRlIiwiY3JlYXRlS2V5IiwicmFuZG9tIiwiZW50cnkiLCJjcmVhdGVIcmVmIiwiZ28iLCJuZXh0SW5kZXgiLCJvayIsIm5leHRFbnRyaWVzIiwic3BsaWNlIiwiZ29Gb3J3YXJkIiwiY2FuR28iLCJibG9jayIsImNyZWF0ZU1lbW9yeUhpc3RvcnkiLCJyZWFjdF9yb3V0ZXJfTGlmZWN5Y2xlIiwiTGlmZWN5Y2xlIiwib25Nb3VudCIsImNvbXBvbmVudERpZFVwZGF0ZSIsIm9uVW5tb3VudCIsImNhY2hlTGltaXQiLCJjYWNoZUNvdW50IiwiZ2VuZXJhdG9yIiwicGF0aF90b19yZWdleHBfZGVmYXVsdCIsImNvbXBpbGVQYXRoIiwiY29tcHV0ZWRNYXRjaCIsIl9yZWYkcHVzaCIsImNvbnRleHQkJDEiLCJtZXRob2QiLCJjYWNoZSQxIiwiY2FjaGVMaW1pdCQxIiwiY2FjaGVDb3VudCQxIiwibWF0Y2hQYXRoIiwiX29wdGlvbnMiLCJfb3B0aW9ucyRleGFjdCIsIl9vcHRpb25zJHN0cmljdCIsIl9vcHRpb25zJHNlbnNpdGl2ZSIsInJlZHVjZSIsIm1hdGNoZWQiLCJfY29tcGlsZVBhdGgiLCJjYWNoZUtleSIsInBhdGhDYWNoZSIsInJlZ2V4cCIsImNvbXBpbGVQYXRoJDEiLCJ2YWx1ZXMiLCJtZW1vIiwiUm91dGUiLCJDaGlsZHJlbiIsImNvdW50IiwiaXNFbXB0eUNoaWxkcmVuIiwicmVhY3Rfcm91dGVyX2FkZExlYWRpbmdTbGFzaCIsInJlYWN0X3JvdXRlcl9zdHJpcEJhc2VuYW1lIiwiYmFzZW5hbWUiLCJiYXNlIiwiY3JlYXRlVVJMIiwic3RhdGljSGFuZGxlciIsIm1ldGhvZE5hbWUiLCJub29wIiwiU3dpdGNoIiwiZWxlbWVudCIsImNoaWxkIiwiaXNWYWxpZEVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJDIiwid3JhcHBlZENvbXBvbmVudFJlZiIsInJlbWFpbmluZ1Byb3BzIiwib2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsIldyYXBwZWRDb21wb25lbnQiLCJob2lzdF9ub25fcmVhY3Rfc3RhdGljc19janNfZGVmYXVsdCJdLCJtYXBwaW5ncyI6Im1SQTBCZUEsRUF2QkUsU0FBQUMsR0FDakIsSUFBQUMsRUFBQUQsRUFBQUUsVUFDQUEsT0FBQSxJQUFBRCxFQUFBLEdBQUFBLEVBQ0FFLEVBQUFILEVBQUFJLE1BQ0FBLE9BQUEsSUFBQUQsRUFBQSxPQUFBQSxFQUNBRSxFQUFBTCxFQUFBTSxPQUNBQSxPQUFBLElBQUFELEVBQUEsR0FBQUEsRUFDQUUsRUFBQVAsRUFBQU8sTUFDQUMsRUFBQVIsRUFBQVMsTUFDQUEsT0FBQSxJQUFBRCxFQUFBLEdB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QUtDLGNBQWV3ZSxFQUFPakYsU0FBQSxjQUFBOEgsR0FFdEMsT0FEQUEsR0FBZ0p4RixHQUFTLEdBQzVJL2IsRUFBQUMsRUFBS0MsY0FBQTJPLEVBQTBCM1gsT0FBQXlsQixFQUFBLEVBQUF6bEIsQ0FBUSxHQUFHMnNCLEVBQUF0QyxFQUFBLENBQ3ZEL1MsSUFBQW9WLFFBY0EsT0FUQUQsRUFBQXZOLGNBQ0F1TixFQUFBSSxpQkFBQWxWLEVBUVNtVixJQUFZTCxFQUFBOVUiLCJmaWxlIjoidmVuZG9yc35jb250ZW50LXNpZGViYXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uTWFnaWNXYW5kID0gZnVuY3Rpb24gSWNvbk1hZ2ljV2FuZChfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gJyM5OTknIDogX3JlZiRjb2xvcixcbiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gMjQgOiBfcmVmJGhlaWdodCxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyAyNCA6IF9yZWYkd2lkdGg7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY2Vzc2libGVTVkcsIHtcbiAgICBjbGFzc05hbWU6IFwiaWNvbi1tYWdpYy13YW5kIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk0xOS45MSA1Ljg0YTIuODUgMi44NSAwIDAgMC00IDBMMy44MyAxNy44OWEyLjgzIDIuODMgMCAwIDAgNCA0TDE5LjkxIDkuODNhMi44NCAyLjg0IDAgMCAwIDAtMy45OXptLTEuNiAyLjQ0bC0yLjkyIDMtLjg2LS44NiAzLTNhLjUxLjUxIDAgMCAxIC40My0uMTguNjEuNjEgMCAwIDEgLjQzLjE5bC4wOC4xYS42NC42NCAwIDAgMS0uMTYuNzV6TTExLjExIDMuNTFhMi42NyAyLjY3IDAgMCAxIC45MS44NiA1LjM5IDUuMzkgMCAwIDEgLjM4Ljc2bC4wNi4xNGE3LjYgNy42IDAgMCAxIC4zNy0uNzYgMi43MSAyLjcxIDAgMCAxIC43OC0uODQgNCA0IDAgMCAxIC43My0uNGwuMjQtLjExYy0uMjUtLjExLS41LS4yMy0uNzQtLjM2YTIuNTEgMi41MSAwIDAgMS0uOTQtLjg5IDUuNjMgNS42MyAwIDAgMS0uNC0uODJ2LS4wNWE1LjkzIDUuOTMgMCAwIDEtLjM0LjcyIDIuNzMgMi43MyAwIDAgMS0uODguOTQgNi40NSA2LjQ1IDAgMCAxLS43NC4zOGwtLjE2LjA2YTQuMyA0LjMgMCAwIDEgLjczLjM3ek04LjQ4IDcuNjFhMS45IDEuOSAwIDAgMSAuNjYuNjMgNC43MyA0LjczIDAgMCAxIC4yOC41NXYuMDlhNC42NCA0LjY0IDAgMCAxIC4yNi0uNTUgMi4wNSAyLjA1IDAgMCAxIC41Ni0uNjEgMy4yIDMuMiAwIDAgMSAuNTQtLjNsLjIyLS4wOWEyLjExIDIuMTEgMCAwIDEtLjUyLS4yNiAxLjg3IDEuODcgMCAwIDEtLjY4LS42NiAzLjE0IDMuMTQgMCAwIDEtLjI5LS41OGMtLjA4LjE5LS4xNi4zNS0uMjUuNTJhMiAyIDAgMCAxLS42OC42NSAzLjg5IDMuODkgMCAwIDEtLjU4LjI4aC0uMTJhNS4zNiA1LjM2IDAgMCAxIC42LjMzelwiLFxuICAgIGZpbGw6IGNvbG9yXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEljb25NYWdpY1dhbmQ7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjY2Vzc2libGVTVkcgZnJvbSAnLi4vYWNjZXNzaWJsZS1zdmcnO1xuXG52YXIgSWNvbk1ldGFkYXRhVGhpY2sgPSBmdW5jdGlvbiBJY29uTWV0YWRhdGFUaGljayhfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gJyM5OTknIDogX3JlZiRjb2xvcixcbiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gMjQgOiBfcmVmJGhlaWdodCxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyAyNCA6IF9yZWYkd2lkdGg7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY2Vzc2libGVTVkcsIHtcbiAgICBjbGFzc05hbWU6IFwiaWNvbi1tZXRhZGF0YS10aGljayBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICB3aWR0aDogd2lkdGhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmaWxsLWNvbG9yXCIsXG4gICAgZDogXCJNMTIsMkExMCwxMCwwLDEsMCwyMiwxMiwxMCwxMCwwLDAsMCwxMiwyWm00LjM3LDEzLjQzYTEsMSwwLDAsMS0uMzcuMDcsMSwxLDAsMCwxLS45My0uNjNMMTMuOSwxMS45NGwtMSwyYTEsMSwwLDAsMS0xLjc4LDBsLTEtMkw4LjkzLDE0Ljg3YTEsMSwwLDEsMS0xLjg2LS43NGwyLTVhMSwxLDAsMCwxLDEuODItLjA4TDEyLDExLjI2bDEuMTEtMi4yMUExLDEsMCwwLDEsMTQsOC41YTEsMSwwLDAsMSwuODkuNjNsMiw1QTEsMSwwLDAsMSwxNi4zNywxNS40M1pcIixcbiAgICBmaWxsOiBjb2xvclxuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJY29uTWV0YWRhdGFUaGljazsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uRG9jSW5mbyA9IGZ1bmN0aW9uIEljb25Eb2NJbmZvKF9yZWYpIHtcbiAgdmFyIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIF9yZWYkY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcmVmJGNvbG9yID09PSB2b2lkIDAgPyAnIzk5OScgOiBfcmVmJGNvbG9yLFxuICAgICAgX3JlZiRoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB2b2lkIDAgPyAyNCA6IF9yZWYkaGVpZ2h0LFxuICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgX3JlZiR3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICB3aWR0aCA9IF9yZWYkd2lkdGggPT09IHZvaWQgMCA/IDI0IDogX3JlZiR3aWR0aDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjZXNzaWJsZVNWRywge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLWRvYy1pbmZvIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk0xOS40MSA3LjQxbC00LjgyLTQuODJBMiAyIDAgMCAwIDEzLjE3IDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY4LjgzYTIgMiAwIDAgMC0uNTktMS40MnpNMTMgMTZhMSAxIDAgMCAxLTIgMHYtNGExIDEgMCAwIDEgMiAwem0tMS02YTEgMSAwIDEgMSAxLTEgMSAxIDAgMCAxLTEgMXpcIixcbiAgICBmaWxsOiBjb2xvclxuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJY29uRG9jSW5mbzsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uQ2hhdFJvdW5kID0gZnVuY3Rpb24gSWNvbkNoYXRSb3VuZChfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gJyM5OTknIDogX3JlZiRjb2xvcixcbiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gMjQgOiBfcmVmJGhlaWdodCxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyAyNCA6IF9yZWYkd2lkdGg7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY2Vzc2libGVTVkcsIHtcbiAgICBjbGFzc05hbWU6IFwiaWNvbi1jaGF0LXJvdW5kIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk0xNCAzaC00YTggOCAwIDAgMC01IDE0LjI2VjIxYTEgMSAwIDAgMCAuMDguMzcgMSAxIDAgMCAwIDEuMzEuNTNMMTIgMTloMmE4IDggMCAwIDAgMC0xNnptLTYgOWExIDEgMCAxIDEgMS0xIDEgMSAwIDAgMS0xIDF6bTQgMGExIDEgMCAxIDEgMS0xIDEgMSAwIDAgMS0xIDF6bTQgMGExIDEgMCAxIDEgMS0xIDEgMSAwIDAgMS0xIDF6XCIsXG4gICAgZmlsbDogY29sb3JcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbkNoYXRSb3VuZDsiLCIvKipcbiAqIFxuICogQGZpbGUgUHJldmlldyBzaWRlYmFyIG5hdiBidXR0b24gY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSb3V0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IE5hdkJ1dHRvbiBmcm9tICcuLi9jb21tb24vbmF2LWJ1dHRvbic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3Rvb2x0aXAvVG9vbHRpcCc7XG5pbXBvcnQgJy4vU2lkZWJhck5hdkJ1dHRvbi5zY3NzJztcblxudmFyIFNpZGViYXJOYXZCdXR0b24gPSBmdW5jdGlvbiBTaWRlYmFyTmF2QnV0dG9uKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGRhdGFSZXNpblRhcmdldCA9IF9yZWZbJ2RhdGEtcmVzaW4tdGFyZ2V0J10sXG4gICAgICBkYXRhVGVzdElkID0gX3JlZlsnZGF0YS10ZXN0aWQnXSxcbiAgICAgIGlzT3BlbiA9IF9yZWYuaXNPcGVuLFxuICAgICAgc2lkZWJhclZpZXcgPSBfcmVmLnNpZGViYXJWaWV3LFxuICAgICAgdG9vbHRpcCA9IF9yZWYudG9vbHRpcDtcbiAgdmFyIHNpZGViYXJQYXRoID0gXCIvXCIuY29uY2F0KHNpZGViYXJWaWV3KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICBwYXRoOiBzaWRlYmFyUGF0aFxuICB9LCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgbWF0Y2ggPSBfcmVmMi5tYXRjaDtcbiAgICB2YXIgaXNNYXRjaCA9ICEhbWF0Y2g7XG5cbiAgICB2YXIgaXNBY3RpdmUgPSBmdW5jdGlvbiBpc0FjdGl2ZSgpIHtcbiAgICAgIHJldHVybiBpc01hdGNoICYmICEhaXNPcGVuO1xuICAgIH07XG5cbiAgICB2YXIgaXNUb2dnbGUgPSBpc01hdGNoICYmIG1hdGNoLmlzRXhhY3Q7XG4gICAgdmFyIHNpZGViYXJTdGF0ZSA9IHtcbiAgICAgIG9wZW46IGlzVG9nZ2xlID8gIWlzT3BlbiA6IHRydWVcbiAgICB9O1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIHtcbiAgICAgIHBvc2l0aW9uOiBcIm1pZGRsZS1sZWZ0XCIsXG4gICAgICB0ZXh0OiB0b29sdGlwXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChOYXZCdXR0b24sIHtcbiAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBpc0FjdGl2ZSgpLFxuICAgICAgYWN0aXZlQ2xhc3NOYW1lOiBcImJjcy1pcy1zZWxlY3RlZFwiLFxuICAgICAgY2xhc3NOYW1lOiBcImJjcy1OYXZCdXR0b25cIixcbiAgICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogZGF0YVJlc2luVGFyZ2V0LFxuICAgICAgaXNBY3RpdmU6IGlzQWN0aXZlLFxuICAgICAgcmVwbGFjZTogaXNUb2dnbGUsXG4gICAgICByb2xlOiBcInRhYlwiLFxuICAgICAgdG86IHtcbiAgICAgICAgcGF0aG5hbWU6IHNpZGViYXJQYXRoLFxuICAgICAgICBzdGF0ZTogc2lkZWJhclN0YXRlXG4gICAgICB9LFxuICAgICAgdHlwZTogXCJidXR0b25cIlxuICAgIH0sIGNoaWxkcmVuKSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2lkZWJhck5hdkJ1dHRvbjsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBiZGxOZXV0cmFsMDMgfSBmcm9tICcuLi8uLi9zdHlsZXMvdmFyaWFibGVzJztcbmltcG9ydCBBY2Nlc3NpYmxlU1ZHIGZyb20gJy4uL2FjY2Vzc2libGUtc3ZnJztcblxudmFyIEljb25IaWRlID0gZnVuY3Rpb24gSWNvbkhpZGUoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/IGJkbE5ldXRyYWwwMyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDE2IDogX3JlZiRoZWlnaHQsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gMTYgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24taGlkZSBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTcuNjQ2IDcuNjQ2TDQuMzU0IDQuMzU0YS41LjUgMCAwIDEgMC0uNzA4bDEuMjkyLTEuMjkyYS41LjUgMCAwIDEgLjcwOCAwbDUuMjkyIDUuMjkyYS41LjUgMCAwIDEgMCAuNzA4bC01LjI5MiA1LjI5MmEuNS41IDAgMCAxLS43MDggMGwtMS4yOTItMS4yOTJhLjUuNSAwIDAgMSAwLS43MDhsMy4yOTItMy4yOTJhLjUuNSAwIDAgMCAwLS43MDh6XCIsXG4gICAgZmlsbDogY29sb3IsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEljb25IaWRlOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGJkbE5ldXRyYWwwMyB9IGZyb20gJy4uLy4uL3N0eWxlcy92YXJpYWJsZXMnO1xuaW1wb3J0IEFjY2Vzc2libGVTVkcgZnJvbSAnLi4vYWNjZXNzaWJsZS1zdmcnO1xuXG52YXIgSWNvblNob3cgPSBmdW5jdGlvbiBJY29uU2hvdyhfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gYmRsTmV1dHJhbDAzIDogX3JlZiRjb2xvcixcbiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gMTYgOiBfcmVmJGhlaWdodCxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyAxNiA6IF9yZWYkd2lkdGg7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY2Vzc2libGVTVkcsIHtcbiAgICBjbGFzc05hbWU6IFwiaWNvbi1zaG93IFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNy4zNTQgNy42NDZsMy4yOTItMy4yOTJhLjUuNSAwIDAgMCAwLS43MDhMOS4zNTQgMi4zNTRhLjUuNSAwIDAgMC0uNzA4IDBMMy4zNTQgNy42NDZhLjUuNSAwIDAgMCAwIC43MDhsNS4yOTIgNS4yOTJhLjUuNSAwIDAgMCAuNzA4IDBsMS4yOTItMS4yOTJhLjUuNSAwIDAgMCAwLS43MDhMNy4zNTQgOC4zNTRhLjUuNSAwIDAgMSAwLS43MDh6XCIsXG4gICAgZmlsbDogY29sb3IsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEljb25TaG93OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgaW5qZWN0SW50bCB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IEljb25IaWRlIGZyb20gJy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbkhpZGUnO1xuaW1wb3J0IEljb25TaG93IGZyb20gJy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvblNob3cnO1xuaW1wb3J0IFBsYWluQnV0dG9uIGZyb20gJy4uL3BsYWluLWJ1dHRvbic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuLi90b29sdGlwJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi8uLi9lbGVtZW50cy9jb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0ICcuL1NpZGViYXJUb2dnbGVCdXR0b24uc2Nzcyc7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAnbGVmdCc7XG52YXIgRElSRUNUSU9OX1JJR0hUID0gJ3JpZ2h0JztcblxudmFyIFNpZGViYXJUb2dnbGVCdXR0b24gPSBmdW5jdGlvbiBTaWRlYmFyVG9nZ2xlQnV0dG9uKF9yZWYpIHtcbiAgdmFyIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIF9yZWYkZGlyZWN0aW9uID0gX3JlZi5kaXJlY3Rpb24sXG4gICAgICBkaXJlY3Rpb24gPSBfcmVmJGRpcmVjdGlvbiA9PT0gdm9pZCAwID8gRElSRUNUSU9OX1JJR0hUIDogX3JlZiRkaXJlY3Rpb24sXG4gICAgICBpbnRsID0gX3JlZi5pbnRsLFxuICAgICAgaXNPcGVuID0gX3JlZi5pc09wZW4sXG4gICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJjbGFzc05hbWVcIiwgXCJkaXJlY3Rpb25cIiwgXCJpbnRsXCIsIFwiaXNPcGVuXCIsIFwib25DbGlja1wiXSk7XG5cbiAgdmFyIGlzQ29sbGFwc2VkID0gIWlzT3BlbiA/ICdjb2xsYXBzZWQnIDogJyc7XG4gIHZhciBpbnRsTWVzc2FnZSA9IGlzT3BlbiA/IG1lc3NhZ2VzLnNpZGViYXJIaWRlIDogbWVzc2FnZXMuc2lkZWJhclNob3c7XG4gIHZhciBpbnRsVGV4dCA9IGludGwuZm9ybWF0TWVzc2FnZShpbnRsTWVzc2FnZSk7XG4gIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lcyhjbGFzc05hbWUsICdiZGwtU2lkZWJhclRvZ2dsZUJ1dHRvbicsIHtcbiAgICAnYmRsLWlzLWNvbGxhcHNlZCc6IGlzQ29sbGFwc2VkXG4gIH0pO1xuICB2YXIgdG9vbHRpcFBvc2l0aW9uID0gZGlyZWN0aW9uID09PSBESVJFQ1RJT05fTEVGVCA/ICdtaWRkbGUtcmlnaHQnIDogJ21pZGRsZS1sZWZ0JztcblxuICB2YXIgcmVuZGVyQnV0dG9uID0gZnVuY3Rpb24gcmVuZGVyQnV0dG9uKCkge1xuICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTl9MRUZUKSB7XG4gICAgICByZXR1cm4gaXNPcGVuID8gUmVhY3QuY3JlYXRlRWxlbWVudChJY29uU2hvdywge1xuICAgICAgICBoZWlnaHQ6IDE2LFxuICAgICAgICB3aWR0aDogMTZcbiAgICAgIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uSGlkZSwge1xuICAgICAgICBoZWlnaHQ6IDE2LFxuICAgICAgICB3aWR0aDogMTZcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBpc09wZW4gPyBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25IaWRlLCB7XG4gICAgICBoZWlnaHQ6IDE2LFxuICAgICAgd2lkdGg6IDE2XG4gICAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25TaG93LCB7XG4gICAgICBoZWlnaHQ6IDE2LFxuICAgICAgd2lkdGg6IDE2XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwge1xuICAgIHBvc2l0aW9uOiB0b29sdGlwUG9zaXRpb24sXG4gICAgdGV4dDogaW50bFRleHRcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQbGFpbkJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgIFwiYXJpYS1sYWJlbFwiOiBpbnRsVGV4dCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMsXG4gICAgb25DbGljazogb25DbGljayxcbiAgICB0eXBlOiBcImJ1dHRvblwiXG4gIH0sIHJlc3QpLCByZW5kZXJCdXR0b24oKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5qZWN0SW50bChTaWRlYmFyVG9nZ2xlQnV0dG9uKTsiLCIvKipcbiAqIFxuICogQGZpbGUgU2lkZWJhciBUb2dnbGUgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgU2lkZWJhclRvZ2dsZUJ1dHRvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NpZGViYXItdG9nZ2xlLWJ1dHRvbi9TaWRlYmFyVG9nZ2xlQnV0dG9uJztcbmltcG9ydCB7IFNJREVCQVJfTkFWX1RBUkdFVFMgfSBmcm9tICcuLi9jb21tb24vaW50ZXJhY3Rpb25UYXJnZXRzJztcblxudmFyIFNpZGViYXJUb2dnbGUgPSBmdW5jdGlvbiBTaWRlYmFyVG9nZ2xlKF9yZWYpIHtcbiAgdmFyIGhpc3RvcnkgPSBfcmVmLmhpc3RvcnksXG4gICAgICBpc09wZW4gPSBfcmVmLmlzT3BlbjtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhclRvZ2dsZUJ1dHRvbiwge1xuICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogU0lERUJBUl9OQVZfVEFSR0VUUy5UT0dHTEUsXG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGhpc3RvcnkucmVwbGFjZSh7XG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgb3BlbjogIWlzT3BlblxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgU2lkZWJhclRvZ2dsZSBhcyBTaWRlYmFyVG9nZ2xlQ29tcG9uZW50IH07XG5leHBvcnQgZGVmYXVsdCB3aXRoUm91dGVyKFNpZGViYXJUb2dnbGUpOyIsIi8qKlxuICogXG4gKiBAZmlsZSBQcmV2aWV3IHNpZGViYXIgYWRkaXRpb25hbCB0YWIgcGxhY2Vob2xkZXIgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxudmFyIEFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlciA9IGZ1bmN0aW9uIEFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlcihfcmVmKSB7XG4gIHZhciBfcmVmJGlzTG9hZGluZyA9IF9yZWYuaXNMb2FkaW5nLFxuICAgICAgaXNMb2FkaW5nID0gX3JlZiRpc0xvYWRpbmcgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpc0xvYWRpbmc7XG4gIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lcygnYmRsLUFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlci1pY29uJywge1xuICAgICdiZGwtQWRkaXRpb25hbFRhYlBsYWNlaG9sZGVyLWljb24tLWxvYWRpbmcnOiBpc0xvYWRpbmdcbiAgfSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmRsLUFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlc1xuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBZGRpdGlvbmFsVGFiUGxhY2Vob2xkZXI7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qKlxuICogXG4gKiBAZmlsZSBTaWRlYmFyIEFkZGl0aW9uYWwgVGFiIGNvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBkb3dudG93bkdyZXkgfSBmcm9tICcuLi8uLi8uLi9zdHlsZXMvdmFyaWFibGVzJztcbmltcG9ydCBUb29sdGlwIGZyb20gJy4uLy4uL2NvbW1vbi9Ub29sdGlwJztcbmltcG9ydCBQbGFpbkJ1dHRvbiBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL3BsYWluLWJ1dHRvbi9QbGFpbkJ1dHRvbic7XG5pbXBvcnQgSWNvbkVsbGlwc2lzIGZyb20gJy4uLy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbkVsbGlwc2lzJztcbmltcG9ydCBBZGRpdGlvbmFsVGFiUGxhY2Vob2xkZXIgZnJvbSAnLi9BZGRpdGlvbmFsVGFiUGxhY2Vob2xkZXInO1xuaW1wb3J0ICcuL0FkZGl0aW9uYWxUYWIuc2Nzcyc7XG5cbnZhciBBZGRpdGlvbmFsVGFiID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQWRkaXRpb25hbFRhYiwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFkZGl0aW9uYWxUYWIoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkaXRpb25hbFRhYik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihBZGRpdGlvbmFsVGFiKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwic3RhdGVcIiwge1xuICAgICAgaXNFcnJvcmVkOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uSW1hZ2VFcnJvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vbkltYWdlTG9hZCgpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3JlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQWRkaXRpb25hbFRhYiwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2FsbGJhY2tGbiA9IF90aGlzJHByb3BzLmNhbGxiYWNrLFxuICAgICAgICAgIGlkID0gX3RoaXMkcHJvcHMuaWQsXG4gICAgICAgICAgaXNMb2FkaW5nID0gX3RoaXMkcHJvcHMuaXNMb2FkaW5nLFxuICAgICAgICAgIGljb25VcmwgPSBfdGhpcyRwcm9wcy5pY29uVXJsLFxuICAgICAgICAgIG9uSW1hZ2VMb2FkID0gX3RoaXMkcHJvcHMub25JbWFnZUxvYWQsXG4gICAgICAgICAgdGl0bGUgPSBfdGhpcyRwcm9wcy50aXRsZSxcbiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzLCBbXCJjYWxsYmFja1wiLCBcImlkXCIsIFwiaXNMb2FkaW5nXCIsIFwiaWNvblVybFwiLCBcIm9uSW1hZ2VMb2FkXCIsIFwidGl0bGVcIl0pO1xuXG4gICAgICB2YXIgaXNFcnJvcmVkID0gdGhpcy5zdGF0ZS5pc0Vycm9yZWQ7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygnYmRsLUFkZGl0aW9uYWxUYWInLCB7XG4gICAgICAgICdiZGwtQWRkaXRpb25hbFRhYi0taGlkZGVuJzogaXNMb2FkaW5nXG4gICAgICB9KTtcbiAgICAgIHZhciBUYWJJY29uO1xuXG4gICAgICBpZiAoaXNFcnJvcmVkKSB7XG4gICAgICAgIFRhYkljb24gPSBSZWFjdC5jcmVhdGVFbGVtZW50KEFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlciwge1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlkICYmIGlkID4gMCkge1xuICAgICAgICBUYWJJY29uID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImJkbC1BZGRpdGlvbmFsVGFiLWljb25cIixcbiAgICAgICAgICBzcmM6IGljb25VcmwsXG4gICAgICAgICAgb25FcnJvcjogdGhpcy5vbkltYWdlRXJyb3IsXG4gICAgICAgICAgb25Mb2FkOiBvbkltYWdlTG9hZCxcbiAgICAgICAgICBhbHQ6IHRpdGxlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVGFiSWNvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkVsbGlwc2lzLCB7XG4gICAgICAgICAgY29sb3I6IGRvd250b3duR3JleVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwge1xuICAgICAgICBwb3NpdGlvbjogXCJtaWRkbGUtbGVmdFwiLFxuICAgICAgICB0ZXh0OiB0aXRsZVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQbGFpbkJ1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2tGbih7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBjYWxsYmFja0RhdGE6IHJlc3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgVGFiSWNvbikpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBZGRpdGlvbmFsVGFiO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQWRkaXRpb25hbFRhYjsiLCIvKipcbiAqIFxuICogQGZpbGUgUHJldmlldyBzaWRlYmFyIG1vcmUgdGFicyBsb2FkaW5nIGNvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZWVlcyB9IGZyb20gJy4uLy4uLy4uL3N0eWxlcy92YXJpYWJsZXMnO1xuaW1wb3J0IEljb25FbGxpcHNpcyBmcm9tICcuLi8uLi8uLi9pY29ucy9nZW5lcmFsL0ljb25FbGxpcHNpcyc7XG5pbXBvcnQgJy4vQWRkaXRpb25hbFRhYnMuc2Nzcyc7XG5cbnZhciBNb3JlVGFiUGxhY2Vob2xkZXIgPSBmdW5jdGlvbiBNb3JlVGFiUGxhY2Vob2xkZXIoKSB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmRsLUFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkVsbGlwc2lzLCB7XG4gICAgY29sb3I6IGVlZXMsXG4gICAgY2xhc3NOYW1lOiBcImJkbC1BZGRpdGlvbmFsVGFiUGxhY2Vob2xkZXItbW9yZUljb25cIlxuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNb3JlVGFiUGxhY2Vob2xkZXI7IiwiLyoqXG4gKiBcbiAqIEBmaWxlIFByZXZpZXcgc2lkZWJhciBhZGRpdGlvbmFsIHRhYnMgbG9hZGluZyBjb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBZGRpdGlvbmFsVGFiUGxhY2Vob2xkZXIgZnJvbSAnLi9BZGRpdGlvbmFsVGFiUGxhY2Vob2xkZXInO1xuaW1wb3J0IE1vcmVUYWJQbGFjZWhvbGRlciBmcm9tICcuL01vcmVUYWJQbGFjZWhvbGRlcic7XG5pbXBvcnQgJy4vQWRkaXRpb25hbFRhYnMuc2Nzcyc7XG5pbXBvcnQgJy4vQWRkaXRpb25hbFRhYnNMb2FkaW5nLnNjc3MnOyAvLyBMb2FkaW5nIGxheW91dCBmb3IgdGhlIHNpZGViYXIncyBhZGRpdGlvbmFsIHRhYnNcblxudmFyIExPQURJTkdfVEFCUyA9IFtBZGRpdGlvbmFsVGFiUGxhY2Vob2xkZXIsIEFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlciwgQWRkaXRpb25hbFRhYlBsYWNlaG9sZGVyLCBBZGRpdGlvbmFsVGFiUGxhY2Vob2xkZXIsIEFkZGl0aW9uYWxUYWJQbGFjZWhvbGRlciwgTW9yZVRhYlBsYWNlaG9sZGVyXTtcblxudmFyIEFkZGl0aW9uYWxUYWJzTG9hZGluZyA9IGZ1bmN0aW9uIEFkZGl0aW9uYWxUYWJzTG9hZGluZygpIHtcbiAgcmV0dXJuIExPQURJTkdfVEFCUy5tYXAoZnVuY3Rpb24gKExvYWRpbmdDb21wb25lbnQsIGlkeCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdDb21wb25lbnQsIHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgIGtleTogaWR4XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQWRkaXRpb25hbFRhYnNMb2FkaW5nOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vKipcbiAqIFxuICogQGZpbGUgUHJldmlldyBzaWRlYmFyIGFkZGl0aW9uYWwgdGFicyBjb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFkZGl0aW9uYWxUYWIgZnJvbSAnLi9BZGRpdGlvbmFsVGFiJztcbmltcG9ydCBBZGRpdGlvbmFsVGFic0xvYWRpbmcgZnJvbSAnLi9BZGRpdGlvbmFsVGFic0xvYWRpbmcnO1xuaW1wb3J0ICcuL0FkZGl0aW9uYWxUYWJzLnNjc3MnO1xuXG52YXIgQWRkaXRpb25hbFRhYnMgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhBZGRpdGlvbmFsVGFicywgX1B1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFkZGl0aW9uYWxUYWJzKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkZGl0aW9uYWxUYWJzKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEFkZGl0aW9uYWxUYWJzKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwibnVtTG9hZGVkVGFic1wiLCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkltYWdlTG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGFicyA9IF90aGlzLnByb3BzLnRhYnM7XG5cbiAgICAgIGlmICghdGFicykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBoYXNNb3JlVGFiID0gdGFicy5maW5kKGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgICAgcmV0dXJuIHRhYi5pZCA8IDAgJiYgIXRhYi5pY29uVXJsO1xuICAgICAgfSk7XG4gICAgICB2YXIgbnVtVGFicyA9IHRhYnMubGVuZ3RoIC0gKGhhc01vcmVUYWIgPyAxIDogMCk7XG4gICAgICBfdGhpcy5udW1Mb2FkZWRUYWJzICs9IDE7XG5cbiAgICAgIGlmIChfdGhpcy5udW1Mb2FkZWRUYWJzID09PSBudW1UYWJzKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBhbiBpbmRpdmlkdWFsIGljb24gaW1hZ2UgbG9hZFxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhBZGRpdGlvbmFsVGFicywgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgdGFicyA9IHRoaXMucHJvcHMudGFicztcbiAgICAgIHZhciBpc0xvYWRpbmcgPSB0aGlzLnN0YXRlLmlzTG9hZGluZztcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJkbC1BZGRpdGlvbmFsVGFic1wiXG4gICAgICB9LCBpc0xvYWRpbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChBZGRpdGlvbmFsVGFic0xvYWRpbmcsIG51bGwpLCB0YWJzICYmIHRhYnMubWFwKGZ1bmN0aW9uICh0YWJEYXRhKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFkZGl0aW9uYWxUYWIsIF9leHRlbmRzKHtcbiAgICAgICAgICBrZXk6IHRhYkRhdGEuaWQsXG4gICAgICAgICAgb25JbWFnZUxvYWQ6IF90aGlzMi5vbkltYWdlTG9hZCxcbiAgICAgICAgICBpc0xvYWRpbmc6IGlzTG9hZGluZ1xuICAgICAgICB9LCB0YWJEYXRhKSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFkZGl0aW9uYWxUYWJzO1xufShQdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQWRkaXRpb25hbFRhYnM7IiwiLyoqXG4gKiBcbiAqIEBmaWxlIFByZXZpZXcgc2lkZWJhciBuYXYgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpbmplY3RJbnRsLCBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgSWNvbk1hZ2ljV2FuZCBmcm9tICcuLi8uLi9pY29ucy9nZW5lcmFsL0ljb25NYWdpY1dhbmQnO1xuaW1wb3J0IEljb25NZXRhZGF0YVRoaWNrIGZyb20gJy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbk1ldGFkYXRhVGhpY2snO1xuaW1wb3J0IEljb25Eb2NJbmZvIGZyb20gJy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbkRvY0luZm8nO1xuaW1wb3J0IEljb25DaGF0Um91bmQgZnJvbSAnLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uQ2hhdFJvdW5kJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9jb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgU0lERUJBUl9OQVZfVEFSR0VUUyB9IGZyb20gJy4uL2NvbW1vbi9pbnRlcmFjdGlvblRhcmdldHMnO1xuaW1wb3J0IFNpZGViYXJOYXZCdXR0b24gZnJvbSAnLi9TaWRlYmFyTmF2QnV0dG9uJztcbmltcG9ydCBTaWRlYmFyVG9nZ2xlIGZyb20gJy4vU2lkZWJhclRvZ2dsZSc7XG5pbXBvcnQgQWRkaXRpb25hbFRhYnMgZnJvbSAnLi9hZGRpdGlvbmFsLXRhYnMnO1xuaW1wb3J0IHsgU0lERUJBUl9WSUVXX1NLSUxMUywgU0lERUJBUl9WSUVXX0FDVElWSVRZLCBTSURFQkFSX1ZJRVdfREVUQUlMUywgU0lERUJBUl9WSUVXX01FVEFEQVRBIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCAnLi9TaWRlYmFyTmF2LnNjc3MnO1xuXG52YXIgU2lkZWJhck5hdiA9IGZ1bmN0aW9uIFNpZGViYXJOYXYoX3JlZikge1xuICB2YXIgYWRkaXRpb25hbFRhYnMgPSBfcmVmLmFkZGl0aW9uYWxUYWJzLFxuICAgICAgZmlsZUlkID0gX3JlZi5maWxlSWQsXG4gICAgICBoYXNBY3Rpdml0eSA9IF9yZWYuaGFzQWN0aXZpdHksXG4gICAgICBoYXNBZGRpdGlvbmFsVGFicyA9IF9yZWYuaGFzQWRkaXRpb25hbFRhYnMsXG4gICAgICBoYXNEZXRhaWxzID0gX3JlZi5oYXNEZXRhaWxzLFxuICAgICAgaGFzTWV0YWRhdGEgPSBfcmVmLmhhc01ldGFkYXRhLFxuICAgICAgaGFzU2tpbGxzID0gX3JlZi5oYXNTa2lsbHMsXG4gICAgICBpbnRsID0gX3JlZi5pbnRsLFxuICAgICAgaXNPcGVuID0gX3JlZi5pc09wZW4sXG4gICAgICBvbk5hdmlnYXRlID0gX3JlZi5vbk5hdmlnYXRlO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy1TaWRlYmFyTmF2XCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5zaWRlYmFyTmF2TGFiZWwpLFxuICAgIHJvbGU6IFwidGFibGlzdFwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiY3MtU2lkZWJhck5hdi10YWJzXCJcbiAgfSwgaGFzQWN0aXZpdHkgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChTaWRlYmFyTmF2QnV0dG9uLCB7XG4gICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBTSURFQkFSX05BVl9UQVJHRVRTLkFDVElWSVRZLFxuICAgIGlzT3BlbjogaXNPcGVuLFxuICAgIHNpZGViYXJWaWV3OiBTSURFQkFSX1ZJRVdfQUNUSVZJVFksXG4gICAgb25OYXZpZ2F0ZTogb25OYXZpZ2F0ZSxcbiAgICB0b29sdGlwOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnNpZGViYXJBY3Rpdml0eVRpdGxlKVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25DaGF0Um91bmQsIG51bGwpKSwgaGFzRGV0YWlscyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJOYXZCdXR0b24sIHtcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFNJREVCQVJfTkFWX1RBUkdFVFMuREVUQUlMUyxcbiAgICBpc09wZW46IGlzT3BlbixcbiAgICBzaWRlYmFyVmlldzogU0lERUJBUl9WSUVXX0RFVEFJTFMsXG4gICAgb25OYXZpZ2F0ZTogb25OYXZpZ2F0ZSxcbiAgICB0b29sdGlwOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnNpZGViYXJEZXRhaWxzVGl0bGUpXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkRvY0luZm8sIG51bGwpKSwgaGFzU2tpbGxzICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhck5hdkJ1dHRvbiwge1xuICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogU0lERUJBUl9OQVZfVEFSR0VUUy5TS0lMTFMsXG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgc2lkZWJhclZpZXc6IFNJREVCQVJfVklFV19TS0lMTFMsXG4gICAgb25OYXZpZ2F0ZTogb25OYXZpZ2F0ZSxcbiAgICB0b29sdGlwOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnNpZGViYXJTa2lsbHNUaXRsZSlcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uTWFnaWNXYW5kLCBudWxsKSksIGhhc01ldGFkYXRhICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhck5hdkJ1dHRvbiwge1xuICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogU0lERUJBUl9OQVZfVEFSR0VUUy5NRVRBREFUQSxcbiAgICBpc09wZW46IGlzT3BlbixcbiAgICBzaWRlYmFyVmlldzogU0lERUJBUl9WSUVXX01FVEFEQVRBLFxuICAgIG9uTmF2aWdhdGU6IG9uTmF2aWdhdGUsXG4gICAgdG9vbHRpcDogUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5zaWRlYmFyTWV0YWRhdGFUaXRsZSlcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uTWV0YWRhdGFUaGljaywgbnVsbCkpLCBoYXNBZGRpdGlvbmFsVGFicyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEFkZGl0aW9uYWxUYWJzLCB7XG4gICAga2V5OiBmaWxlSWQsXG4gICAgdGFiczogYWRkaXRpb25hbFRhYnNcbiAgfSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmNzLVNpZGViYXJOYXYtZm9vdGVyXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTaWRlYmFyVG9nZ2xlLCB7XG4gICAgaXNPcGVuOiBpc09wZW5cbiAgfSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluamVjdEludGwoU2lkZWJhck5hdik7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIENvbnRlbnQgU2lkZWJhciBQYW5lbHMgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZWRpcmVjdCwgUm91dGUsIFN3aXRjaCB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IFNpZGViYXJVdGlscyBmcm9tICcuL1NpZGViYXJVdGlscyc7XG5pbXBvcnQgeyBPUklHSU5fQUNUSVZJVFlfU0lERUJBUiwgT1JJR0lOX0RFVEFJTFNfU0lERUJBUiwgT1JJR0lOX01FVEFEQVRBX1NJREVCQVIsIE9SSUdJTl9TS0lMTFNfU0lERUJBUiwgT1JJR0lOX1ZFUlNJT05TX1NJREVCQVIsIFNJREVCQVJfVklFV19BQ1RJVklUWSwgU0lERUJBUl9WSUVXX0RFVEFJTFMsIFNJREVCQVJfVklFV19NRVRBREFUQSwgU0lERUJBUl9WSUVXX1NLSUxMUywgU0lERUJBUl9WSUVXX1ZFUlNJT05TIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbi8vIFRPRE86IHBsYWNlIGludG8gY29kZSBzcGxpdHRpbmcgbG9naWNcbnZhciBCQVNFX0VWRU5UX05BTUUgPSAnX0pTX0xPQURJTkcnO1xudmFyIE1BUktfTkFNRV9KU19MT0FESU5HX0RFVEFJTFMgPSBcIlwiLmNvbmNhdChPUklHSU5fREVUQUlMU19TSURFQkFSKS5jb25jYXQoQkFTRV9FVkVOVF9OQU1FKTtcbnZhciBNQVJLX05BTUVfSlNfTE9BRElOR19BQ1RJVklUWSA9IFwiXCIuY29uY2F0KE9SSUdJTl9BQ1RJVklUWV9TSURFQkFSKS5jb25jYXQoQkFTRV9FVkVOVF9OQU1FKTtcbnZhciBNQVJLX05BTUVfSlNfTE9BRElOR19TS0lMTFMgPSBcIlwiLmNvbmNhdChPUklHSU5fU0tJTExTX1NJREVCQVIpLmNvbmNhdChCQVNFX0VWRU5UX05BTUUpO1xudmFyIE1BUktfTkFNRV9KU19MT0FESU5HX01FVEFEQVRBID0gXCJcIi5jb25jYXQoT1JJR0lOX01FVEFEQVRBX1NJREVCQVIpLmNvbmNhdChCQVNFX0VWRU5UX05BTUUpO1xudmFyIE1BUktfTkFNRV9KU19MT0FESU5HX1ZFUlNJT05TID0gXCJcIi5jb25jYXQoT1JJR0lOX1ZFUlNJT05TX1NJREVCQVIpLmNvbmNhdChCQVNFX0VWRU5UX05BTUUpO1xudmFyIExvYWRhYmxlRGV0YWlsc1NpZGViYXIgPSBTaWRlYmFyVXRpbHMuZ2V0QXN5bmNTaWRlYmFyQ29udGVudChTSURFQkFSX1ZJRVdfREVUQUlMUywgTUFSS19OQU1FX0pTX0xPQURJTkdfREVUQUlMUyk7XG52YXIgTG9hZGFibGVBY3Rpdml0eVNpZGViYXIgPSBTaWRlYmFyVXRpbHMuZ2V0QXN5bmNTaWRlYmFyQ29udGVudChTSURFQkFSX1ZJRVdfQUNUSVZJVFksIE1BUktfTkFNRV9KU19MT0FESU5HX0FDVElWSVRZKTtcbnZhciBMb2FkYWJsZVNraWxsc1NpZGViYXIgPSBTaWRlYmFyVXRpbHMuZ2V0QXN5bmNTaWRlYmFyQ29udGVudChTSURFQkFSX1ZJRVdfU0tJTExTLCBNQVJLX05BTUVfSlNfTE9BRElOR19TS0lMTFMpO1xudmFyIExvYWRhYmxlTWV0YWRhdGFTaWRlYmFyID0gU2lkZWJhclV0aWxzLmdldEFzeW5jU2lkZWJhckNvbnRlbnQoU0lERUJBUl9WSUVXX01FVEFEQVRBLCBNQVJLX05BTUVfSlNfTE9BRElOR19NRVRBREFUQSk7XG52YXIgTG9hZGFibGVWZXJzaW9uc1NpZGViYXIgPSBTaWRlYmFyVXRpbHMuZ2V0QXN5bmNTaWRlYmFyQ29udGVudChTSURFQkFSX1ZJRVdfVkVSU0lPTlMsIE1BUktfTkFNRV9KU19MT0FESU5HX1ZFUlNJT05TKTtcblxudmFyIFNpZGViYXJQYW5lbHMgPSBmdW5jdGlvbiBTaWRlYmFyUGFuZWxzKF9yZWYpIHtcbiAgdmFyIGFjdGl2aXR5U2lkZWJhclByb3BzID0gX3JlZi5hY3Rpdml0eVNpZGViYXJQcm9wcyxcbiAgICAgIGN1cnJlbnRVc2VyID0gX3JlZi5jdXJyZW50VXNlcixcbiAgICAgIGRldGFpbHNTaWRlYmFyUHJvcHMgPSBfcmVmLmRldGFpbHNTaWRlYmFyUHJvcHMsXG4gICAgICBmaWxlID0gX3JlZi5maWxlLFxuICAgICAgZmlsZUlkID0gX3JlZi5maWxlSWQsXG4gICAgICBnZXRQcmV2aWV3ID0gX3JlZi5nZXRQcmV2aWV3LFxuICAgICAgZ2V0Vmlld2VyID0gX3JlZi5nZXRWaWV3ZXIsXG4gICAgICBoYXNBY3Rpdml0eSA9IF9yZWYuaGFzQWN0aXZpdHksXG4gICAgICBoYXNEZXRhaWxzID0gX3JlZi5oYXNEZXRhaWxzLFxuICAgICAgaGFzTWV0YWRhdGEgPSBfcmVmLmhhc01ldGFkYXRhLFxuICAgICAgaGFzU2tpbGxzID0gX3JlZi5oYXNTa2lsbHMsXG4gICAgICBoYXNWZXJzaW9ucyA9IF9yZWYuaGFzVmVyc2lvbnMsXG4gICAgICBpc09wZW4gPSBfcmVmLmlzT3BlbixcbiAgICAgIG1ldGFkYXRhU2lkZWJhclByb3BzID0gX3JlZi5tZXRhZGF0YVNpZGViYXJQcm9wcyxcbiAgICAgIG9uVmVyc2lvbkNoYW5nZSA9IF9yZWYub25WZXJzaW9uQ2hhbmdlLFxuICAgICAgb25WZXJzaW9uSGlzdG9yeUNsaWNrID0gX3JlZi5vblZlcnNpb25IaXN0b3J5Q2xpY2s7XG4gIHJldHVybiBpc09wZW4gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2gsIG51bGwsIGhhc1NraWxscyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgZXhhY3Q6IHRydWUsXG4gICAgcGF0aDogXCIvXCIuY29uY2F0KFNJREVCQVJfVklFV19TS0lMTFMpLFxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGFibGVTa2lsbHNTaWRlYmFyLCB7XG4gICAgICAgIGtleTogZmlsZS5pZCxcbiAgICAgICAgZmlsZTogZmlsZSxcbiAgICAgICAgZ2V0UHJldmlldzogZ2V0UHJldmlldyxcbiAgICAgICAgZ2V0Vmlld2VyOiBnZXRWaWV3ZXIsXG4gICAgICAgIHN0YXJ0TWFya05hbWU6IE1BUktfTkFNRV9KU19MT0FESU5HX1NLSUxMU1xuICAgICAgfSk7XG4gICAgfVxuICB9KSwgaGFzQWN0aXZpdHkgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgIGV4YWN0OiB0cnVlLFxuICAgIHBhdGg6IFwiL1wiLmNvbmNhdChTSURFQkFSX1ZJRVdfQUNUSVZJVFkpLFxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGFibGVBY3Rpdml0eVNpZGViYXIsIF9leHRlbmRzKHtcbiAgICAgICAgY3VycmVudFVzZXI6IGN1cnJlbnRVc2VyLFxuICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICBvblZlcnNpb25IaXN0b3J5Q2xpY2s6IG9uVmVyc2lvbkhpc3RvcnlDbGljayxcbiAgICAgICAgc3RhcnRNYXJrTmFtZTogTUFSS19OQU1FX0pTX0xPQURJTkdfQUNUSVZJVFlcbiAgICAgIH0sIGFjdGl2aXR5U2lkZWJhclByb3BzKSk7XG4gICAgfVxuICB9KSwgaGFzRGV0YWlscyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgZXhhY3Q6IHRydWUsXG4gICAgcGF0aDogXCIvXCIuY29uY2F0KFNJREVCQVJfVklFV19ERVRBSUxTKSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRhYmxlRGV0YWlsc1NpZGViYXIsIF9leHRlbmRzKHtcbiAgICAgICAgZmlsZUlkOiBmaWxlSWQsXG4gICAgICAgIGtleTogZmlsZUlkLFxuICAgICAgICBvblZlcnNpb25IaXN0b3J5Q2xpY2s6IG9uVmVyc2lvbkhpc3RvcnlDbGljayxcbiAgICAgICAgc3RhcnRNYXJrTmFtZTogTUFSS19OQU1FX0pTX0xPQURJTkdfREVUQUlMU1xuICAgICAgfSwgZGV0YWlsc1NpZGViYXJQcm9wcykpO1xuICAgIH1cbiAgfSksIGhhc01ldGFkYXRhICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICBleGFjdDogdHJ1ZSxcbiAgICBwYXRoOiBcIi9cIi5jb25jYXQoU0lERUJBUl9WSUVXX01FVEFEQVRBKSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRhYmxlTWV0YWRhdGFTaWRlYmFyLCBfZXh0ZW5kcyh7XG4gICAgICAgIGZpbGVJZDogZmlsZUlkLFxuICAgICAgICBzdGFydE1hcmtOYW1lOiBNQVJLX05BTUVfSlNfTE9BRElOR19NRVRBREFUQVxuICAgICAgfSwgbWV0YWRhdGFTaWRlYmFyUHJvcHMpKTtcbiAgICB9XG4gIH0pLCBoYXNWZXJzaW9ucyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgcGF0aDogXCIvOnNpZGViYXIvdmVyc2lvbnMvOnZlcnNpb25JZD9cIixcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmMikge1xuICAgICAgdmFyIG1hdGNoID0gX3JlZjIubWF0Y2g7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkYWJsZVZlcnNpb25zU2lkZWJhciwge1xuICAgICAgICBmaWxlSWQ6IGZpbGVJZCxcbiAgICAgICAga2V5OiBmaWxlSWQsXG4gICAgICAgIG9uVmVyc2lvbkNoYW5nZTogb25WZXJzaW9uQ2hhbmdlLFxuICAgICAgICBwYXJlbnROYW1lOiBtYXRjaC5wYXJhbXMuc2lkZWJhcixcbiAgICAgICAgdmVyc2lvbklkOiBtYXRjaC5wYXJhbXMudmVyc2lvbklkXG4gICAgICB9KTtcbiAgICB9XG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgcmVkaXJlY3QgPSAnJztcblxuICAgICAgaWYgKGhhc1NraWxscykge1xuICAgICAgICByZWRpcmVjdCA9IFNJREVCQVJfVklFV19TS0lMTFM7XG4gICAgICB9IGVsc2UgaWYgKGhhc0FjdGl2aXR5KSB7XG4gICAgICAgIHJlZGlyZWN0ID0gU0lERUJBUl9WSUVXX0FDVElWSVRZO1xuICAgICAgfSBlbHNlIGlmIChoYXNEZXRhaWxzKSB7XG4gICAgICAgIHJlZGlyZWN0ID0gU0lERUJBUl9WSUVXX0RFVEFJTFM7XG4gICAgICB9IGVsc2UgaWYgKGhhc01ldGFkYXRhKSB7XG4gICAgICAgIHJlZGlyZWN0ID0gU0lERUJBUl9WSUVXX01FVEFEQVRBO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwge1xuICAgICAgICB0bzoge1xuICAgICAgICAgIHBhdGhuYW1lOiBcIi9cIi5jb25jYXQocmVkaXJlY3QpLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBzaWxlbnQ6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2lkZWJhclBhbmVsczsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIENvbnRlbnQgU2lkZWJhciBDb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IGZsb3cgZnJvbSAnbG9kYXNoL2Zsb3cnO1xuaW1wb3J0IGdldFByb3AgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgdW5pcXVlaWQgZnJvbSAnbG9kYXNoL3VuaXF1ZUlkJztcbmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBMb2FkaW5nSW5kaWNhdG9yIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbG9hZGluZy1pbmRpY2F0b3IvTG9hZGluZ0luZGljYXRvcic7XG5pbXBvcnQgTG9jYWxTdG9yZSBmcm9tICcuLi8uLi91dGlscy9Mb2NhbFN0b3JlJztcbmltcG9ydCBTaWRlYmFyTmF2IGZyb20gJy4vU2lkZWJhck5hdic7XG5pbXBvcnQgU2lkZWJhclBhbmVscyBmcm9tICcuL1NpZGViYXJQYW5lbHMnO1xuaW1wb3J0IFNpZGViYXJVdGlscyBmcm9tICcuL1NpZGViYXJVdGlscyc7XG5pbXBvcnQgeyBpc0ZlYXR1cmVFbmFibGVkLCB3aXRoRmVhdHVyZUNvbnN1bWVyIH0gZnJvbSAnLi4vY29tbW9uL2ZlYXR1cmUtY2hlY2tpbmcnO1xuZXhwb3J0IHZhciBTSURFQkFSX0ZPUkNFX0tFWSA9ICdiY3MuZm9yY2UnO1xuZXhwb3J0IHZhciBTSURFQkFSX0ZPUkNFX1ZBTFVFX0NMT1NFRCA9ICdjbG9zZWQnO1xuZXhwb3J0IHZhciBTSURFQkFSX0ZPUkNFX1ZBTFVFX09QRU4gPSAnb3Blbic7XG5cbnZhciBTaWRlYmFyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTaWRlYmFyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTaWRlYmFyKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZGViYXIpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoU2lkZWJhcikuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImlkXCIsIHVuaXF1ZWlkKCdiY3NfJykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInN0YXRlXCIsIHtcbiAgICAgIGlzRGlydHk6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwic3RvcmVcIiwgbmV3IExvY2FsU3RvcmUoKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiaGFuZGxlVmVyc2lvbkhpc3RvcnlDbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGZpbGUgPSBfdGhpcyRwcm9wcy5maWxlLFxuICAgICAgICAgIGhpc3RvcnkgPSBfdGhpcyRwcm9wcy5oaXN0b3J5O1xuICAgICAgdmFyIGN1cnJlbnRWZXJzaW9uID0gZmlsZS5maWxlX3ZlcnNpb247XG4gICAgICB2YXIgZmlsZVZlcnNpb25TbHVnID0gY3VycmVudFZlcnNpb24gPyBcIi9cIi5jb25jYXQoY3VycmVudFZlcnNpb24uaWQpIDogJyc7XG5cbiAgICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICBoaXN0b3J5LnB1c2goXCJcIi5jb25jYXQoaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSwgXCIvdmVyc2lvbnNcIikuY29uY2F0KGZpbGVWZXJzaW9uU2x1ZykpO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc2V0Rm9yY2VkQnlMb2NhdGlvbigpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNpZGViYXIsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmaWxlSWQgPSBfdGhpcyRwcm9wczIuZmlsZUlkLFxuICAgICAgICAgIGhpc3RvcnkgPSBfdGhpcyRwcm9wczIuaGlzdG9yeSxcbiAgICAgICAgICBsb2NhdGlvbiA9IF90aGlzJHByb3BzMi5sb2NhdGlvbjtcbiAgICAgIHZhciBwcmV2RmlsZUlkID0gcHJldlByb3BzLmZpbGVJZCxcbiAgICAgICAgICBwcmV2TG9jYXRpb24gPSBwcmV2UHJvcHMubG9jYXRpb247XG4gICAgICB2YXIgaXNEaXJ0eSA9IHRoaXMuc3RhdGUuaXNEaXJ0eTsgLy8gVXNlciBuYXZpZ2F0ZWQgdG8gYSBkaWZmZXJlbnQgZmlsZSB3aXRob3V0IGV2ZXIgbmF2aWdhdGluZyB0aGUgc2lkZWJhclxuXG4gICAgICBpZiAoIWlzRGlydHkgJiYgZmlsZUlkICE9PSBwcmV2RmlsZUlkICYmIGxvY2F0aW9uLnBhdGhuYW1lICE9PSAnLycpIHtcbiAgICAgICAgaGlzdG9yeS5yZXBsYWNlKHtcbiAgICAgICAgICBwYXRobmFtZTogJy8nLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBzaWxlbnQ6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBVc2VyIG5hdmlnYXRlZCBvciB0b2dnbGVkIHRoZSBzaWRlYmFyIGludGVudGlvbmFsbHksIGludGVybmFsbHkgb3IgZXh0ZXJuYWxseVxuXG5cbiAgICAgIGlmIChsb2NhdGlvbiAhPT0gcHJldkxvY2F0aW9uICYmICF0aGlzLmdldExvY2F0aW9uU3RhdGUoJ3NpbGVudCcpKSB7XG4gICAgICAgIHRoaXMuc2V0Rm9yY2VkQnlMb2NhdGlvbigpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0RpcnR5OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdmVyc2lvbiBoaXN0b3J5IGNsaWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCAtIFRoZSBldmVudFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRMb2NhdGlvblN0YXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZm9yIGxvY2F0aW9uIHN0YXRlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBOT1RFOiBFYWNoIGxvY2F0aW9uIG9uIHRoZSBoaXN0b3J5IHN0YWNrIGhhcyBpdHMgb3duIG9wdGlvbmFsIHN0YXRlIG9iamVjdCB0aGF0IGlzIHdob2xseSBzZXBhcmF0ZSBmcm9tXG4gICAgICogdGhpcyBjb21wb25lbnQncyBpbnRlcm5hbCBzdGF0ZS4gVmFsdWVzIG9uIHRoZSBsb2NhdGlvbiBzdGF0ZSBvYmplY3QgY2FuIHBlcnNpc3QgZXZlbiBiZXR3ZWVuIHJlZnJlc2hlc1xuICAgICAqIHdoZW4gdXNpbmcgY2VydGFpbiBoaXN0b3J5IGNvbnRleHRzLCBzdWNoIGFzIEJyb3dzZXJIaXN0b3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIE9wdGlvbmFsbHkgZ2V0IGEgc3BlY2lmaWMga2V5IHZhbHVlIGZyb20gc3RhdGVcbiAgICAgKiBAcmV0dXJucyB7YW55fSAtIFRoZSBsb2NhdGlvbiBzdGF0ZSBvciBzdGF0ZSBrZXkgdmFsdWVcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25TdGF0ZShrZXkpIHtcbiAgICAgIHZhciBsb2NhdGlvbiA9IHRoaXMucHJvcHMubG9jYXRpb247XG4gICAgICB2YXIgX2xvY2F0aW9uJHN0YXRlID0gbG9jYXRpb24uc3RhdGUsXG4gICAgICAgICAgbG9jYXRpb25TdGF0ZSA9IF9sb2NhdGlvbiRzdGF0ZSA9PT0gdm9pZCAwID8ge30gOiBfbG9jYXRpb24kc3RhdGU7XG4gICAgICByZXR1cm4gZ2V0UHJvcChsb2NhdGlvblN0YXRlLCBrZXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXR0ZXIvc2V0dGVyIGZvciBzaWRlYmFyIGZvcmNlZCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIGlzT3BlbiAtIE9wdGlvbmFsbHkgc2V0IHRoZSBzaWRlYmFyIHRvIG9wZW4vY2xvc2VkXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSAtIFRoZSBzaWRlYmFyIG9wZW4vY2xvc2VkIHN0YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0ZvcmNlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0ZvcmNlZChpc09wZW4pIHtcbiAgICAgIGlmIChpc09wZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnN0b3JlLnNldEl0ZW0oU0lERUJBUl9GT1JDRV9LRVksIGlzT3BlbiA/IFNJREVCQVJfRk9SQ0VfVkFMVUVfT1BFTiA6IFNJREVCQVJfRk9SQ0VfVkFMVUVfQ0xPU0VEKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0SXRlbShTSURFQkFSX0ZPUkNFX0tFWSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHRlciBmb3Igd2hldGhlciB0aGUgc2lkZWJhciBoYXMgYmVlbiBmb3JjZWQgb3BlblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHNpZGViYXIgaGFzIGJlZW4gZm9yY2VkIG9wZW5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzRm9yY2VkT3BlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0ZvcmNlZE9wZW4oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0ZvcmNlZCgpID09PSBTSURFQkFSX0ZPUkNFX1ZBTFVFX09QRU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHRlciBmb3Igd2hldGhlciB0aGUgc2lkZWJhciBoYXMgYmVlbiBmb3JjZWQgb3Blbi9jbG9zZWQgcHJldmlvdXNseVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHNpZGViYXIgaGFzIGJlZW4gZm9yY2VkIG9wZW4vY2xvc2VkIHByZXZpb3VzbHlcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzRm9yY2VkU2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRm9yY2VkU2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNGb3JjZWQoKSAhPT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIHRvIHNldCB0aGUgbG9jYWwgc3RvcmUgb3BlbiBzdGF0ZSBiYXNlZCBvbiB0aGUgbG9jYXRpb24gb3BlbiBzdGF0ZSwgaWYgZGVmaW5lZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Rm9yY2VkQnlMb2NhdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGb3JjZWRCeUxvY2F0aW9uKCkge1xuICAgICAgdmFyIGlzTG9jYXRpb25PcGVuID0gdGhpcy5nZXRMb2NhdGlvblN0YXRlKCdvcGVuJyk7XG5cbiAgICAgIGlmIChpc0xvY2F0aW9uT3BlbiAhPT0gdW5kZWZpbmVkICYmIGlzTG9jYXRpb25PcGVuICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuaXNGb3JjZWQoaXNMb2NhdGlvbk9wZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0aXZpdHlTaWRlYmFyUHJvcHMgPSBfdGhpcyRwcm9wczMuYWN0aXZpdHlTaWRlYmFyUHJvcHMsXG4gICAgICAgICAgYWRkaXRpb25hbFRhYnMgPSBfdGhpcyRwcm9wczMuYWRkaXRpb25hbFRhYnMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMzLmNsYXNzTmFtZSxcbiAgICAgICAgICBjdXJyZW50VXNlciA9IF90aGlzJHByb3BzMy5jdXJyZW50VXNlcixcbiAgICAgICAgICBkZXRhaWxzU2lkZWJhclByb3BzID0gX3RoaXMkcHJvcHMzLmRldGFpbHNTaWRlYmFyUHJvcHMsXG4gICAgICAgICAgZmVhdHVyZXMgPSBfdGhpcyRwcm9wczMuZmVhdHVyZXMsXG4gICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzMy5maWxlLFxuICAgICAgICAgIGZpbGVJZCA9IF90aGlzJHByb3BzMy5maWxlSWQsXG4gICAgICAgICAgZ2V0UHJldmlldyA9IF90aGlzJHByb3BzMy5nZXRQcmV2aWV3LFxuICAgICAgICAgIGdldFZpZXdlciA9IF90aGlzJHByb3BzMy5nZXRWaWV3ZXIsXG4gICAgICAgICAgaGFzQWRkaXRpb25hbFRhYnMgPSBfdGhpcyRwcm9wczMuaGFzQWRkaXRpb25hbFRhYnMsXG4gICAgICAgICAgaXNMYXJnZSA9IF90aGlzJHByb3BzMy5pc0xhcmdlLFxuICAgICAgICAgIGlzTG9hZGluZyA9IF90aGlzJHByb3BzMy5pc0xvYWRpbmcsXG4gICAgICAgICAgbWV0YWRhdGFFZGl0b3JzID0gX3RoaXMkcHJvcHMzLm1ldGFkYXRhRWRpdG9ycyxcbiAgICAgICAgICBtZXRhZGF0YVNpZGViYXJQcm9wcyA9IF90aGlzJHByb3BzMy5tZXRhZGF0YVNpZGViYXJQcm9wcyxcbiAgICAgICAgICBvblZlcnNpb25DaGFuZ2UgPSBfdGhpcyRwcm9wczMub25WZXJzaW9uQ2hhbmdlO1xuICAgICAgdmFyIGlzT3BlbiA9IHRoaXMuaXNGb3JjZWRTZXQoKSA/IHRoaXMuaXNGb3JjZWRPcGVuKCkgOiAhIWlzTGFyZ2U7XG4gICAgICB2YXIgaGFzQWN0aXZpdHkgPSBTaWRlYmFyVXRpbHMuY2FuSGF2ZUFjdGl2aXR5U2lkZWJhcih0aGlzLnByb3BzKTtcbiAgICAgIHZhciBoYXNEZXRhaWxzID0gU2lkZWJhclV0aWxzLmNhbkhhdmVEZXRhaWxzU2lkZWJhcih0aGlzLnByb3BzKTtcbiAgICAgIHZhciBoYXNNZXRhZGF0YSA9IFNpZGViYXJVdGlscy5zaG91bGRSZW5kZXJNZXRhZGF0YVNpZGViYXIodGhpcy5wcm9wcywgbWV0YWRhdGFFZGl0b3JzKTtcbiAgICAgIHZhciBoYXNTa2lsbHMgPSBTaWRlYmFyVXRpbHMuc2hvdWxkUmVuZGVyU2tpbGxzU2lkZWJhcih0aGlzLnByb3BzLCBmaWxlKTtcbiAgICAgIHZhciBoYXNWZXJzaW9ucyA9IGlzRmVhdHVyZUVuYWJsZWQoZmVhdHVyZXMsICd2ZXJzaW9ucycpO1xuICAgICAgdmFyIG9uVmVyc2lvbkhpc3RvcnlDbGljayA9IGhhc1ZlcnNpb25zID8gdGhpcy5oYW5kbGVWZXJzaW9uSGlzdG9yeUNsaWNrIDogdGhpcy5wcm9wcy5vblZlcnNpb25IaXN0b3J5Q2xpY2s7XG4gICAgICB2YXIgc3R5bGVDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdiZSBiY3MnLCBjbGFzc05hbWUsIHtcbiAgICAgICAgJ2Jjcy1pcy1vcGVuJzogaXNPcGVuXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYXNpZGVcIiwge1xuICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgY2xhc3NOYW1lOiBzdHlsZUNsYXNzTmFtZVxuICAgICAgfSwgaXNMb2FkaW5nID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJiY3MtbG9hZGluZ1wiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdJbmRpY2F0b3IsIG51bGwpKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhck5hdiwge1xuICAgICAgICBhZGRpdGlvbmFsVGFiczogYWRkaXRpb25hbFRhYnMsXG4gICAgICAgIGZpbGVJZDogZmlsZUlkLFxuICAgICAgICBoYXNBY3Rpdml0eTogaGFzQWN0aXZpdHksXG4gICAgICAgIGhhc0FkZGl0aW9uYWxUYWJzOiBoYXNBZGRpdGlvbmFsVGFicyxcbiAgICAgICAgaGFzRGV0YWlsczogaGFzRGV0YWlscyxcbiAgICAgICAgaGFzTWV0YWRhdGE6IGhhc01ldGFkYXRhLFxuICAgICAgICBoYXNTa2lsbHM6IGhhc1NraWxscyxcbiAgICAgICAgaXNPcGVuOiBpc09wZW5cbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJQYW5lbHMsIHtcbiAgICAgICAgYWN0aXZpdHlTaWRlYmFyUHJvcHM6IGFjdGl2aXR5U2lkZWJhclByb3BzLFxuICAgICAgICBjdXJyZW50VXNlcjogY3VycmVudFVzZXIsXG4gICAgICAgIGRldGFpbHNTaWRlYmFyUHJvcHM6IGRldGFpbHNTaWRlYmFyUHJvcHMsXG4gICAgICAgIGZpbGU6IGZpbGUsXG4gICAgICAgIGZpbGVJZDogZmlsZUlkLFxuICAgICAgICBnZXRQcmV2aWV3OiBnZXRQcmV2aWV3LFxuICAgICAgICBnZXRWaWV3ZXI6IGdldFZpZXdlcixcbiAgICAgICAgaGFzQWN0aXZpdHk6IGhhc0FjdGl2aXR5LFxuICAgICAgICBoYXNEZXRhaWxzOiBoYXNEZXRhaWxzLFxuICAgICAgICBoYXNNZXRhZGF0YTogaGFzTWV0YWRhdGEsXG4gICAgICAgIGhhc1NraWxsczogaGFzU2tpbGxzLFxuICAgICAgICBoYXNWZXJzaW9uczogaGFzVmVyc2lvbnMsXG4gICAgICAgIGlzT3BlbjogaXNPcGVuLFxuICAgICAgICBrZXk6IGZpbGUuaWQsXG4gICAgICAgIG1ldGFkYXRhU2lkZWJhclByb3BzOiBtZXRhZGF0YVNpZGViYXJQcm9wcyxcbiAgICAgICAgb25WZXJzaW9uQ2hhbmdlOiBvblZlcnNpb25DaGFuZ2UsXG4gICAgICAgIG9uVmVyc2lvbkhpc3RvcnlDbGljazogb25WZXJzaW9uSGlzdG9yeUNsaWNrXG4gICAgICB9KSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTaWRlYmFyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoU2lkZWJhciwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBpc0xhcmdlOiB0cnVlLFxuICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZXhwb3J0IHsgU2lkZWJhciBhcyBTaWRlYmFyQ29tcG9uZW50IH07XG5leHBvcnQgZGVmYXVsdCBmbG93KFt3aXRoRmVhdHVyZUNvbnN1bWVyLCB3aXRoUm91dGVyXSkoU2lkZWJhcik7IiwiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIFNpZGViYXIgUm91dGVyIENvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTWVtb3J5Um91dGVyLCBSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxudmFyIFNpZGViYXJSb3V0ZXIgPSBmdW5jdGlvbiBTaWRlYmFyUm91dGVyKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGhpc3RvcnkgPSBfcmVmLmhpc3RvcnksXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImNoaWxkcmVuXCIsIFwiaGlzdG9yeVwiXSk7XG5cbiAgaWYgKGhpc3RvcnkpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZXIsIHtcbiAgICAgIGhpc3Rvcnk6IGhpc3RvcnlcbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChNZW1vcnlSb3V0ZXIsIHJlc3QsIGNoaWxkcmVuKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpZGViYXJSb3V0ZXI7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIENvbnRlbnQgU2lkZWJhciBDb250YWluZXJcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBub29wIGZyb20gJ2xvZGFzaC9ub29wJztcbmltcG9ydCBmbG93IGZyb20gJ2xvZGFzaC9mbG93JztcbmltcG9ydCBBUEkgZnJvbSAnLi4vLi4vYXBpJztcbmltcG9ydCBBUElDb250ZXh0IGZyb20gJy4uL2NvbW1vbi9hcGktY29udGV4dCc7XG5pbXBvcnQgSW50ZXJuYXRpb25hbGl6ZSBmcm9tICcuLi9jb21tb24vSW50ZXJuYXRpb25hbGl6ZSc7XG5pbXBvcnQgU2lkZWJhciBmcm9tICcuL1NpZGViYXInO1xuaW1wb3J0IFNpZGViYXJSb3V0ZXIgZnJvbSAnLi9TaWRlYmFyUm91dGVyJztcbmltcG9ydCBTaWRlYmFyVXRpbHMgZnJvbSAnLi9TaWRlYmFyVXRpbHMnO1xuaW1wb3J0IHsgREVGQVVMVF9IT1NUTkFNRV9BUEksIENMSUVOVF9OQU1FX0NPTlRFTlRfU0lERUJBUiwgT1JJR0lOX0NPTlRFTlRfU0lERUJBUiB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFVkVOVF9KU19SRUFEWSB9IGZyb20gJy4uL2NvbW1vbi9sb2dnZXIvY29uc3RhbnRzJztcbmltcG9ydCB7IG1hcmsgfSBmcm9tICcuLi8uLi91dGlscy9wZXJmb3JtYW5jZSc7XG5pbXBvcnQgeyBTSURFQkFSX0ZJRUxEU19UT19GRVRDSCB9IGZyb20gJy4uLy4uL3V0aWxzL2ZpZWxkcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL2NvbW1vbi9lcnJvci1ib3VuZGFyeSc7XG5pbXBvcnQgeyB3aXRoRmVhdHVyZVByb3ZpZGVyIH0gZnJvbSAnLi4vY29tbW9uL2ZlYXR1cmUtY2hlY2tpbmcnO1xuaW1wb3J0IHsgd2l0aExvZ2dlciB9IGZyb20gJy4uL2NvbW1vbi9sb2dnZXInO1xuaW1wb3J0ICcuLi9jb21tb24vZm9udHMuc2Nzcyc7XG5pbXBvcnQgJy4uL2NvbW1vbi9iYXNlLnNjc3MnO1xuaW1wb3J0ICcuLi9jb21tb24vbW9kYWwuc2Nzcyc7XG5pbXBvcnQgJy4vQ29udGVudFNpZGViYXIuc2Nzcyc7XG52YXIgTUFSS19OQU1FX0pTX1JFQURZID0gXCJcIi5jb25jYXQoT1JJR0lOX0NPTlRFTlRfU0lERUJBUiwgXCJfXCIpLmNvbmNhdChFVkVOVF9KU19SRUFEWSk7XG5tYXJrKE1BUktfTkFNRV9KU19SRUFEWSk7XG5cbnZhciBDb250ZW50U2lkZWJhciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ29udGVudFNpZGViYXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBbY29uc3RydWN0b3JdXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge0NvbnRlbnRTaWRlYmFyfVxuICAgKi9cbiAgZnVuY3Rpb24gQ29udGVudFNpZGViYXIocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGVudFNpZGViYXIpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQ29udGVudFNpZGViYXIpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJlcnJvckNhbGxiYWNrXCIsIGZ1bmN0aW9uIChlcnJvciwgY29kZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblxuICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkVycm9yKGVycm9yLCBjb2RlLCB7XG4gICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cblxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImZldGNoTWV0YWRhdGFTdWNjZXNzQ2FsbGJhY2tcIiwgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBlZGl0b3JzID0gX3JlZi5lZGl0b3JzO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG1ldGFkYXRhRWRpdG9yczogZWRpdG9yc1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZmV0Y2hGaWxlU3VjY2Vzc0NhbGxiYWNrXCIsIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZpbGU6IGZpbGUsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0sIF90aGlzLmZldGNoTWV0YWRhdGEpO1xuICAgIH0pO1xuXG4gICAgdmFyIGFwaUhvc3QgPSBwcm9wcy5hcGlIb3N0LFxuICAgICAgICBjYWNoZSA9IHByb3BzLmNhY2hlLFxuICAgICAgICBjbGllbnROYW1lID0gcHJvcHMuY2xpZW50TmFtZSxcbiAgICAgICAgcmVxdWVzdEludGVyY2VwdG9yID0gcHJvcHMucmVxdWVzdEludGVyY2VwdG9yLFxuICAgICAgICByZXNwb25zZUludGVyY2VwdG9yID0gcHJvcHMucmVzcG9uc2VJbnRlcmNlcHRvcixcbiAgICAgICAgc2hhcmVkTGluayA9IHByb3BzLnNoYXJlZExpbmssXG4gICAgICAgIHNoYXJlZExpbmtQYXNzd29yZCA9IHByb3BzLnNoYXJlZExpbmtQYXNzd29yZCxcbiAgICAgICAgdG9rZW4gPSBwcm9wcy50b2tlbjtcbiAgICBfdGhpcy5hcGkgPSBuZXcgQVBJKHtcbiAgICAgIGFwaUhvc3Q6IGFwaUhvc3QsXG4gICAgICBjYWNoZTogY2FjaGUsXG4gICAgICBjbGllbnROYW1lOiBjbGllbnROYW1lLFxuICAgICAgcmVxdWVzdEludGVyY2VwdG9yOiByZXF1ZXN0SW50ZXJjZXB0b3IsXG4gICAgICByZXNwb25zZUludGVyY2VwdG9yOiByZXNwb25zZUludGVyY2VwdG9yLFxuICAgICAgc2hhcmVkTGluazogc2hhcmVkTGluayxcbiAgICAgIHNoYXJlZExpbmtQYXNzd29yZDogc2hhcmVkTGlua1Bhc3N3b3JkLFxuICAgICAgdG9rZW46IHRva2VuXG4gICAgfSk7XG4gICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xuXG4gICAgdmFyIGxvZ2dlciA9IHByb3BzLmxvZ2dlcjtcbiAgICBsb2dnZXIub25SZWFkeU1ldHJpYyh7XG4gICAgICBlbmRNYXJrTmFtZTogTUFSS19OQU1FX0pTX1JFQURZXG4gICAgfSk7XG4gICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIGFwaSBpbnN0YW5jZXMgd2l0aCBjYWNoZXNcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ29udGVudFNpZGViYXIsIFt7XG4gICAga2V5OiBcImNsZWFyQ2FjaGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICAgIHRoaXMuYXBpLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFudXBcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGluaGVyaXRkb2NcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAvLyBEb24ndCBkZXN0cm95IHRoZSBjYWNoZSB3aGlsZSB1bm1vdW50aW5nXG4gICAgICB0aGlzLmFwaS5kZXN0cm95KGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgZmlsZSBkYXRhIG9uIGxvYWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGluaGVyaXRkb2NcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLmZldGNoRmlsZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIG5ldyBmaWxlIGRhdGEgb24gdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbmhlcml0ZG9jXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICB2YXIgZmlsZUlkID0gdGhpcy5wcm9wcy5maWxlSWQ7XG4gICAgICB2YXIgcHJldkZpbGVJZCA9IHByZXZQcm9wcy5maWxlSWQ7XG5cbiAgICAgIGlmIChmaWxlSWQgIT09IHByZXZGaWxlSWQpIHtcbiAgICAgICAgdGhpcy5mZXRjaEZpbGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTmV0d29yayBlcnJvciBjYWxsYmFja1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJvciAtIEVycm9yIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIC0gZXJyb3IgY29kZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmZXRjaE1ldGFkYXRhXCIsXG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGZpbGUgbWV0YWRhdGEgZWRpdG9ycyBpZiByZXF1aXJlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaE1ldGFkYXRhKCkge1xuICAgICAgdmFyIGZpbGUgPSB0aGlzLnN0YXRlLmZpbGU7XG4gICAgICB2YXIgbWV0YWRhdGFTaWRlYmFyUHJvcHMgPSB0aGlzLnByb3BzLm1ldGFkYXRhU2lkZWJhclByb3BzO1xuICAgICAgdmFyIF9tZXRhZGF0YVNpZGViYXJQcm9wcyA9IG1ldGFkYXRhU2lkZWJhclByb3BzLmlzRmVhdHVyZUVuYWJsZWQsXG4gICAgICAgICAgaXNGZWF0dXJlRW5hYmxlZCA9IF9tZXRhZGF0YVNpZGViYXJQcm9wcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9tZXRhZGF0YVNpZGViYXJQcm9wczsgLy8gT25seSBmZXRjaCBtZXRhZGF0YSBpZiB3ZSB0aGluayB0aGF0IHRoZSBmaWxlIG1heSBoYXZlIG1ldGFkYXRhIG9uIGl0XG4gICAgICAvLyBidXQgY3VycmVudGx5IHRoZSBtZXRhZGF0YSBmZWF0dXJlIGlzIHR1cm5lZCBvZmYuIFVzZSBjYXNlIG9mIHRoaXMgd291bGQgYmUgYSBmcmVlXG4gICAgICAvLyB1c2VyIHdobyBkb2Vzbid0IGhhdmUgdGhlIG1ldGFkYXRhIGZlYXR1cmUgYnV0IGlzIGNvbGxhYmVkIG9uIGEgZmlsZSBmcm9tIGEgdXNlclxuICAgICAgLy8gd2hvIGFkZGVkIG1ldGFkYXRhIG9uIHRoZSBmaWxlLiBJZiB0aGUgZmVhdHVyZSBpcyBlbmFibGVkIHdlIGFsd2F5cyBlbmQgdXAgc2hvd2luZ1xuICAgICAgLy8gdGhlIG1ldGFkYXRhIHNpZGViYXIgaXJyZXNwZWN0aXZlIG9mIHRoZXJlIGJlaW5nIGFueSBleGlzdGluZyBtZXRhZGF0YSBvciBub3QuXG5cbiAgICAgIHZhciBjYW5IYXZlTWV0YWRhdGFTaWRlYmFyID0gIWlzRmVhdHVyZUVuYWJsZWQgJiYgU2lkZWJhclV0aWxzLmNhbkhhdmVNZXRhZGF0YVNpZGViYXIodGhpcy5wcm9wcyk7XG5cbiAgICAgIGlmIChjYW5IYXZlTWV0YWRhdGFTaWRlYmFyKSB7XG4gICAgICAgIHRoaXMuYXBpLmdldE1ldGFkYXRhQVBJKGZhbHNlKS5nZXRNZXRhZGF0YShmaWxlLCB0aGlzLmZldGNoTWV0YWRhdGFTdWNjZXNzQ2FsbGJhY2ssIG5vb3AsIGlzRmVhdHVyZUVuYWJsZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaWxlIGZldGNoIHN1Y2Nlc3MgY2FsbGJhY2sgdGhhdCBzZXRzIHRoZSBmaWxlIGFuZCBzaWRlYmFyIHZpc2liaWxpdHkuXG4gICAgICogQWxzbyBtYWtlcyBhbiBvcHRpb25hbCByZXF1ZXN0IHRvIGZldGNoIG1ldGFkYXRhIGVkaXRvcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGUgLSBCb3ggZmlsZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmZXRjaEZpbGVcIixcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYSBmaWxlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fHZvaWR9IFtmZXRjaE9wdGlvbnNdIC0gRmV0Y2ggb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoRmlsZSgpIHtcbiAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgdmFyIGZpbGVJZCA9IHRoaXMucHJvcHMuZmlsZUlkO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChmaWxlSWQgJiYgU2lkZWJhclV0aWxzLmNhbkhhdmVTaWRlYmFyKHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMuYXBpLmdldEZpbGVBUEkoKS5nZXRGaWxlKGZpbGVJZCwgdGhpcy5mZXRjaEZpbGVTdWNjZXNzQ2FsbGJhY2ssIHRoaXMuZXJyb3JDYWxsYmFjaywgX29iamVjdFNwcmVhZCh7fSwgZmV0Y2hPcHRpb25zLCB7XG4gICAgICAgICAgZmllbGRzOiBTSURFQkFSX0ZJRUxEU19UT19GRVRDSFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHNpZGViYXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGluaGVyaXRkb2NcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0aXZpdHlTaWRlYmFyUHJvcHMgPSBfdGhpcyRwcm9wcy5hY3Rpdml0eVNpZGViYXJQcm9wcyxcbiAgICAgICAgICBhZGRpdGlvbmFsVGFicyA9IF90aGlzJHByb3BzLmFkZGl0aW9uYWxUYWJzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBjdXJyZW50VXNlciA9IF90aGlzJHByb3BzLmN1cnJlbnRVc2VyLFxuICAgICAgICAgIGRlZmF1bHRWaWV3ID0gX3RoaXMkcHJvcHMuZGVmYXVsdFZpZXcsXG4gICAgICAgICAgZGV0YWlsc1NpZGViYXJQcm9wcyA9IF90aGlzJHByb3BzLmRldGFpbHNTaWRlYmFyUHJvcHMsXG4gICAgICAgICAgZmlsZUlkID0gX3RoaXMkcHJvcHMuZmlsZUlkLFxuICAgICAgICAgIGdldFByZXZpZXcgPSBfdGhpcyRwcm9wcy5nZXRQcmV2aWV3LFxuICAgICAgICAgIGdldFZpZXdlciA9IF90aGlzJHByb3BzLmdldFZpZXdlcixcbiAgICAgICAgICBoYXNBZGRpdGlvbmFsVGFicyA9IF90aGlzJHByb3BzLmhhc0FkZGl0aW9uYWxUYWJzLFxuICAgICAgICAgIGhhc0FjdGl2aXR5RmVlZCA9IF90aGlzJHByb3BzLmhhc0FjdGl2aXR5RmVlZCxcbiAgICAgICAgICBoYXNNZXRhZGF0YSA9IF90aGlzJHByb3BzLmhhc01ldGFkYXRhLFxuICAgICAgICAgIGhhc1NraWxscyA9IF90aGlzJHByb3BzLmhhc1NraWxscyxcbiAgICAgICAgICBoaXN0b3J5ID0gX3RoaXMkcHJvcHMuaGlzdG9yeSxcbiAgICAgICAgICBpc0xhcmdlID0gX3RoaXMkcHJvcHMuaXNMYXJnZSxcbiAgICAgICAgICBsYW5ndWFnZSA9IF90aGlzJHByb3BzLmxhbmd1YWdlLFxuICAgICAgICAgIG1lc3NhZ2VzID0gX3RoaXMkcHJvcHMubWVzc2FnZXMsXG4gICAgICAgICAgbWV0YWRhdGFTaWRlYmFyUHJvcHMgPSBfdGhpcyRwcm9wcy5tZXRhZGF0YVNpZGViYXJQcm9wcyxcbiAgICAgICAgICBvblZlcnNpb25DaGFuZ2UgPSBfdGhpcyRwcm9wcy5vblZlcnNpb25DaGFuZ2UsXG4gICAgICAgICAgb25WZXJzaW9uSGlzdG9yeUNsaWNrID0gX3RoaXMkcHJvcHMub25WZXJzaW9uSGlzdG9yeUNsaWNrO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBmaWxlID0gX3RoaXMkc3RhdGUuZmlsZSxcbiAgICAgICAgICBpc0xvYWRpbmcgPSBfdGhpcyRzdGF0ZS5pc0xvYWRpbmcsXG4gICAgICAgICAgbWV0YWRhdGFFZGl0b3JzID0gX3RoaXMkc3RhdGUubWV0YWRhdGFFZGl0b3JzO1xuICAgICAgdmFyIGluaXRpYWxQYXRoID0gZGVmYXVsdFZpZXcuY2hhckF0KDApID09PSAnLycgPyBkZWZhdWx0VmlldyA6IFwiL1wiLmNvbmNhdChkZWZhdWx0Vmlldyk7XG5cbiAgICAgIGlmICghZmlsZSB8fCAhZmlsZUlkIHx8ICFTaWRlYmFyVXRpbHMuc2hvdWxkUmVuZGVyU2lkZWJhcih0aGlzLnByb3BzLCBmaWxlLCBtZXRhZGF0YUVkaXRvcnMpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJbnRlcm5hdGlvbmFsaXplLCB7XG4gICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEFQSUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IHRoaXMuYXBpXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJSb3V0ZXIsIHtcbiAgICAgICAgaGlzdG9yeTogaGlzdG9yeSxcbiAgICAgICAgaW5pdGlhbEVudHJpZXM6IFtpbml0aWFsUGF0aF1cbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhciwge1xuICAgICAgICBhY3Rpdml0eVNpZGViYXJQcm9wczogYWN0aXZpdHlTaWRlYmFyUHJvcHMsXG4gICAgICAgIGFkZGl0aW9uYWxUYWJzOiBhZGRpdGlvbmFsVGFicyxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIGN1cnJlbnRVc2VyOiBjdXJyZW50VXNlcixcbiAgICAgICAgZGV0YWlsc1NpZGViYXJQcm9wczogZGV0YWlsc1NpZGViYXJQcm9wcyxcbiAgICAgICAgZmlsZTogZmlsZSxcbiAgICAgICAgZmlsZUlkOiBmaWxlSWQsXG4gICAgICAgIGdldFByZXZpZXc6IGdldFByZXZpZXcsXG4gICAgICAgIGdldFZpZXdlcjogZ2V0Vmlld2VyLFxuICAgICAgICBoYXNBY3Rpdml0eUZlZWQ6IGhhc0FjdGl2aXR5RmVlZCxcbiAgICAgICAgaGFzQWRkaXRpb25hbFRhYnM6IGhhc0FkZGl0aW9uYWxUYWJzLFxuICAgICAgICBoYXNNZXRhZGF0YTogaGFzTWV0YWRhdGEsXG4gICAgICAgIGhhc1NraWxsczogaGFzU2tpbGxzLFxuICAgICAgICBpc0xhcmdlOiBpc0xhcmdlLFxuICAgICAgICBpc0xvYWRpbmc6IGlzTG9hZGluZyxcbiAgICAgICAgbWV0YWRhdGFFZGl0b3JzOiBtZXRhZGF0YUVkaXRvcnMsXG4gICAgICAgIG1ldGFkYXRhU2lkZWJhclByb3BzOiBtZXRhZGF0YVNpZGViYXJQcm9wcyxcbiAgICAgICAgb25WZXJzaW9uQ2hhbmdlOiBvblZlcnNpb25DaGFuZ2UsXG4gICAgICAgIG9uVmVyc2lvbkhpc3RvcnlDbGljazogb25WZXJzaW9uSGlzdG9yeUNsaWNrXG4gICAgICB9KSkpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29udGVudFNpZGViYXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShDb250ZW50U2lkZWJhciwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBhY3Rpdml0eVNpZGViYXJQcm9wczoge30sXG4gIGFwaUhvc3Q6IERFRkFVTFRfSE9TVE5BTUVfQVBJLFxuICBjbGFzc05hbWU6ICcnLFxuICBjbGllbnROYW1lOiBDTElFTlRfTkFNRV9DT05URU5UX1NJREVCQVIsXG4gIGRlZmF1bHRWaWV3OiAnJyxcbiAgZGV0YWlsc1NpZGViYXJQcm9wczoge30sXG4gIGdldFByZXZpZXc6IG5vb3AsXG4gIGdldFZpZXdlcjogbm9vcCxcbiAgaGFzQWN0aXZpdHlGZWVkOiBmYWxzZSxcbiAgaGFzQWRkaXRpb25hbFRhYnM6IGZhbHNlLFxuICBoYXNNZXRhZGF0YTogZmFsc2UsXG4gIGhhc1NraWxsczogZmFsc2UsXG4gIGlzTGFyZ2U6IHRydWUsXG4gIG1ldGFkYXRhU2lkZWJhclByb3BzOiB7fVxufSk7XG5cbmV4cG9ydCB7IENvbnRlbnRTaWRlYmFyIGFzIENvbnRlbnRTaWRlYmFyQ29tcG9uZW50IH07XG5leHBvcnQgZGVmYXVsdCBmbG93KFt3aXRoRmVhdHVyZVByb3ZpZGVyLCB3aXRoTG9nZ2VyKE9SSUdJTl9DT05URU5UX1NJREVCQVIpLCB3aXRoRXJyb3JCb3VuZGFyeShPUklHSU5fQ09OVEVOVF9TSURFQkFSKV0pKENvbnRlbnRTaWRlYmFyKTsiLCJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSAnLi9Db250ZW50U2lkZWJhcic7IiwiLyoqXG4gKiBcbiAqIEBmaWxlIGEgcGxhY2Vob2xkZXIgY29tcG9uZW50IHdoaWNoIHdpbGwgYmUgZGlzcGxheWVkIHdoaWxlIGEgY29kZSBzcGxpdHRlZCBzaWRlYmFyIGNodW5rIGlzIGJlaW5nIGxvYWRlZCBhc3luY3Jvbm91c2x5XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvciBmcm9tICcuLi8uLi9jb21wb25lbnRzL2xvYWRpbmctaW5kaWNhdG9yL0xvYWRpbmdJbmRpY2F0b3InO1xuaW1wb3J0IFNpZGViYXJDb250ZW50IGZyb20gJy4vU2lkZWJhckNvbnRlbnQnO1xuaW1wb3J0IFNpZGViYXJTZWN0aW9uIGZyb20gJy4vU2lkZWJhclNlY3Rpb24nO1xuaW1wb3J0ICcuL1NpZGViYXJMb2FkaW5nLnNjc3MnO1xuXG52YXIgU2lkZWJhckxvYWRpbmcgPSBmdW5jdGlvbiBTaWRlYmFyTG9hZGluZyhfcmVmKSB7XG4gIHZhciB0aXRsZSA9IF9yZWYudGl0bGU7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJDb250ZW50LCB7XG4gICAgdGl0bGU6IHRpdGxlXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhclNlY3Rpb24sIHtcbiAgICBpc09wZW46IHRydWVcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nSW5kaWNhdG9yLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy1zaWRlYmFyLWxvYWRpbmdcIlxuICB9KSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2lkZWJhckxvYWRpbmc7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERlZmF1bHRFcnJvciBmcm9tICcuLi9jb21tb24vZXJyb3ItYm91bmRhcnkvRGVmYXVsdEVycm9yJztcbmltcG9ydCAnLi9TaWRlYmFyTG9hZGluZ0Vycm9yLnNjc3MnO1xuXG52YXIgU2lkZWJhckxvYWRpbmdFcnJvciA9IGZ1bmN0aW9uIFNpZGViYXJMb2FkaW5nRXJyb3IoKSB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmNzLWxvYWRpbmctZXJyb3JcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KERlZmF1bHRFcnJvciwgbnVsbCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2lkZWJhckxvYWRpbmdFcnJvcjsiLCJmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIFV0aWxpdHkgZm9yIHNpZGViYXJcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBBc3luY0xvYWQgZnJvbSAnLi4vY29tbW9uL2FzeW5jLWxvYWQnO1xuaW1wb3J0IFNpZGViYXJMb2FkaW5nIGZyb20gJy4vU2lkZWJhckxvYWRpbmcnO1xuaW1wb3J0IFNpZGViYXJMb2FkaW5nRXJyb3IgZnJvbSAnLi9TaWRlYmFyTG9hZGluZ0Vycm9yJztcbmltcG9ydCB7IGhhc1NraWxscyBhcyBoYXNTa2lsbHNEYXRhIH0gZnJvbSAnLi9za2lsbHMvc2tpbGxVdGlscyc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vY29tbW9uL21lc3NhZ2VzJztcbmltcG9ydCB7IG1hcmsgfSBmcm9tICcuLi8uLi91dGlscy9wZXJmb3JtYW5jZSc7XG5pbXBvcnQgeyBTSURFQkFSX1ZJRVdfU0tJTExTLCBTSURFQkFSX1ZJRVdfQUNUSVZJVFksIFNJREVCQVJfVklFV19NRVRBREFUQSwgU0lERUJBUl9WSUVXX0RFVEFJTFMsIFNJREVCQVJfVklFV19WRVJTSU9OUyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5cbnZhciBTaWRlYmFyVXRpbHMgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTaWRlYmFyVXRpbHMoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZGViYXJVdGlscyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2lkZWJhclV0aWxzLCBudWxsLCBbe1xuICAgIGtleTogXCJjYW5IYXZlRGV0YWlsc1NpZGViYXJcIixcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2UgY2FuIHJlbmRlciB0aGUgZGV0YWlscyBzaWRlYmFyLlxuICAgICAqIE9ubHkgcmVsaWVzIG9uIHByb3BzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb250ZW50U2lkZWJhclByb3BzfSBwcm9wcyAtIFVzZXIgcGFzc2VkIGluIHByb3BzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB3ZSBzaG91bGQgcmVuZGVyXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkhhdmVEZXRhaWxzU2lkZWJhcihfcmVmKSB7XG4gICAgICB2YXIgX3JlZiRkZXRhaWxzU2lkZWJhclByID0gX3JlZi5kZXRhaWxzU2lkZWJhclByb3BzLFxuICAgICAgICAgIGRldGFpbHNTaWRlYmFyUHJvcHMgPSBfcmVmJGRldGFpbHNTaWRlYmFyUHIgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRkZXRhaWxzU2lkZWJhclByO1xuICAgICAgdmFyIGhhc1Byb3BlcnRpZXMgPSBkZXRhaWxzU2lkZWJhclByb3BzLmhhc1Byb3BlcnRpZXMsXG4gICAgICAgICAgaGFzQWNjZXNzU3RhdHMgPSBkZXRhaWxzU2lkZWJhclByb3BzLmhhc0FjY2Vzc1N0YXRzLFxuICAgICAgICAgIGhhc0NsYXNzaWZpY2F0aW9uID0gZGV0YWlsc1NpZGViYXJQcm9wcy5oYXNDbGFzc2lmaWNhdGlvbixcbiAgICAgICAgICBoYXNWZXJzaW9ucyA9IGRldGFpbHNTaWRlYmFyUHJvcHMuaGFzVmVyc2lvbnMsXG4gICAgICAgICAgaGFzTm90aWNlcyA9IGRldGFpbHNTaWRlYmFyUHJvcHMuaGFzTm90aWNlcztcbiAgICAgIHJldHVybiAhIWhhc1Byb3BlcnRpZXMgfHwgISFoYXNBY2Nlc3NTdGF0cyB8fCAhIWhhc0NsYXNzaWZpY2F0aW9uIHx8ICEhaGFzVmVyc2lvbnMgfHwgISFoYXNOb3RpY2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlIGNhbiByZW5kZXIgdGhlIG1ldGFkYXRhIHNpZGViYXIuXG4gICAgICogT25seSByZWxpZXMgb24gcHJvcHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NvbnRlbnRTaWRlYmFyUHJvcHN9IHByb3BzIC0gVXNlciBwYXNzZWQgaW4gcHJvcHNcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHdlIHNob3VsZCByZW5kZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNhbkhhdmVNZXRhZGF0YVNpZGViYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuSGF2ZU1ldGFkYXRhU2lkZWJhcihwcm9wcykge1xuICAgICAgcmV0dXJuICEhcHJvcHMuaGFzTWV0YWRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2UgY2FuIHJlbmRlciB0aGUgYWN0aXZpdHkgc2lkZWJhci5cbiAgICAgKiBPbmx5IHJlbGllcyBvbiBwcm9wcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29udGVudFNpZGViYXJQcm9wc30gcHJvcHMgLSBVc2VyIHBhc3NlZCBpbiBwcm9wc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgd2Ugc2hvdWxkIHJlbmRlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuSGF2ZUFjdGl2aXR5U2lkZWJhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5IYXZlQWN0aXZpdHlTaWRlYmFyKHByb3BzKSB7XG4gICAgICByZXR1cm4gISFwcm9wcy5oYXNBY3Rpdml0eUZlZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2UgY2FuIHJlbmRlciB0aGUgc2tpbGxzIHNpZGViYXIuXG4gICAgICogT25seSByZWxpZXMgb24gcHJvcHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NvbnRlbnRTaWRlYmFyUHJvcHN9IHByb3BzIC0gVXNlciBwYXNzZWQgaW4gcHJvcHNcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHdlIHNob3VsZCByZW5kZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNhbkhhdmVTa2lsbHNTaWRlYmFyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkhhdmVTa2lsbHNTaWRlYmFyKHByb3BzKSB7XG4gICAgICByZXR1cm4gISFwcm9wcy5oYXNTa2lsbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2UgY2FuIHJlbmRlciB0aGUgc2lkZWJhci5cbiAgICAgKiBPbmx5IHJlbGllcyBvbiBwcm9wcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29udGVudFNpZGViYXJQcm9wc30gcHJvcHMgLSBVc2VyIHBhc3NlZCBpbiBwcm9wc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgd2Ugc2hvdWxkIGhhdmUgYSBzaWRlYmFyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjYW5IYXZlU2lkZWJhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5IYXZlU2lkZWJhcihwcm9wcykge1xuICAgICAgcmV0dXJuIFNpZGViYXJVdGlscy5jYW5IYXZlRGV0YWlsc1NpZGViYXIocHJvcHMpIHx8IFNpZGViYXJVdGlscy5jYW5IYXZlQWN0aXZpdHlTaWRlYmFyKHByb3BzKSB8fCBTaWRlYmFyVXRpbHMuY2FuSGF2ZVNraWxsc1NpZGViYXIocHJvcHMpIHx8IFNpZGViYXJVdGlscy5jYW5IYXZlTWV0YWRhdGFTaWRlYmFyKHByb3BzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZSBzaG91bGQgYm90aGVyIHJlbmRlcmluZyB0aGUgc2tpbGxzIHNpZGViYXIuXG4gICAgICogUmVsaWVzIG9uIHByb3BzIGFuZCBmaWxlIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q29udGVudFNpZGViYXJQcm9wc30gcHJvcHMgLSBVc2VyIHBhc3NlZCBpbiBwcm9wc1xuICAgICAqIEBwYXJhbSB7Qm94SXRlbX0gZmlsZSAtIGJveCBmaWxlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB3ZSBzaG91bGQgcmVuZGVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzaG91bGRSZW5kZXJTa2lsbHNTaWRlYmFyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZFJlbmRlclNraWxsc1NpZGViYXIocHJvcHMsIGZpbGUpIHtcbiAgICAgIHJldHVybiAhIWZpbGUgJiYgU2lkZWJhclV0aWxzLmNhbkhhdmVTa2lsbHNTaWRlYmFyKHByb3BzKSAmJiBoYXNTa2lsbHNEYXRhKGZpbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlIHNob3VsZCBib3RoZXIgcmVuZGVyaW5nIHRoZSBtZXRhZGF0YSBzaWRlYmFyLlxuICAgICAqIFJlbGllcyBvbiBwcm9wcyBhbmQgbWV0YWRhdGEgZGF0YSBhbmQgZmVhdHVyZSBlbmFibGVkIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDb250ZW50U2lkZWJhclByb3BzfSBwcm9wcyAtIFVzZXIgcGFzc2VkIGluIHByb3BzXG4gICAgICogQHBhcmFtIHtBcnJheTxNZXRhZGF0YUVkaXRvcj59IGVkaXRvcnMgLSBtZXRhZGF0YSBlZGl0b3JzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB3ZSBzaG91bGQgcmVuZGVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzaG91bGRSZW5kZXJNZXRhZGF0YVNpZGViYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkUmVuZGVyTWV0YWRhdGFTaWRlYmFyKHByb3BzLCBlZGl0b3JzKSB7XG4gICAgICB2YXIgX3Byb3BzJG1ldGFkYXRhU2lkZWJhID0gcHJvcHMubWV0YWRhdGFTaWRlYmFyUHJvcHMsXG4gICAgICAgICAgbWV0YWRhdGFTaWRlYmFyUHJvcHMgPSBfcHJvcHMkbWV0YWRhdGFTaWRlYmEgPT09IHZvaWQgMCA/IHt9IDogX3Byb3BzJG1ldGFkYXRhU2lkZWJhO1xuICAgICAgdmFyIF9tZXRhZGF0YVNpZGViYXJQcm9wcyA9IG1ldGFkYXRhU2lkZWJhclByb3BzLmlzRmVhdHVyZUVuYWJsZWQsXG4gICAgICAgICAgaXNGZWF0dXJlRW5hYmxlZCA9IF9tZXRhZGF0YVNpZGViYXJQcm9wcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9tZXRhZGF0YVNpZGViYXJQcm9wcztcbiAgICAgIHJldHVybiBTaWRlYmFyVXRpbHMuY2FuSGF2ZU1ldGFkYXRhU2lkZWJhcihwcm9wcykgJiYgKGlzRmVhdHVyZUVuYWJsZWQgfHwgQXJyYXkuaXNBcnJheShlZGl0b3JzKSAmJiBlZGl0b3JzLmxlbmd0aCA+IDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlIHNob3VsZCBib3RoZXIgcmVuZGVyaW5nIHRoZSBzaWRlYmFyLlxuICAgICAqIFJlbGllcyBvbiBwcm9wcyBhbmQgZmlsZSBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb250ZW50U2lkZWJhclByb3BzfSBwcm9wcyAtIFVzZXIgcGFzc2VkIGluIHByb3BzXG4gICAgICogQHBhcmFtIHtCb3hJdGVtfSBmaWxlIC0gYm94IGZpbGVcbiAgICAgKiBAcGFyYW0ge0FycmF5PE1ldGFkYXRhRWRpdG9yPn0gZWRpdG9ycyAtIG1ldGFkYXRhIGVkaXRvcnNcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHdlIHNob3VsZCBmZXRjaCBvciByZW5kZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNob3VsZFJlbmRlclNpZGViYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkUmVuZGVyU2lkZWJhcihwcm9wcywgZmlsZSwgZWRpdG9ycykge1xuICAgICAgcmV0dXJuICEhZmlsZSAmJiAoU2lkZWJhclV0aWxzLmNhbkhhdmVEZXRhaWxzU2lkZWJhcihwcm9wcykgfHwgU2lkZWJhclV0aWxzLnNob3VsZFJlbmRlclNraWxsc1NpZGViYXIocHJvcHMsIGZpbGUpIHx8IFNpZGViYXJVdGlscy5jYW5IYXZlQWN0aXZpdHlTaWRlYmFyKHByb3BzKSB8fCBTaWRlYmFyVXRpbHMuc2hvdWxkUmVuZGVyTWV0YWRhdGFTaWRlYmFyKHByb3BzLCBlZGl0b3JzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpdGxlIGZvciBhIGdpdmVuIHNpZGViYXIgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZpZXcgLSB0aGUgdmlldyBuYW1lXG4gICAgICogQHJldHVybiB7UmVhY3QuTm9kZX0gLSB0aGUgbm9kZSB0byByZW5kZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFRpdGxlRm9yVmlld1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaXRsZUZvclZpZXcodmlldykge1xuICAgICAgc3dpdGNoICh2aWV3KSB7XG4gICAgICAgIGNhc2UgU0lERUJBUl9WSUVXX1NLSUxMUzpcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5zaWRlYmFyU2tpbGxzVGl0bGUpO1xuXG4gICAgICAgIGNhc2UgU0lERUJBUl9WSUVXX0RFVEFJTFM6XG4gICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuc2lkZWJhckRldGFpbHNUaXRsZSk7XG5cbiAgICAgICAgY2FzZSBTSURFQkFSX1ZJRVdfTUVUQURBVEE6XG4gICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuc2lkZWJhck1ldGFkYXRhVGl0bGUpO1xuXG4gICAgICAgIGNhc2UgU0lERUJBUl9WSUVXX0FDVElWSVRZOlxuICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnNpZGViYXJBY3Rpdml0eVRpdGxlKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXJrcyBhbmQgZ2V0cyB0aGUgbG9hZGVyIGZvciBhIGdpdmVuIHNpZGViYXIgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZpZXcgLSB0aGUgdmlldyBuYW1lXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1hcmtOYW1lIC0gIHRoZSBuYW1lIHRvIGJlIHVzZWQgYnkgcGVyZm9ybWFuY2UubWFya1xuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSAtIGEgZnVuY3Rpb24gd2hpY2ggd2lsbCByZXNvbHZlIHRoZSBtb2R1bGUgdG8gbG9hZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TG9hZGVyRm9yVmlld1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2FkZXJGb3JWaWV3KHZpZXcsIG1hcmtOYW1lKSB7XG4gICAgICBtYXJrKG1hcmtOYW1lKTtcbiAgICAgIHZhciBpbXBvcnRGbjtcblxuICAgICAgc3dpdGNoICh2aWV3KSB7XG4gICAgICAgIGNhc2UgU0lERUJBUl9WSUVXX1NLSUxMUzpcbiAgICAgICAgICBpbXBvcnRGbiA9IGltcG9ydChcbiAgICAgICAgICAvKiB3ZWJwYWNrTW9kZTogXCJsYXp5XCIsIHdlYnBhY2tDaHVua05hbWU6IFwic2tpbGxzLXNpZGViYXJcIiAqL1xuICAgICAgICAgICcuL1NraWxsc1NpZGViYXInKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFNJREVCQVJfVklFV19ERVRBSUxTOlxuICAgICAgICAgIGltcG9ydEZuID0gaW1wb3J0KFxuICAgICAgICAgIC8qIHdlYnBhY2tNb2RlOiBcImxhenlcIiwgd2VicGFja0NodW5rTmFtZTogXCJkZXRhaWxzLXNpZGViYXJcIiAqL1xuICAgICAgICAgICcuL0RldGFpbHNTaWRlYmFyJyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBTSURFQkFSX1ZJRVdfTUVUQURBVEE6XG4gICAgICAgICAgaW1wb3J0Rm4gPSBpbXBvcnQoXG4gICAgICAgICAgLyogd2VicGFja01vZGU6IFwibGF6eVwiLCB3ZWJwYWNrQ2h1bmtOYW1lOiBcIm1ldGFkYXRhLXNpZGViYXJcIiAqL1xuICAgICAgICAgICcuL01ldGFkYXRhU2lkZWJhcicpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgU0lERUJBUl9WSUVXX0FDVElWSVRZOlxuICAgICAgICAgIGltcG9ydEZuID0gaW1wb3J0KFxuICAgICAgICAgIC8qIHdlYnBhY2tNb2RlOiBcImxhenlcIiwgd2VicGFja0NodW5rTmFtZTogXCJhY3Rpdml0eS1zaWRlYmFyXCIgKi9cbiAgICAgICAgICAnLi9BY3Rpdml0eVNpZGViYXInKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFNJREVCQVJfVklFV19WRVJTSU9OUzpcbiAgICAgICAgICBpbXBvcnRGbiA9IGltcG9ydChcbiAgICAgICAgICAvKiB3ZWJwYWNrTW9kZTogXCJsYXp5XCIsIHdlYnBhY2tDaHVua05hbWU6IFwidmVyc2lvbnMtc2lkZWJhclwiICovXG4gICAgICAgICAgJy4vdmVyc2lvbnMnKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbXBvcnRGbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY29tcG9uZW50IHdoaWNoIGFzeW5jIGxvYWRzIGEgZ2l2ZW4gc2lkZWJhciB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmlldyAtIHRoZSB2aWV3IG5hbWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWFya05hbWUgLSAgdGhlIG5hbWUgdG8gYmUgdXNlZCBieSBwZXJmb3JtYW5jZS5tYXJrXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gYWRkaXRpb25hbCBwcm9wc1xuICAgICAqIEByZXR1cm4ge1JlYWN0Lk5vZGV9IC0gdGhlIG5vZGUgdG8gcmVuZGVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRBc3luY1NpZGViYXJDb250ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFzeW5jU2lkZWJhckNvbnRlbnQodmlldywgbWFya05hbWUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICByZXR1cm4gQXN5bmNMb2FkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBlcnJvckNvbXBvbmVudDogU2lkZWJhckxvYWRpbmdFcnJvcixcbiAgICAgICAgZmFsbGJhY2s6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhckxvYWRpbmcsIHtcbiAgICAgICAgICB0aXRsZTogdGhpcy5nZXRUaXRsZUZvclZpZXcodmlldylcbiAgICAgICAgfSksXG4gICAgICAgIGxvYWRlcjogZnVuY3Rpb24gbG9hZGVyKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRMb2FkZXJGb3JWaWV3KHZpZXcsIG1hcmtOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSwgcHJvcHMpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2lkZWJhclV0aWxzO1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBTaWRlYmFyVXRpbHM7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIFByZXZpZXcgc2lkZWJhciBjb250ZW50IGNvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgJy4vU2lkZWJhckNvbnRlbnQuc2Nzcyc7XG5cbnZhciBTaWRlYmFyQ29udGVudCA9IGZ1bmN0aW9uIFNpZGViYXJDb250ZW50KF9yZWYpIHtcbiAgdmFyIGFjdGlvbnMgPSBfcmVmLmFjdGlvbnMsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiYWN0aW9uc1wiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwidGl0bGVcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ2Jjcy1jb250ZW50JywgY2xhc3NOYW1lKVxuICB9LCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy1jb250ZW50LWhlYWRlclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy10aXRsZVwiXG4gIH0sIHRpdGxlKSwgYWN0aW9ucyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiY3Mtc2Nyb2xsLWNvbnRlbnQtd3JhcHBlclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiY3Mtc2Nyb2xsLWNvbnRlbnRcIlxuICB9LCBjaGlsZHJlbikpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpZGViYXJDb250ZW50OyIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwiLyoqXG4gKiBcbiAqIEBmaWxlIFNraWxscyB1dGlsc1xuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0IGdldFByb3AgZnJvbSAnbG9kYXNoL2dldCc7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBpdHMgYSB2YWxpZCBza2lsbHMgY2FyZC5cbiAqXG4gKiBAcGFyYW0ge1NraWxsQ2FyZH0gY2FyZCAtIGJveCBza2lsbCBjYXJkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBpdHMgdmFsaWQgc2tpbGxzIGNhcmRcbiAqL1xuXG52YXIgaXNWYWxpZFNraWxsc0NhcmQgPSBmdW5jdGlvbiBpc1ZhbGlkU2tpbGxzQ2FyZChmaWxlLCBjYXJkKSB7XG4gIHZhciBmaWxlVmVyc2lvbiA9IGdldFByb3AoZmlsZSwgJ2ZpbGVfdmVyc2lvbi5pZCcpO1xuICB2YXIgc2tpbGxDYXJkRmlsZVZlcnNpb24gPSBjYXJkLmZpbGVfdmVyc2lvbiA/IGNhcmQuZmlsZV92ZXJzaW9uLmlkIDogZmlsZVZlcnNpb247XG4gIHJldHVybiBmaWxlVmVyc2lvbiA9PT0gc2tpbGxDYXJkRmlsZVZlcnNpb24gJiYgKCEhY2FyZC5zdGF0dXMgfHwgQXJyYXkuaXNBcnJheShjYXJkLmVudHJpZXMpKTtcbn07XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgdmFsaWQgc2tpbGxzIHRvIHNob3cuXG4gKlxuICogQHBhcmFtIHtCb3hJdGVtfSBmaWxlIC0gYm94IGZpbGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIHRoZXJlIGFyZSB2YWxpZCBza2lsbHMgdG8gc2hvd1xuICovXG5cblxudmFyIGhhc1NraWxscyA9IGZ1bmN0aW9uIGhhc1NraWxscyhmaWxlKSB7XG4gIHZhciBjYXJkcyA9IGdldFByb3AoZmlsZSwgJ21ldGFkYXRhLmdsb2JhbC5ib3hTa2lsbHNDYXJkcy5jYXJkcycsIFtdKTtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoY2FyZHMpICYmIGNhcmRzLmxlbmd0aCA+IDAgJiYgY2FyZHMuc29tZShmdW5jdGlvbiAoY2FyZCkge1xuICAgIHJldHVybiBpc1ZhbGlkU2tpbGxzQ2FyZChmaWxlLCBjYXJkKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBoYXNTa2lsbHMsIGlzVmFsaWRTa2lsbHNDYXJkIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIEJhY2sgQnV0dG9uIGNvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgeyBSb3V0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IEljb25OYXZpZ2F0ZUxlZnQgZnJvbSAnLi4vLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uTmF2aWdhdGVMZWZ0JztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9tZXNzYWdlcyc7XG5pbXBvcnQgUGxhaW5CdXR0b24gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9wbGFpbi1idXR0b24nO1xuaW1wb3J0ICcuL0JhY2tCdXR0b24uc2Nzcyc7XG5cbnZhciBCYWNrQnV0dG9uID0gZnVuY3Rpb24gQmFja0J1dHRvbihfcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIHRvID0gX3JlZi50byxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiY2xhc3NOYW1lXCIsIFwidG9cIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCBudWxsLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgaGlzdG9yeSA9IF9yZWYyLmhpc3Rvcnk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhaW5CdXR0b24sIF9leHRlbmRzKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcygnYmRsLUJhY2tCdXR0b24nLCBjbGFzc05hbWUpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIHRvID8gaGlzdG9yeS5wdXNoKHRvKSA6IGhpc3RvcnkuZ29CYWNrKCk7XG4gICAgICB9LFxuICAgICAgdHlwZTogXCJidXR0b25cIlxuICAgIH0sIHJlc3QpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25OYXZpZ2F0ZUxlZnQsIHtcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICB3aWR0aDogMjRcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImFjY2Vzc2liaWxpdHktaGlkZGVuXCJcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmJhY2spKSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQmFja0J1dHRvbjsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vKipcbiAqIFxuICogQGZpbGUgTmF2IEJ1dHRvbiBjb21wb25lbnQgaW50ZW5kZWQgdG8gbWltaWMgUmVhY3QgUm91dGVyJ3MgTmF2TGluayBjb21wb25lbnQgZm9yIG5vbi1hbmNob3IgZWxlbWVudHNcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgUm91dGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBQbGFpbkJ1dHRvbiBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL3BsYWluLWJ1dHRvbic7XG5pbXBvcnQgeyBpc0xlZnRDbGljayB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RvbSc7XG52YXIgTmF2QnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJGFjdGl2ZUNsYXNzTmFtID0gcHJvcHMuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3Byb3BzJGFjdGl2ZUNsYXNzTmFtID09PSB2b2lkIDAgPyAnYmRsLWlzLWFjdGl2ZScgOiBfcHJvcHMkYWN0aXZlQ2xhc3NOYW0sXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcyRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICdiZGwtTmF2QnV0dG9uJyA6IF9wcm9wcyRjbGFzc05hbWUsXG4gICAgICBfcHJvcHMkY29tcG9uZW50ID0gcHJvcHMuY29tcG9uZW50LFxuICAgICAgQ29tcG9uZW50ID0gX3Byb3BzJGNvbXBvbmVudCA9PT0gdm9pZCAwID8gUGxhaW5CdXR0b24gOiBfcHJvcHMkY29tcG9uZW50LFxuICAgICAgZXhhY3QgPSBwcm9wcy5leGFjdCxcbiAgICAgIGlzQWN0aXZlID0gcHJvcHMuaXNBY3RpdmUsXG4gICAgICBfb25DbGljayA9IHByb3BzLm9uQ2xpY2ssXG4gICAgICByZXBsYWNlID0gcHJvcHMucmVwbGFjZSxcbiAgICAgIHN0cmljdCA9IHByb3BzLnN0cmljdCxcbiAgICAgIHRvID0gcHJvcHMudG8sXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJhY3RpdmVDbGFzc05hbWVcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImNvbXBvbmVudFwiLCBcImV4YWN0XCIsIFwiaXNBY3RpdmVcIiwgXCJvbkNsaWNrXCIsIFwicmVwbGFjZVwiLCBcInN0cmljdFwiLCBcInRvXCJdKTtcblxuICB2YXIgcGF0aCA9IF90eXBlb2YodG8pID09PSAnb2JqZWN0JyA/IHRvLnBhdGhuYW1lIDogdG87XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgZXhhY3Q6IGV4YWN0LFxuICAgIHBhdGg6IHBhdGgsXG4gICAgc3RyaWN0OiBzdHJpY3RcbiAgfSwgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgaGlzdG9yeSA9IF9yZWYuaGlzdG9yeSxcbiAgICAgICAgbG9jYXRpb24gPSBfcmVmLmxvY2F0aW9uLFxuICAgICAgICBtYXRjaCA9IF9yZWYubWF0Y2g7XG4gICAgdmFyIGlzQWN0aXZlVmFsdWUgPSAhIShpc0FjdGl2ZSA/IGlzQWN0aXZlKG1hdGNoLCBsb2NhdGlvbikgOiBtYXRjaCk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NOYW1lLCBfZGVmaW5lUHJvcGVydHkoe30sIGFjdGl2ZUNsYXNzTmFtZSwgaXNBY3RpdmVWYWx1ZSkpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgICBpZiAoX29uQ2xpY2spIHtcbiAgICAgICAgICBfb25DbGljayhldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiYgaXNMZWZ0Q2xpY2soZXZlbnQpKSB7XG4gICAgICAgICAgdmFyIG1ldGhvZCA9IHJlcGxhY2UgPyBoaXN0b3J5LnJlcGxhY2UgOiBoaXN0b3J5LnB1c2g7XG4gICAgICAgICAgbWV0aG9kKHRvKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlZjogcmVmXG4gICAgfSwgcmVzdCksIGNoaWxkcmVuKTtcbiAgfSk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IE5hdkJ1dHRvbjsiLCJleHBvcnQgeyBkZWZhdWx0IGFzIEJhY2tCdXR0b24gfSBmcm9tICcuL0JhY2tCdXR0b24nO1xuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vTmF2QnV0dG9uJzsiLCJmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzTG9vc2U7IiwiLy8gQGZsb3dcbid1c2Ugc3RyaWN0JztcblxudmFyIGtleSA9ICdfX2dsb2JhbF91bmlxdWVfaWRfXyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnbG9iYWxba2V5XSA9IChnbG9iYWxba2V5XSB8fCAwKSArIDE7XG59O1xuIiwidmFyIGlzYXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuLyoqXG4gKiBFeHBvc2UgYHBhdGhUb1JlZ2V4cGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gcGF0aFRvUmVnZXhwXG5tb2R1bGUuZXhwb3J0cy5wYXJzZSA9IHBhcnNlXG5tb2R1bGUuZXhwb3J0cy5jb21waWxlID0gY29tcGlsZVxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9GdW5jdGlvbiA9IHRva2Vuc1RvRnVuY3Rpb25cbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvUmVnRXhwID0gdG9rZW5zVG9SZWdFeHBcblxuLyoqXG4gKiBUaGUgbWFpbiBwYXRoIG1hdGNoaW5nIHJlZ2V4cCB1dGlsaXR5LlxuICpcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbnZhciBQQVRIX1JFR0VYUCA9IG5ldyBSZWdFeHAoW1xuICAvLyBNYXRjaCBlc2NhcGVkIGNoYXJhY3RlcnMgdGhhdCB3b3VsZCBvdGhlcndpc2UgYXBwZWFyIGluIGZ1dHVyZSBtYXRjaGVzLlxuICAvLyBUaGlzIGFsbG93cyB0aGUgdXNlciB0byBlc2NhcGUgc3BlY2lhbCBjaGFyYWN0ZXJzIHRoYXQgd29uJ3QgdHJhbnNmb3JtLlxuICAnKFxcXFxcXFxcLiknLFxuICAvLyBNYXRjaCBFeHByZXNzLXN0eWxlIHBhcmFtZXRlcnMgYW5kIHVuLW5hbWVkIHBhcmFtZXRlcnMgd2l0aCBhIHByZWZpeFxuICAvLyBhbmQgb3B0aW9uYWwgc3VmZml4ZXMuIE1hdGNoZXMgYXBwZWFyIGFzOlxuICAvL1xuICAvLyBcIi86dGVzdChcXFxcZCspP1wiID0+IFtcIi9cIiwgXCJ0ZXN0XCIsIFwiXFxkK1wiLCB1bmRlZmluZWQsIFwiP1wiLCB1bmRlZmluZWRdXG4gIC8vIFwiL3JvdXRlKFxcXFxkKylcIiAgPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFwiXFxkK1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgLy8gXCIvKlwiICAgICAgICAgICAgPT4gW1wiL1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFwiKlwiXVxuICAnKFtcXFxcLy5dKT8oPzooPzpcXFxcOihcXFxcdyspKD86XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSk/fFxcXFwoKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKCldKSspXFxcXCkpKFsrKj9dKT98KFxcXFwqKSknXG5dLmpvaW4oJ3wnKSwgJ2cnKVxuXG4vKipcbiAqIFBhcnNlIGEgc3RyaW5nIGZvciB0aGUgcmF3IHRva2Vucy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBzdHJcbiAqIEBwYXJhbSAge09iamVjdD19IG9wdGlvbnNcbiAqIEByZXR1cm4geyFBcnJheX1cbiAqL1xuZnVuY3Rpb24gcGFyc2UgKHN0ciwgb3B0aW9ucykge1xuICB2YXIgdG9rZW5zID0gW11cbiAgdmFyIGtleSA9IDBcbiAgdmFyIGluZGV4ID0gMFxuICB2YXIgcGF0aCA9ICcnXG4gIHZhciBkZWZhdWx0RGVsaW1pdGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLmRlbGltaXRlciB8fCAnLydcbiAgdmFyIHJlc1xuXG4gIHdoaWxlICgocmVzID0gUEFUSF9SRUdFWFAuZXhlYyhzdHIpKSAhPSBudWxsKSB7XG4gICAgdmFyIG0gPSByZXNbMF1cbiAgICB2YXIgZXNjYXBlZCA9IHJlc1sxXVxuICAgIHZhciBvZmZzZXQgPSByZXMuaW5kZXhcbiAgICBwYXRoICs9IHN0ci5zbGljZShpbmRleCwgb2Zmc2V0KVxuICAgIGluZGV4ID0gb2Zmc2V0ICsgbS5sZW5ndGhcblxuICAgIC8vIElnbm9yZSBhbHJlYWR5IGVzY2FwZWQgc2VxdWVuY2VzLlxuICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICBwYXRoICs9IGVzY2FwZWRbMV1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgdmFyIG5leHQgPSBzdHJbaW5kZXhdXG4gICAgdmFyIHByZWZpeCA9IHJlc1syXVxuICAgIHZhciBuYW1lID0gcmVzWzNdXG4gICAgdmFyIGNhcHR1cmUgPSByZXNbNF1cbiAgICB2YXIgZ3JvdXAgPSByZXNbNV1cbiAgICB2YXIgbW9kaWZpZXIgPSByZXNbNl1cbiAgICB2YXIgYXN0ZXJpc2sgPSByZXNbN11cblxuICAgIC8vIFB1c2ggdGhlIGN1cnJlbnQgcGF0aCBvbnRvIHRoZSB0b2tlbnMuXG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIHRva2Vucy5wdXNoKHBhdGgpXG4gICAgICBwYXRoID0gJydcbiAgICB9XG5cbiAgICB2YXIgcGFydGlhbCA9IHByZWZpeCAhPSBudWxsICYmIG5leHQgIT0gbnVsbCAmJiBuZXh0ICE9PSBwcmVmaXhcbiAgICB2YXIgcmVwZWF0ID0gbW9kaWZpZXIgPT09ICcrJyB8fCBtb2RpZmllciA9PT0gJyonXG4gICAgdmFyIG9wdGlvbmFsID0gbW9kaWZpZXIgPT09ICc/JyB8fCBtb2RpZmllciA9PT0gJyonXG4gICAgdmFyIGRlbGltaXRlciA9IHJlc1syXSB8fCBkZWZhdWx0RGVsaW1pdGVyXG4gICAgdmFyIHBhdHRlcm4gPSBjYXB0dXJlIHx8IGdyb3VwXG5cbiAgICB0b2tlbnMucHVzaCh7XG4gICAgICBuYW1lOiBuYW1lIHx8IGtleSsrLFxuICAgICAgcHJlZml4OiBwcmVmaXggfHwgJycsXG4gICAgICBkZWxpbWl0ZXI6IGRlbGltaXRlcixcbiAgICAgIG9wdGlvbmFsOiBvcHRpb25hbCxcbiAgICAgIHJlcGVhdDogcmVwZWF0LFxuICAgICAgcGFydGlhbDogcGFydGlhbCxcbiAgICAgIGFzdGVyaXNrOiAhIWFzdGVyaXNrLFxuICAgICAgcGF0dGVybjogcGF0dGVybiA/IGVzY2FwZUdyb3VwKHBhdHRlcm4pIDogKGFzdGVyaXNrID8gJy4qJyA6ICdbXicgKyBlc2NhcGVTdHJpbmcoZGVsaW1pdGVyKSArICddKz8nKVxuICAgIH0pXG4gIH1cblxuICAvLyBNYXRjaCBhbnkgY2hhcmFjdGVycyBzdGlsbCByZW1haW5pbmcuXG4gIGlmIChpbmRleCA8IHN0ci5sZW5ndGgpIHtcbiAgICBwYXRoICs9IHN0ci5zdWJzdHIoaW5kZXgpXG4gIH1cblxuICAvLyBJZiB0aGUgcGF0aCBleGlzdHMsIHB1c2ggaXQgb250byB0aGUgZW5kLlxuICBpZiAocGF0aCkge1xuICAgIHRva2Vucy5wdXNoKHBhdGgpXG4gIH1cblxuICByZXR1cm4gdG9rZW5zXG59XG5cbi8qKlxuICogQ29tcGlsZSBhIHN0cmluZyB0byBhIHRlbXBsYXRlIGZ1bmN0aW9uIGZvciB0aGUgcGF0aC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshZnVuY3Rpb24oT2JqZWN0PSwgT2JqZWN0PSl9XG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGUgKHN0ciwgb3B0aW9ucykge1xuICByZXR1cm4gdG9rZW5zVG9GdW5jdGlvbihwYXJzZShzdHIsIG9wdGlvbnMpKVxufVxuXG4vKipcbiAqIFByZXR0aWVyIGVuY29kaW5nIG9mIFVSSSBwYXRoIHNlZ21lbnRzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IChzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVVSSShzdHIpLnJlcGxhY2UoL1tcXC8/I10vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gIH0pXG59XG5cbi8qKlxuICogRW5jb2RlIHRoZSBhc3RlcmlzayBwYXJhbWV0ZXIuIFNpbWlsYXIgdG8gYHByZXR0eWAsIGJ1dCBhbGxvd3Mgc2xhc2hlcy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZUFzdGVyaXNrIChzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVVSSShzdHIpLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gIH0pXG59XG5cbi8qKlxuICogRXhwb3NlIGEgbWV0aG9kIGZvciB0cmFuc2Zvcm1pbmcgdG9rZW5zIGludG8gdGhlIHBhdGggZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRva2Vuc1RvRnVuY3Rpb24gKHRva2Vucykge1xuICAvLyBDb21waWxlIGFsbCB0aGUgdG9rZW5zIGludG8gcmVnZXhwcy5cbiAgdmFyIG1hdGNoZXMgPSBuZXcgQXJyYXkodG9rZW5zLmxlbmd0aClcblxuICAvLyBDb21waWxlIGFsbCB0aGUgcGF0dGVybnMgYmVmb3JlIGNvbXBpbGF0aW9uLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0eXBlb2YgdG9rZW5zW2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgbWF0Y2hlc1tpXSA9IG5ldyBSZWdFeHAoJ14oPzonICsgdG9rZW5zW2ldLnBhdHRlcm4gKyAnKSQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAob2JqLCBvcHRzKSB7XG4gICAgdmFyIHBhdGggPSAnJ1xuICAgIHZhciBkYXRhID0gb2JqIHx8IHt9XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRzIHx8IHt9XG4gICAgdmFyIGVuY29kZSA9IG9wdGlvbnMucHJldHR5ID8gZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IDogZW5jb2RlVVJJQ29tcG9uZW50XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhdGggKz0gdG9rZW5cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWUgPSBkYXRhW3Rva2VuLm5hbWVdXG4gICAgICB2YXIgc2VnbWVudFxuXG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAvLyBQcmVwZW5kIHBhcnRpYWwgc2VnbWVudCBwcmVmaXhlcy5cbiAgICAgICAgICBpZiAodG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgICAgcGF0aCArPSB0b2tlbi5wcmVmaXhcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gYmUgZGVmaW5lZCcpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzYXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICghdG9rZW4ucmVwZWF0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBub3QgcmVwZWF0LCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnYCcpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCBiZSBlbXB0eScpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHNlZ21lbnQgPSBlbmNvZGUodmFsdWVbal0pXG5cbiAgICAgICAgICBpZiAoIW1hdGNoZXNbaV0udGVzdChzZWdtZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYWxsIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbWF0Y2ggXCInICsgdG9rZW4ucGF0dGVybiArICdcIiwgYnV0IHJlY2VpdmVkIGAnICsgSlNPTi5zdHJpbmdpZnkoc2VnbWVudCkgKyAnYCcpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcGF0aCArPSAoaiA9PT0gMCA/IHRva2VuLnByZWZpeCA6IHRva2VuLmRlbGltaXRlcikgKyBzZWdtZW50XG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBzZWdtZW50ID0gdG9rZW4uYXN0ZXJpc2sgPyBlbmNvZGVBc3Rlcmlzayh2YWx1ZSkgOiBlbmNvZGUodmFsdWUpXG5cbiAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbWF0Y2ggXCInICsgdG9rZW4ucGF0dGVybiArICdcIiwgYnV0IHJlY2VpdmVkIFwiJyArIHNlZ21lbnQgKyAnXCInKVxuICAgICAgfVxuXG4gICAgICBwYXRoICs9IHRva2VuLnByZWZpeCArIHNlZ21lbnRcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aFxuICB9XG59XG5cbi8qKlxuICogRXNjYXBlIGEgcmVndWxhciBleHByZXNzaW9uIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcgKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLisqPz1eIToke30oKVtcXF18XFwvXFxcXF0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEVzY2FwZSB0aGUgY2FwdHVyaW5nIGdyb3VwIGJ5IGVzY2FwaW5nIHNwZWNpYWwgY2hhcmFjdGVycyBhbmQgbWVhbmluZy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGdyb3VwXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUdyb3VwIChncm91cCkge1xuICByZXR1cm4gZ3JvdXAucmVwbGFjZSgvKFs9ITokXFwvKCldKS9nLCAnXFxcXCQxJylcbn1cblxuLyoqXG4gKiBBdHRhY2ggdGhlIGtleXMgYXMgYSBwcm9wZXJ0eSBvZiB0aGUgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHJlXG4gKiBAcGFyYW0gIHtBcnJheX0gICBrZXlzXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBhdHRhY2hLZXlzIChyZSwga2V5cykge1xuICByZS5rZXlzID0ga2V5c1xuICByZXR1cm4gcmVcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGZsYWdzIGZvciBhIHJlZ2V4cCBmcm9tIHRoZSBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBmbGFncyAob3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucy5zZW5zaXRpdmUgPyAnJyA6ICdpJ1xufVxuXG4vKipcbiAqIFB1bGwgb3V0IGtleXMgZnJvbSBhIHJlZ2V4cC5cbiAqXG4gKiBAcGFyYW0gIHshUmVnRXhwfSBwYXRoXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBrZXlzXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiByZWdleHBUb1JlZ2V4cCAocGF0aCwga2V5cykge1xuICAvLyBVc2UgYSBuZWdhdGl2ZSBsb29rYWhlYWQgdG8gbWF0Y2ggb25seSBjYXB0dXJpbmcgZ3JvdXBzLlxuICB2YXIgZ3JvdXBzID0gcGF0aC5zb3VyY2UubWF0Y2goL1xcKCg/IVxcPykvZylcblxuICBpZiAoZ3JvdXBzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleXMucHVzaCh7XG4gICAgICAgIG5hbWU6IGksXG4gICAgICAgIHByZWZpeDogbnVsbCxcbiAgICAgICAgZGVsaW1pdGVyOiBudWxsLFxuICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgIHJlcGVhdDogZmFsc2UsXG4gICAgICAgIHBhcnRpYWw6IGZhbHNlLFxuICAgICAgICBhc3RlcmlzazogZmFsc2UsXG4gICAgICAgIHBhdHRlcm46IG51bGxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocGF0aCwga2V5cylcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYW4gYXJyYXkgaW50byBhIHJlZ2V4cC5cbiAqXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBwYXRoXG4gKiBAcGFyYW0gIHtBcnJheX0gICBrZXlzXG4gKiBAcGFyYW0gIHshT2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBhcnJheVRvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHZhciBwYXJ0cyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgcGFydHMucHVzaChwYXRoVG9SZWdleHAocGF0aFtpXSwga2V5cywgb3B0aW9ucykuc291cmNlKVxuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoJyg/OicgKyBwYXJ0cy5qb2luKCd8JykgKyAnKScsIGZsYWdzKG9wdGlvbnMpKVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKHJlZ2V4cCwga2V5cylcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBwYXRoIHJlZ2V4cCBmcm9tIHN0cmluZyBpbnB1dC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBwYXRoXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBrZXlzXG4gKiBAcGFyYW0gIHshT2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBzdHJpbmdUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICByZXR1cm4gdG9rZW5zVG9SZWdFeHAocGFyc2UocGF0aCwgb3B0aW9ucyksIGtleXMsIG9wdGlvbnMpXG59XG5cbi8qKlxuICogRXhwb3NlIGEgZnVuY3Rpb24gZm9yIHRha2luZyB0b2tlbnMgYW5kIHJldHVybmluZyBhIFJlZ0V4cC5cbiAqXG4gKiBAcGFyYW0gIHshQXJyYXl9ICAgICAgICAgIHRva2Vuc1xuICogQHBhcmFtICB7KEFycmF5fE9iamVjdCk9fSBrZXlzXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHRva2Vuc1RvUmVnRXhwICh0b2tlbnMsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgdmFyIHN0cmljdCA9IG9wdGlvbnMuc3RyaWN0XG4gIHZhciBlbmQgPSBvcHRpb25zLmVuZCAhPT0gZmFsc2VcbiAgdmFyIHJvdXRlID0gJydcblxuICAvLyBJdGVyYXRlIG92ZXIgdGhlIHRva2VucyBhbmQgY3JlYXRlIG91ciByZWdleHAgc3RyaW5nLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXVxuXG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJvdXRlICs9IGVzY2FwZVN0cmluZyh0b2tlbilcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByZWZpeCA9IGVzY2FwZVN0cmluZyh0b2tlbi5wcmVmaXgpXG4gICAgICB2YXIgY2FwdHVyZSA9ICcoPzonICsgdG9rZW4ucGF0dGVybiArICcpJ1xuXG4gICAgICBrZXlzLnB1c2godG9rZW4pXG5cbiAgICAgIGlmICh0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgY2FwdHVyZSArPSAnKD86JyArIHByZWZpeCArIGNhcHR1cmUgKyAnKSonXG4gICAgICB9XG5cbiAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICBpZiAoIXRva2VuLnBhcnRpYWwpIHtcbiAgICAgICAgICBjYXB0dXJlID0gJyg/OicgKyBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJykpPydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpPydcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FwdHVyZSA9IHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSdcbiAgICAgIH1cblxuICAgICAgcm91dGUgKz0gY2FwdHVyZVxuICAgIH1cbiAgfVxuXG4gIHZhciBkZWxpbWl0ZXIgPSBlc2NhcGVTdHJpbmcob3B0aW9ucy5kZWxpbWl0ZXIgfHwgJy8nKVxuICB2YXIgZW5kc1dpdGhEZWxpbWl0ZXIgPSByb3V0ZS5zbGljZSgtZGVsaW1pdGVyLmxlbmd0aCkgPT09IGRlbGltaXRlclxuXG4gIC8vIEluIG5vbi1zdHJpY3QgbW9kZSB3ZSBhbGxvdyBhIHNsYXNoIGF0IHRoZSBlbmQgb2YgbWF0Y2guIElmIHRoZSBwYXRoIHRvXG4gIC8vIG1hdGNoIGFscmVhZHkgZW5kcyB3aXRoIGEgc2xhc2gsIHdlIHJlbW92ZSBpdCBmb3IgY29uc2lzdGVuY3kuIFRoZSBzbGFzaFxuICAvLyBpcyB2YWxpZCBhdCB0aGUgZW5kIG9mIGEgcGF0aCBtYXRjaCwgbm90IGluIHRoZSBtaWRkbGUuIFRoaXMgaXMgaW1wb3J0YW50XG4gIC8vIGluIG5vbi1lbmRpbmcgbW9kZSwgd2hlcmUgXCIvdGVzdC9cIiBzaG91bGRuJ3QgbWF0Y2ggXCIvdGVzdC8vcm91dGVcIi5cbiAgaWYgKCFzdHJpY3QpIHtcbiAgICByb3V0ZSA9IChlbmRzV2l0aERlbGltaXRlciA/IHJvdXRlLnNsaWNlKDAsIC1kZWxpbWl0ZXIubGVuZ3RoKSA6IHJvdXRlKSArICcoPzonICsgZGVsaW1pdGVyICsgJyg/PSQpKT8nXG4gIH1cblxuICBpZiAoZW5kKSB7XG4gICAgcm91dGUgKz0gJyQnXG4gIH0gZWxzZSB7XG4gICAgLy8gSW4gbm9uLWVuZGluZyBtb2RlLCB3ZSBuZWVkIHRoZSBjYXB0dXJpbmcgZ3JvdXBzIHRvIG1hdGNoIGFzIG11Y2ggYXNcbiAgICAvLyBwb3NzaWJsZSBieSB1c2luZyBhIHBvc2l0aXZlIGxvb2thaGVhZCB0byB0aGUgZW5kIG9yIG5leHQgcGF0aCBzZWdtZW50LlxuICAgIHJvdXRlICs9IHN0cmljdCAmJiBlbmRzV2l0aERlbGltaXRlciA/ICcnIDogJyg/PScgKyBkZWxpbWl0ZXIgKyAnfCQpJ1xuICB9XG5cbiAgcmV0dXJuIGF0dGFjaEtleXMobmV3IFJlZ0V4cCgnXicgKyByb3V0ZSwgZmxhZ3Mob3B0aW9ucykpLCBrZXlzKVxufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSB0aGUgZ2l2ZW4gcGF0aCBzdHJpbmcsIHJldHVybmluZyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqXG4gKiBBbiBlbXB0eSBhcnJheSBjYW4gYmUgcGFzc2VkIGluIGZvciB0aGUga2V5cywgd2hpY2ggd2lsbCBob2xkIHRoZVxuICogcGxhY2Vob2xkZXIga2V5IGRlc2NyaXB0aW9ucy4gRm9yIGV4YW1wbGUsIHVzaW5nIGAvdXNlci86aWRgLCBga2V5c2Agd2lsbFxuICogY29udGFpbiBgW3sgbmFtZTogJ2lkJywgZGVsaW1pdGVyOiAnLycsIG9wdGlvbmFsOiBmYWxzZSwgcmVwZWF0OiBmYWxzZSB9XWAuXG4gKlxuICogQHBhcmFtICB7KHN0cmluZ3xSZWdFeHB8QXJyYXkpfSBwYXRoXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19ICAgICAgIGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gcGF0aFRvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIGlmICghaXNhcnJheShrZXlzKSkge1xuICAgIG9wdGlvbnMgPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChrZXlzIHx8IG9wdGlvbnMpXG4gICAga2V5cyA9IFtdXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIGlmIChwYXRoIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmV0dXJuIHJlZ2V4cFRvUmVnZXhwKHBhdGgsIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cykpXG4gIH1cblxuICBpZiAoaXNhcnJheShwYXRoKSkge1xuICAgIHJldHVybiBhcnJheVRvUmVnZXhwKC8qKiBAdHlwZSB7IUFycmF5fSAqLyAocGF0aCksIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cyksIG9wdGlvbnMpXG4gIH1cblxuICByZXR1cm4gc3RyaW5nVG9SZWdleHAoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuOC42XG4gKiByZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtcbnZhciBiPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3IsYz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLGQ9Yj9TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpOjYwMTA2LGU9Yj9TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIik6NjAxMDcsZj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxnPWI/U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpOjYwMTE0LGg9Yj9TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik6NjAxMDksaz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLGw9Yj9TeW1ib2wuZm9yKFwicmVhY3QuYXN5bmNfbW9kZVwiKTo2MDExMSxtPWI/U3ltYm9sLmZvcihcInJlYWN0LmNvbmN1cnJlbnRfbW9kZVwiKTo2MDExMSxuPWI/U3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpOjYwMTEyLHA9Yj9TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIik6NjAxMTMscT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpOlxuNjAxMTUscj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2O2Z1bmN0aW9uIHQoYSl7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSl7dmFyIHU9YS4kJHR5cGVvZjtzd2l0Y2godSl7Y2FzZSBjOnN3aXRjaChhPWEudHlwZSxhKXtjYXNlIGw6Y2FzZSBtOmNhc2UgZTpjYXNlIGc6Y2FzZSBmOmNhc2UgcDpyZXR1cm4gYTtkZWZhdWx0OnN3aXRjaChhPWEmJmEuJCR0eXBlb2YsYSl7Y2FzZSBrOmNhc2UgbjpjYXNlIGg6cmV0dXJuIGE7ZGVmYXVsdDpyZXR1cm4gdX19Y2FzZSByOmNhc2UgcTpjYXNlIGQ6cmV0dXJuIHV9fX1mdW5jdGlvbiB2KGEpe3JldHVybiB0KGEpPT09bX1leHBvcnRzLnR5cGVPZj10O2V4cG9ydHMuQXN5bmNNb2RlPWw7ZXhwb3J0cy5Db25jdXJyZW50TW9kZT1tO2V4cG9ydHMuQ29udGV4dENvbnN1bWVyPWs7ZXhwb3J0cy5Db250ZXh0UHJvdmlkZXI9aDtleHBvcnRzLkVsZW1lbnQ9YztleHBvcnRzLkZvcndhcmRSZWY9bjtcbmV4cG9ydHMuRnJhZ21lbnQ9ZTtleHBvcnRzLkxhenk9cjtleHBvcnRzLk1lbW89cTtleHBvcnRzLlBvcnRhbD1kO2V4cG9ydHMuUHJvZmlsZXI9ZztleHBvcnRzLlN0cmljdE1vZGU9ZjtleHBvcnRzLlN1c3BlbnNlPXA7ZXhwb3J0cy5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYXx8YT09PWV8fGE9PT1tfHxhPT09Z3x8YT09PWZ8fGE9PT1wfHxcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiYoYS4kJHR5cGVvZj09PXJ8fGEuJCR0eXBlb2Y9PT1xfHxhLiQkdHlwZW9mPT09aHx8YS4kJHR5cGVvZj09PWt8fGEuJCR0eXBlb2Y9PT1uKX07ZXhwb3J0cy5pc0FzeW5jTW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gdihhKXx8dChhKT09PWx9O2V4cG9ydHMuaXNDb25jdXJyZW50TW9kZT12O2V4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1rfTtcbmV4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1ofTtleHBvcnRzLmlzRWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZhLiQkdHlwZW9mPT09Y307ZXhwb3J0cy5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1ufTtleHBvcnRzLmlzRnJhZ21lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1lfTtleHBvcnRzLmlzTGF6eT1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PXJ9O2V4cG9ydHMuaXNNZW1vPWZ1bmN0aW9uKGEpe3JldHVybiB0KGEpPT09cX07ZXhwb3J0cy5pc1BvcnRhbD1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PWR9O2V4cG9ydHMuaXNQcm9maWxlcj1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PWd9O2V4cG9ydHMuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0KGEpPT09Zn07XG5leHBvcnRzLmlzU3VzcGVuc2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1wfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xudmFyIFJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gICAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gICAgY29udGV4dFR5cGU6IHRydWUsXG4gICAgY29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiB0cnVlLFxuICAgIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgICBtaXhpbnM6IHRydWUsXG4gICAgcHJvcFR5cGVzOiB0cnVlLFxuICAgIHR5cGU6IHRydWVcbn07XG5cbnZhciBLTk9XTl9TVEFUSUNTID0ge1xuICAgIG5hbWU6IHRydWUsXG4gICAgbGVuZ3RoOiB0cnVlLFxuICAgIHByb3RvdHlwZTogdHJ1ZSxcbiAgICBjYWxsZXI6IHRydWUsXG4gICAgY2FsbGVlOiB0cnVlLFxuICAgIGFyZ3VtZW50czogdHJ1ZSxcbiAgICBhcml0eTogdHJ1ZVxufTtcblxudmFyIEZPUldBUkRfUkVGX1NUQVRJQ1MgPSB7XG4gICAgJyQkdHlwZW9mJzogdHJ1ZSxcbiAgICByZW5kZXI6IHRydWUsXG4gICAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgIHByb3BUeXBlczogdHJ1ZVxufTtcblxudmFyIE1FTU9fU1RBVElDUyA9IHtcbiAgICAnJCR0eXBlb2YnOiB0cnVlLFxuICAgIGNvbXBhcmU6IHRydWUsXG4gICAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgIHByb3BUeXBlczogdHJ1ZSxcbiAgICB0eXBlOiB0cnVlXG59O1xuXG52YXIgVFlQRV9TVEFUSUNTID0ge307XG5UWVBFX1NUQVRJQ1NbUmVhY3RJcy5Gb3J3YXJkUmVmXSA9IEZPUldBUkRfUkVGX1NUQVRJQ1M7XG5cbmZ1bmN0aW9uIGdldFN0YXRpY3MoY29tcG9uZW50KSB7XG4gICAgaWYgKFJlYWN0SXMuaXNNZW1vKGNvbXBvbmVudCkpIHtcbiAgICAgICAgcmV0dXJuIE1FTU9fU1RBVElDUztcbiAgICB9XG4gICAgcmV0dXJuIFRZUEVfU1RBVElDU1tjb21wb25lbnRbJyQkdHlwZW9mJ11dIHx8IFJFQUNUX1NUQVRJQ1M7XG59XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIG9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG5cbmZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50LCBibGFja2xpc3QpIHtcbiAgICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcblxuICAgICAgICBpZiAob2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgICAgICB2YXIgaW5oZXJpdGVkQ29tcG9uZW50ID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlQ29tcG9uZW50KTtcbiAgICAgICAgICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIGluaGVyaXRlZENvbXBvbmVudCwgYmxhY2tsaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgICAgIGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgICAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGFyZ2V0U3RhdGljcyA9IGdldFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50KTtcbiAgICAgICAgdmFyIHNvdXJjZVN0YXRpY3MgPSBnZXRTdGF0aWNzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghS05PV05fU1RBVElDU1trZXldICYmICEoYmxhY2tsaXN0ICYmIGJsYWNrbGlzdFtrZXldKSAmJiAhKHNvdXJjZVN0YXRpY3MgJiYgc291cmNlU3RhdGljc1trZXldKSAmJiAhKHRhcmdldFN0YXRpY3MgJiYgdGFyZ2V0U3RhdGljc1trZXldKSkge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBmYWlsdXJlcyBmcm9tIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhvaXN0Tm9uUmVhY3RTdGF0aWNzO1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBfaW5oZXJpdHNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBndWQgZnJvbSAnZ3VkJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5cbnZhciBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgPSAxMDczNzQxODIzO1xuXG5mdW5jdGlvbiBvYmplY3RJcyh4LCB5KSB7XG4gIGlmICh4ID09PSB5KSB7XG4gICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRFbWl0dGVyKHZhbHVlKSB7XG4gIHZhciBoYW5kbGVycyA9IFtdO1xuICByZXR1cm4ge1xuICAgIG9uOiBmdW5jdGlvbiBvbihoYW5kbGVyKSB7XG4gICAgICBoYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH0sXG4gICAgb2ZmOiBmdW5jdGlvbiBvZmYoaGFuZGxlcikge1xuICAgICAgaGFuZGxlcnMgPSBoYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgcmV0dXJuIGggIT09IGhhbmRsZXI7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUsIGNoYW5nZWRCaXRzKSB7XG4gICAgICB2YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlcih2YWx1ZSwgY2hhbmdlZEJpdHMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBvbmx5Q2hpbGQoY2hpbGRyZW4pIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW5bMF0gOiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVhY3RDb250ZXh0KGRlZmF1bHRWYWx1ZSwgY2FsY3VsYXRlQ2hhbmdlZEJpdHMpIHtcbiAgdmFyIF9Qcm92aWRlciRjaGlsZENvbnRleCwgX0NvbnN1bWVyJGNvbnRleHRUeXBlO1xuXG4gIHZhciBjb250ZXh0UHJvcCA9ICdfX2NyZWF0ZS1yZWFjdC1jb250ZXh0LScgKyBndWQoKSArICdfXyc7XG5cbiAgdmFyIFByb3ZpZGVyID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFByb3ZpZGVyKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgX3RoaXMuZW1pdHRlciA9IGNyZWF0ZUV2ZW50RW1pdHRlcihfdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFByb3ZpZGVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgICB2YXIgX3JlZjtcblxuICAgICAgcmV0dXJuIF9yZWYgPSB7fSwgX3JlZltjb250ZXh0UHJvcF0gPSB0aGlzLmVtaXR0ZXIsIF9yZWY7XG4gICAgfTtcblxuICAgIF9wcm90by5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlICE9PSBuZXh0UHJvcHMudmFsdWUpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gbmV4dFByb3BzLnZhbHVlO1xuICAgICAgICB2YXIgY2hhbmdlZEJpdHM7XG5cbiAgICAgICAgaWYgKG9iamVjdElzKG9sZFZhbHVlLCBuZXdWYWx1ZSkpIHtcbiAgICAgICAgICBjaGFuZ2VkQml0cyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlZEJpdHMgPSB0eXBlb2YgY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09ICdmdW5jdGlvbicgPyBjYWxjdWxhdGVDaGFuZ2VkQml0cyhvbGRWYWx1ZSwgbmV3VmFsdWUpIDogTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoKGNoYW5nZWRCaXRzICYgTUFYX1NJR05FRF8zMV9CSVRfSU5UKSA9PT0gY2hhbmdlZEJpdHMsICdjYWxjdWxhdGVDaGFuZ2VkQml0czogRXhwZWN0ZWQgdGhlIHJldHVybiB2YWx1ZSB0byBiZSBhICcgKyAnMzEtYml0IGludGVnZXIuIEluc3RlYWQgcmVjZWl2ZWQ6ICcgKyBjaGFuZ2VkQml0cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhbmdlZEJpdHMgfD0gMDtcblxuICAgICAgICAgIGlmIChjaGFuZ2VkQml0cyAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLnNldChuZXh0UHJvcHMudmFsdWUsIGNoYW5nZWRCaXRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH07XG5cbiAgICByZXR1cm4gUHJvdmlkZXI7XG4gIH0oQ29tcG9uZW50KTtcblxuICBQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IChfUHJvdmlkZXIkY2hpbGRDb250ZXggPSB7fSwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4W2NvbnRleHRQcm9wXSA9IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4KTtcblxuICB2YXIgQ29uc3VtZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50Mikge1xuICAgIF9pbmhlcml0c0xvb3NlKENvbnN1bWVyLCBfQ29tcG9uZW50Mik7XG5cbiAgICBmdW5jdGlvbiBDb25zdW1lcigpIHtcbiAgICAgIHZhciBfdGhpczI7XG5cbiAgICAgIF90aGlzMiA9IF9Db21wb25lbnQyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgIF90aGlzMi5zdGF0ZSA9IHtcbiAgICAgICAgdmFsdWU6IF90aGlzMi5nZXRWYWx1ZSgpXG4gICAgICB9O1xuXG4gICAgICBfdGhpczIub25VcGRhdGUgPSBmdW5jdGlvbiAobmV3VmFsdWUsIGNoYW5nZWRCaXRzKSB7XG4gICAgICAgIHZhciBvYnNlcnZlZEJpdHMgPSBfdGhpczIub2JzZXJ2ZWRCaXRzIHwgMDtcblxuICAgICAgICBpZiAoKG9ic2VydmVkQml0cyAmIGNoYW5nZWRCaXRzKSAhPT0gMCkge1xuICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB2YWx1ZTogX3RoaXMyLmdldFZhbHVlKClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIF90aGlzMjtcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvMiA9IENvbnN1bWVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90bzIuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gbmV4dFByb3BzLm9ic2VydmVkQml0cztcbiAgICAgIHRoaXMub2JzZXJ2ZWRCaXRzID0gb2JzZXJ2ZWRCaXRzID09PSB1bmRlZmluZWQgfHwgb2JzZXJ2ZWRCaXRzID09PSBudWxsID8gTUFYX1NJR05FRF8zMV9CSVRfSU5UIDogb2JzZXJ2ZWRCaXRzO1xuICAgIH07XG5cbiAgICBfcHJvdG8yLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXSkge1xuICAgICAgICB0aGlzLmNvbnRleHRbY29udGV4dFByb3BdLm9uKHRoaXMub25VcGRhdGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gdGhpcy5wcm9wcy5vYnNlcnZlZEJpdHM7XG4gICAgICB0aGlzLm9ic2VydmVkQml0cyA9IG9ic2VydmVkQml0cyA9PT0gdW5kZWZpbmVkIHx8IG9ic2VydmVkQml0cyA9PT0gbnVsbCA/IE1BWF9TSUdORURfMzFfQklUX0lOVCA6IG9ic2VydmVkQml0cztcbiAgICB9O1xuXG4gICAgX3Byb3RvMi5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXS5vZmYodGhpcy5vblVwZGF0ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90bzIuZ2V0VmFsdWUgPSBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRleHRbY29udGV4dFByb3BdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHRbY29udGV4dFByb3BdLmdldCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvMi5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gb25seUNoaWxkKHRoaXMucHJvcHMuY2hpbGRyZW4pKHRoaXMuc3RhdGUudmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ29uc3VtZXI7XG4gIH0oQ29tcG9uZW50KTtcblxuICBDb25zdW1lci5jb250ZXh0VHlwZXMgPSAoX0NvbnN1bWVyJGNvbnRleHRUeXBlID0ge30sIF9Db25zdW1lciRjb250ZXh0VHlwZVtjb250ZXh0UHJvcF0gPSBQcm9wVHlwZXMub2JqZWN0LCBfQ29uc3VtZXIkY29udGV4dFR5cGUpO1xuICByZXR1cm4ge1xuICAgIFByb3ZpZGVyOiBQcm92aWRlcixcbiAgICBDb25zdW1lcjogQ29uc3VtZXJcbiAgfTtcbn1cblxudmFyIGluZGV4ID0gUmVhY3QuY3JlYXRlQ29udGV4dCB8fCBjcmVhdGVSZWFjdENvbnRleHQ7XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xuIiwiZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSkge1xuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICB9XG5cbiAgbGlzdC5wb3AoKTtcbn1cblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbmZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bykge1xuICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgdmFyIHRvUGFydHMgPSB0byAmJiB0by5zcGxpdCgnLycpIHx8IFtdO1xuICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IHZvaWQgMDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gIH1pZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7XG5cbiAgdmFyIHJlc3VsdCA9IGZyb21QYXJ0cy5qb2luKCcvJyk7XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgcmVzdWx0LnN1YnN0cigtMSkgIT09ICcvJykgcmVzdWx0ICs9ICcvJztcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCByZXNvbHZlUGF0aG5hbWU7IiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShiKSAmJiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBhVHlwZSA9IHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKTtcbiAgdmFyIGJUeXBlID0gdHlwZW9mIGIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGIpO1xuXG4gIGlmIChhVHlwZSAhPT0gYlR5cGUpIHJldHVybiBmYWxzZTtcblxuICBpZiAoYVR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGFWYWx1ZSA9IGEudmFsdWVPZigpO1xuICAgIHZhciBiVmFsdWUgPSBiLnZhbHVlT2YoKTtcblxuICAgIGlmIChhVmFsdWUgIT09IGEgfHwgYlZhbHVlICE9PSBiKSByZXR1cm4gdmFsdWVFcXVhbChhVmFsdWUsIGJWYWx1ZSk7XG5cbiAgICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcblxuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIGFLZXlzLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGFba2V5XSwgYltrZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsdWVFcXVhbDsiLCJ2YXIgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbnZhciBwcmVmaXggPSAnSW52YXJpYW50IGZhaWxlZCc7XG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmIChjb25kaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCArIFwiOiBcIiArIChtZXNzYWdlIHx8ICcnKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgaW52YXJpYW50O1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHJlc29sdmVQYXRobmFtZSBmcm9tICdyZXNvbHZlLXBhdGhuYW1lJztcbmltcG9ydCB2YWx1ZUVxdWFsIGZyb20gJ3ZhbHVlLWVxdWFsJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ3RpbnktaW52YXJpYW50JztcblxuZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn1cbmZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG59XG5mdW5jdGlvbiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcHJlZml4ICsgJyhcXFxcL3xcXFxcP3wjfCQpJywgJ2knKS50ZXN0KHBhdGgpO1xufVxuZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIGhhc0Jhc2VuYW1lKHBhdGgsIHByZWZpeCkgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59XG5mdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufVxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcbiAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcblxuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuXG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHIoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgdmFyIHBhdGggPSBwYXRobmFtZSB8fCAnLyc7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogXCI/XCIgKyBzZWFyY2g7XG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcbiAgcmV0dXJuIHBhdGg7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXksIGN1cnJlbnRMb2NhdGlvbikge1xuICB2YXIgbG9jYXRpb247XG5cbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIC8vIFR3by1hcmcgZm9ybTogcHVzaChwYXRoLCBzdGF0ZSlcbiAgICBsb2NhdGlvbiA9IHBhcnNlUGF0aChwYXRoKTtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIE9uZS1hcmcgZm9ybTogcHVzaChsb2NhdGlvbilcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24ucGF0aG5hbWUgPSAnJztcblxuICAgIGlmIChsb2NhdGlvbi5zZWFyY2gpIHtcbiAgICAgIGlmIChsb2NhdGlvbi5zZWFyY2guY2hhckF0KDApICE9PSAnPycpIGxvY2F0aW9uLnNlYXJjaCA9ICc/JyArIGxvY2F0aW9uLnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24uc2VhcmNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgIGlmIChsb2NhdGlvbi5oYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBsb2NhdGlvbi5oYXNoID0gJyMnICsgbG9jYXRpb24uaGFzaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24uaGFzaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZSAhPT0gdW5kZWZpbmVkICYmIGxvY2F0aW9uLnN0YXRlID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH1cblxuICB0cnkge1xuICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gZGVjb2RlVVJJKGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgVVJJRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBVUklFcnJvcignUGF0aG5hbWUgXCInICsgbG9jYXRpb24ucGF0aG5hbWUgKyAnXCIgY291bGQgbm90IGJlIGRlY29kZWQuICcgKyAnVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGFuIGludmFsaWQgcGVyY2VudC1lbmNvZGluZy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cblxuICBpZiAoa2V5KSBsb2NhdGlvbi5rZXkgPSBrZXk7XG5cbiAgaWYgKGN1cnJlbnRMb2NhdGlvbikge1xuICAgIC8vIFJlc29sdmUgaW5jb21wbGV0ZS9yZWxhdGl2ZSBwYXRobmFtZSByZWxhdGl2ZSB0byBjdXJyZW50IGxvY2F0aW9uLlxuICAgIGlmICghbG9jYXRpb24ucGF0aG5hbWUpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gY3VycmVudExvY2F0aW9uLnBhdGhuYW1lO1xuICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gcmVzb2x2ZVBhdGhuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBXaGVuIHRoZXJlIGlzIG5vIHByaW9yIGxvY2F0aW9uIGFuZCBwYXRobmFtZSBpcyBlbXB0eSwgc2V0IGl0IHRvIC9cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9ICcvJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbG9jYXRpb247XG59XG5mdW5jdGlvbiBsb2NhdGlvbnNBcmVFcXVhbChhLCBiKSB7XG4gIHJldHVybiBhLnBhdGhuYW1lID09PSBiLnBhdGhuYW1lICYmIGEuc2VhcmNoID09PSBiLnNlYXJjaCAmJiBhLmhhc2ggPT09IGIuaGFzaCAmJiBhLmtleSA9PT0gYi5rZXkgJiYgdmFsdWVFcXVhbChhLnN0YXRlLCBiLnN0YXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKSB7XG4gIHZhciBwcm9tcHQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIHNldFByb21wdChuZXh0UHJvbXB0KSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJykgOiB2b2lkIDA7XG4gICAgcHJvbXB0ID0gbmV4dFByb21wdDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIGFub3RoZXIgdHJhbnNpdGlvbiBzdGFydHMgd2hpbGUgd2UncmUgc3RpbGwgY29uZmlybWluZ1xuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcbiAgICAvLyBiZXN0IHdheSB0byBoYW5kbGUgdGhpcy5cbiAgICBpZiAocHJvbXB0ICE9IG51bGwpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihyZXN1bHQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpIDogdm9pZCAwO1xuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZnJvbSBhIHRyYW5zaXRpb24gaG9vayB0byBjYW5jZWwgdGhlIHRyYW5zaXRpb24uXG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgZnVuY3Rpb24gYXBwZW5kTGlzdGVuZXIoZm4pIHtcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldFByb21wdDogc2V0UHJvbXB0LFxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXG4gICAgYXBwZW5kTGlzdGVuZXI6IGFwcGVuZExpc3RlbmVyLFxuICAgIG5vdGlmeUxpc3RlbmVyczogbm90aWZ5TGlzdGVuZXJzXG4gIH07XG59XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICBpZiAoKHVhLmluZGV4T2YoJ0FuZHJvaWQgMi4nKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignQW5kcm9pZCA0LjAnKSAhPT0gLTEpICYmIHVhLmluZGV4T2YoJ01vYmlsZSBTYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lJykgPT09IC0xICYmIHVhLmluZGV4T2YoJ1dpbmRvd3MgUGhvbmUnKSA9PT0gLTEpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50JykgPT09IC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG5cbmZ1bmN0aW9uIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpIHtcbiAgZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufVxuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG5mdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8IHt9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSUUgMTEgc29tZXRpbWVzIHRocm93cyB3aGVuIGFjY2Vzc2luZyB3aW5kb3cuaGlzdG9yeS5zdGF0ZVxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RUcmFpbmluZy9oaXN0b3J5L3B1bGwvMjg5XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHVzZXMgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGluY2x1ZGluZ1xuICogcHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQuXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICAhY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuVXNlSGlzdG9yeSA9IHN1cHBvcnRzSGlzdG9yeSgpO1xuICB2YXIgbmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIgPSAhc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpO1xuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBfcHJvcHMkZm9yY2VSZWZyZXNoID0gX3Byb3BzLmZvcmNlUmVmcmVzaCxcbiAgICAgIGZvcmNlUmVmcmVzaCA9IF9wcm9wcyRmb3JjZVJlZnJlc2ggPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGZvcmNlUmVmcmVzaCxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IF9wcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdm9pZCAwID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IF9wcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB2b2lkIDAgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyBzdHJpcFRyYWlsaW5nU2xhc2goYWRkTGVhZGluZ1NsYXNoKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcblxuICBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcbiAgICB2YXIgX3JlZiA9IGhpc3RvcnlTdGF0ZSB8fCB7fSxcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTtcblxuICAgIHZhciBfd2luZG93JGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgICBwYXRobmFtZSA9IF93aW5kb3ckbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCA9IF93aW5kb3ckbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNoID0gX3dpbmRvdyRsb2NhdGlvbi5oYXNoO1xuICAgIHZhciBwYXRoID0gcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJykgOiB2b2lkIDA7XG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcFN0YXRlKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cbiAgICBpZiAoaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkpIHJldHVybjtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XG4gIH1cblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247IC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbEtleXMuaW5kZXhPZih0b0xvY2F0aW9uLmtleSk7XG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGZyb21Mb2NhdGlvbi5rZXkpO1xuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKTtcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07IC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2VuYW1lICsgY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoe1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIHZhciBuZXh0S2V5cyA9IGFsbEtleXMuc2xpY2UoMCwgcHJldkluZGV4ID09PSAtMSA/IDAgOiBwcmV2SW5kZXggKyAxKTtcbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgYWxsS2V5cyA9IG5leHRLZXlzO1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcHVzaCBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxLZXlzW3ByZXZJbmRleF0gPSBsb2NhdGlvbi5rZXk7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpIDogdm9pZCAwO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIGdvKC0xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICBnbygxKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSAmJiBkZWx0YSA9PT0gMSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBibG9jayhwcm9tcHQpIHtcbiAgICBpZiAocHJvbXB0ID09PSB2b2lkIDApIHtcbiAgICAgIHByb21wdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxudmFyIEhhc2hDaGFuZ2VFdmVudCQxID0gJ2hhc2hjaGFuZ2UnO1xudmFyIEhhc2hQYXRoQ29kZXJzID0ge1xuICBoYXNoYmFuZzoge1xuICAgIGVuY29kZVBhdGg6IGZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoIDogJyEvJyArIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpO1xuICAgIH0sXG4gICAgZGVjb2RlUGF0aDogZnVuY3Rpb24gZGVjb2RlUGF0aChwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICchJyA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcbiAgICB9XG4gIH0sXG4gIG5vc2xhc2g6IHtcbiAgICBlbmNvZGVQYXRoOiBzdHJpcExlYWRpbmdTbGFzaCxcbiAgICBkZWNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2hcbiAgfSxcbiAgc2xhc2g6IHtcbiAgICBlbmNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldEhhc2hQYXRoKCkge1xuICAvLyBXZSBjYW4ndCB1c2Ugd2luZG93LmxvY2F0aW9uLmhhc2ggaGVyZSBiZWNhdXNlIGl0J3Mgbm90XG4gIC8vIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzIC0gRmlyZWZveCB3aWxsIHByZS1kZWNvZGUgaXQhXG4gIHZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIHZhciBoYXNoSW5kZXggPSBocmVmLmluZGV4T2YoJyMnKTtcbiAgcmV0dXJuIGhhc2hJbmRleCA9PT0gLTEgPyAnJyA6IGhyZWYuc3Vic3RyaW5nKGhhc2hJbmRleCArIDEpO1xufVxuXG5mdW5jdGlvbiBwdXNoSGFzaFBhdGgocGF0aCkge1xuICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHBhdGg7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VIYXNoUGF0aChwYXRoKSB7XG4gIHZhciBoYXNoSW5kZXggPSB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcjJyk7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKDAsIGhhc2hJbmRleCA+PSAwID8gaGFzaEluZGV4IDogMCkgKyAnIycgKyBwYXRoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgIWNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0hhc2ggaGlzdG9yeSBuZWVkcyBhIERPTScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhbkdvV2l0aG91dFJlbG9hZCA9IHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCk7XG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IF9wcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdm9pZCAwID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGhhc2hUeXBlID0gX3Byb3BzLmhhc2hUeXBlLFxuICAgICAgaGFzaFR5cGUgPSBfcHJvcHMkaGFzaFR5cGUgPT09IHZvaWQgMCA/ICdzbGFzaCcgOiBfcHJvcHMkaGFzaFR5cGU7XG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG4gIHZhciBfSGFzaFBhdGhDb2RlcnMkaGFzaFQgPSBIYXNoUGF0aENvZGVyc1toYXNoVHlwZV0sXG4gICAgICBlbmNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmVuY29kZVBhdGgsXG4gICAgICBkZWNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmRlY29kZVBhdGg7XG5cbiAgZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oKSB7XG4gICAgdmFyIHBhdGggPSBkZWNvZGVQYXRoKGdldEhhc2hQYXRoKCkpO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJykgOiB2b2lkIDA7XG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKHBhdGgpO1xuICB9XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICB2YXIgaWdub3JlUGF0aCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICB2YXIgcGF0aCA9IGdldEhhc2hQYXRoKCk7XG4gICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcblxuICAgIGlmIChwYXRoICE9PSBlbmNvZGVkUGF0aCkge1xuICAgICAgLy8gRW5zdXJlIHdlIGFsd2F5cyBoYXZlIGEgcHJvcGVybHktZW5jb2RlZCBoYXNoLlxuICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oKTtcbiAgICAgIHZhciBwcmV2TG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuICAgICAgaWYgKCFmb3JjZU5leHRQb3AgJiYgbG9jYXRpb25zQXJlRXF1YWwocHJldkxvY2F0aW9uLCBsb2NhdGlvbikpIHJldHVybjsgLy8gQSBoYXNoY2hhbmdlIGRvZXNuJ3QgYWx3YXlzID09IGxvY2F0aW9uIGNoYW5nZS5cblxuICAgICAgaWYgKGlnbm9yZVBhdGggPT09IGNyZWF0ZVBhdGgobG9jYXRpb24pKSByZXR1cm47IC8vIElnbm9yZSB0aGlzIGNoYW5nZTsgd2UgYWxyZWFkeSBzZXRTdGF0ZSBpbiBwdXNoL3JlcGxhY2UuXG5cbiAgICAgIGlnbm9yZVBhdGggPSBudWxsO1xuICAgICAgaGFuZGxlUG9wKGxvY2F0aW9uKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjsgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBwYXRocyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBwYXRocyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKHRvTG9jYXRpb24pKTtcbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuICAgIHZhciBmcm9tSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKGZyb21Mb2NhdGlvbikpO1xuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9IC8vIEVuc3VyZSB0aGUgaGFzaCBpcyBlbmNvZGVkIHByb3Blcmx5IGJlZm9yZSBkb2luZyBhbnl0aGluZyBlbHNlLlxuXG5cbiAgdmFyIHBhdGggPSBnZXRIYXNoUGF0aCgpO1xuICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKHBhdGgpO1xuICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbigpO1xuICB2YXIgYWxsUGF0aHMgPSBbY3JlYXRlUGF0aChpbml0aWFsTG9jYXRpb24pXTsgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICByZXR1cm4gJyMnICsgZW5jb2RlUGF0aChiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIHBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcbiAgICAgIHZhciBoYXNoQ2hhbmdlZCA9IGdldEhhc2hQYXRoKCkgIT09IGVuY29kZWRQYXRoO1xuXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcbiAgICAgICAgLy8gV2UgY2Fubm90IHRlbGwgaWYgYSBoYXNoY2hhbmdlIHdhcyBjYXVzZWQgYnkgYSBQVVNILCBzbyB3ZSdkXG4gICAgICAgIC8vIHJhdGhlciBzZXRTdGF0ZSBoZXJlIGFuZCBpZ25vcmUgdGhlIGhhc2hjaGFuZ2UuIFRoZSBjYXZlYXQgaGVyZVxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXG4gICAgICAgIGlnbm9yZVBhdGggPSBwYXRoO1xuICAgICAgICBwdXNoSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XG4gICAgICAgIHZhciBuZXh0UGF0aHMgPSBhbGxQYXRocy5zbGljZSgwLCBwcmV2SW5kZXggPT09IC0xID8gMCA6IHByZXZJbmRleCArIDEpO1xuICAgICAgICBuZXh0UGF0aHMucHVzaChwYXRoKTtcbiAgICAgICAgYWxsUGF0aHMgPSBuZXh0UGF0aHM7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBQVVNIIHRoZSBzYW1lIHBhdGg7IGEgbmV3IGVudHJ5IHdpbGwgbm90IGJlIGFkZGVkIHRvIHRoZSBoaXN0b3J5IHN0YWNrJykgOiB2b2lkIDA7XG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKGJhc2VuYW1lICsgcGF0aCk7XG4gICAgICB2YXIgaGFzaENoYW5nZWQgPSBnZXRIYXNoUGF0aCgpICE9PSBlbmNvZGVkUGF0aDtcblxuICAgICAgaWYgKGhhc2hDaGFuZ2VkKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB0ZWxsIGlmIGEgaGFzaGNoYW5nZSB3YXMgY2F1c2VkIGJ5IGEgUkVQTEFDRSwgc28gd2UnZFxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcbiAgICAgICAgLy8gaXMgdGhhdCBvdGhlciBoYXNoIGhpc3RvcmllcyBpbiB0aGUgcGFnZSB3aWxsIGNvbnNpZGVyIGl0IGEgUE9QLlxuICAgICAgICBpZ25vcmVQYXRoID0gcGF0aDtcbiAgICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XG4gICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsUGF0aHNbcHJldkluZGV4XSA9IHBhdGg7XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ28obikge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoY2FuR29XaXRob3V0UmVsb2FkLCAnSGFzaCBoaXN0b3J5IGdvKG4pIGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQgaW4gdGhpcyBicm93c2VyJykgOiB2b2lkIDA7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEgJiYgZGVsdGEgPT09IDEpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCQxLCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCQxLCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbmZ1bmN0aW9uIGNsYW1wKG4sIGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIGxvd2VyQm91bmQpLCB1cHBlckJvdW5kKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgc3RvcmVzIGxvY2F0aW9ucyBpbiBtZW1vcnkuXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIF9wcm9wcyRpbml0aWFsRW50cmllcyA9IF9wcm9wcy5pbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxFbnRyaWVzID0gX3Byb3BzJGluaXRpYWxFbnRyaWVzID09PSB2b2lkIDAgPyBbJy8nXSA6IF9wcm9wcyRpbml0aWFsRW50cmllcyxcbiAgICAgIF9wcm9wcyRpbml0aWFsSW5kZXggPSBfcHJvcHMuaW5pdGlhbEluZGV4LFxuICAgICAgaW5pdGlhbEluZGV4ID0gX3Byb3BzJGluaXRpYWxJbmRleCA9PT0gdm9pZCAwID8gMCA6IF9wcm9wcyRpbml0aWFsSW5kZXgsXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gX3Byb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHZvaWQgMCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGhpc3RvcnkuZW50cmllcy5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH1cblxuICB2YXIgaW5kZXggPSBjbGFtcChpbml0aWFsSW5kZXgsIDAsIGluaXRpYWxFbnRyaWVzLmxlbmd0aCAtIDEpO1xuICB2YXIgZW50cmllcyA9IGluaXRpYWxFbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJyA/IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGNyZWF0ZUtleSgpKSA6IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGVudHJ5LmtleSB8fCBjcmVhdGVLZXkoKSk7XG4gIH0pOyAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBjcmVhdGVQYXRoO1xuXG4gIGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgcHJldkluZGV4ID0gaGlzdG9yeS5pbmRleDtcbiAgICAgIHZhciBuZXh0SW5kZXggPSBwcmV2SW5kZXggKyAxO1xuICAgICAgdmFyIG5leHRFbnRyaWVzID0gaGlzdG9yeS5lbnRyaWVzLnNsaWNlKDApO1xuXG4gICAgICBpZiAobmV4dEVudHJpZXMubGVuZ3RoID4gbmV4dEluZGV4KSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnNwbGljZShuZXh0SW5kZXgsIG5leHRFbnRyaWVzLmxlbmd0aCAtIG5leHRJbmRleCwgbG9jYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dEVudHJpZXMucHVzaChsb2NhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgaW5kZXg6IG5leHRJbmRleCxcbiAgICAgICAgZW50cmllczogbmV4dEVudHJpZXNcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIGhpc3RvcnkuZW50cmllc1toaXN0b3J5LmluZGV4XSA9IGxvY2F0aW9uO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gY2xhbXAoaGlzdG9yeS5pbmRleCArIG4sIDAsIGhpc3RvcnkuZW50cmllcy5sZW5ndGggLSAxKTtcbiAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgdmFyIGxvY2F0aW9uID0gaGlzdG9yeS5lbnRyaWVzW25leHRJbmRleF07XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmIChvaykge1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNaW1pYyB0aGUgYmVoYXZpb3Igb2YgRE9NIGhpc3RvcmllcyBieVxuICAgICAgICAvLyBjYXVzaW5nIGEgcmVuZGVyIGFmdGVyIGEgY2FuY2VsbGVkIFBPUC5cbiAgICAgICAgc2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5HbyhuKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGhpc3RvcnkuaW5kZXggKyBuO1xuICAgIHJldHVybiBuZXh0SW5kZXggPj0gMCAmJiBuZXh0SW5kZXggPCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBlbnRyaWVzLmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBlbnRyaWVzW2luZGV4XSxcbiAgICBpbmRleDogaW5kZXgsXG4gICAgZW50cmllczogZW50cmllcyxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgY2FuR286IGNhbkdvLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlQnJvd3Nlckhpc3RvcnksIGNyZWF0ZUhhc2hIaXN0b3J5LCBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVMb2NhdGlvbiwgbG9jYXRpb25zQXJlRXF1YWwsIHBhcnNlUGF0aCwgY3JlYXRlUGF0aCB9O1xuIiwiaW1wb3J0IGNyZWF0ZUNvbnRleHQgZnJvbSAnbWluaS1jcmVhdGUtcmVhY3QtY29udGV4dCc7XG5pbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5pbXBvcnQgeyBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVMb2NhdGlvbiwgbG9jYXRpb25zQXJlRXF1YWwsIGNyZWF0ZVBhdGggfSBmcm9tICdoaXN0b3J5JztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAndGlueS1pbnZhcmlhbnQnO1xuaW1wb3J0IHBhdGhUb1JlZ2V4cCBmcm9tICdwYXRoLXRvLXJlZ2V4cCc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgeyBpc1ZhbGlkRWxlbWVudFR5cGUgfSBmcm9tICdyZWFjdC1pcyc7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSc7XG5pbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcblxuLy8gVE9ETzogUmVwbGFjZSB3aXRoIFJlYWN0LmNyZWF0ZUNvbnRleHQgb25jZSB3ZSBjYW4gYXNzdW1lIFJlYWN0IDE2K1xuXG52YXIgY3JlYXRlTmFtZWRDb250ZXh0ID0gZnVuY3Rpb24gY3JlYXRlTmFtZWRDb250ZXh0KG5hbWUpIHtcbiAgdmFyIGNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG4gIGNvbnRleHQuZGlzcGxheU5hbWUgPSBuYW1lO1xuICByZXR1cm4gY29udGV4dDtcbn07XG5cbnZhciBjb250ZXh0ID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZU5hbWVkQ29udGV4dChcIlJvdXRlclwiKTtcblxuLyoqXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgcHV0dGluZyBoaXN0b3J5IG9uIGNvbnRleHQuXG4gKi9cblxudmFyIFJvdXRlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSb3V0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIFJvdXRlci5jb21wdXRlUm9vdE1hdGNoID0gZnVuY3Rpb24gY29tcHV0ZVJvb3RNYXRjaChwYXRobmFtZSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXRoOiBcIi9cIixcbiAgICAgIHVybDogXCIvXCIsXG4gICAgICBwYXJhbXM6IHt9LFxuICAgICAgaXNFeGFjdDogcGF0aG5hbWUgPT09IFwiL1wiXG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBSb3V0ZXIocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvY2F0aW9uOiBwcm9wcy5oaXN0b3J5LmxvY2F0aW9uXG4gICAgfTsgLy8gVGhpcyBpcyBhIGJpdCBvZiBhIGhhY2suIFdlIGhhdmUgdG8gc3RhcnQgbGlzdGVuaW5nIGZvciBsb2NhdGlvblxuICAgIC8vIGNoYW5nZXMgaGVyZSBpbiB0aGUgY29uc3RydWN0b3IgaW4gY2FzZSB0aGVyZSBhcmUgYW55IDxSZWRpcmVjdD5zXG4gICAgLy8gb24gdGhlIGluaXRpYWwgcmVuZGVyLiBJZiB0aGVyZSBhcmUsIHRoZXkgd2lsbCByZXBsYWNlL3B1c2ggd2hlblxuICAgIC8vIHRoZXkgbW91bnQgYW5kIHNpbmNlIGNETSBmaXJlcyBpbiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cywgd2UgbWF5XG4gICAgLy8gZ2V0IGEgbmV3IGxvY2F0aW9uIGJlZm9yZSB0aGUgPFJvdXRlcj4gaXMgbW91bnRlZC5cblxuICAgIF90aGlzLl9pc01vdW50ZWQgPSBmYWxzZTtcbiAgICBfdGhpcy5fcGVuZGluZ0xvY2F0aW9uID0gbnVsbDtcblxuICAgIGlmICghcHJvcHMuc3RhdGljQ29udGV4dCkge1xuICAgICAgX3RoaXMudW5saXN0ZW4gPSBwcm9wcy5oaXN0b3J5Lmxpc3RlbihmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgaWYgKF90aGlzLl9pc01vdW50ZWQpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5fcGVuZGluZ0xvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSb3V0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuX2lzTW91bnRlZCA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5fcGVuZGluZ0xvY2F0aW9uKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbG9jYXRpb246IHRoaXMuX3BlbmRpbmdMb2NhdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnVubGlzdGVuKSB0aGlzLnVubGlzdGVuKCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCBudWxsLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgaGlzdG9yeTogdGhpcy5wcm9wcy5oaXN0b3J5LFxuICAgICAgICBsb2NhdGlvbjogdGhpcy5zdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgbWF0Y2g6IFJvdXRlci5jb21wdXRlUm9vdE1hdGNoKHRoaXMuc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpLFxuICAgICAgICBzdGF0aWNDb250ZXh0OiB0aGlzLnByb3BzLnN0YXRpY0NvbnRleHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gUm91dGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFJvdXRlci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGhpc3Rvcnk6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBzdGF0aWNDb250ZXh0OiBQcm9wVHlwZXMub2JqZWN0XG4gIH07XG5cbiAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhwcmV2UHJvcHMuaGlzdG9yeSA9PT0gdGhpcy5wcm9wcy5oaXN0b3J5LCBcIllvdSBjYW5ub3QgY2hhbmdlIDxSb3V0ZXIgaGlzdG9yeT5cIikgOiB2b2lkIDA7XG4gIH07XG59XG5cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIGEgPFJvdXRlcj4gdGhhdCBzdG9yZXMgbG9jYXRpb24gaW4gbWVtb3J5LlxuICovXG5cbnZhciBNZW1vcnlSb3V0ZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTWVtb3J5Um91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNZW1vcnlSb3V0ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgX3RoaXMuaGlzdG9yeSA9IGNyZWF0ZU1lbW9yeUhpc3RvcnkoX3RoaXMucHJvcHMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBNZW1vcnlSb3V0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGVyLCB7XG4gICAgICBoaXN0b3J5OiB0aGlzLmhpc3RvcnksXG4gICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBNZW1vcnlSb3V0ZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgTWVtb3J5Um91dGVyLnByb3BUeXBlcyA9IHtcbiAgICBpbml0aWFsRW50cmllczogUHJvcFR5cGVzLmFycmF5LFxuICAgIGluaXRpYWxJbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBnZXRVc2VyQ29uZmlybWF0aW9uOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBrZXlMZW5ndGg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlXG4gIH07XG5cbiAgTWVtb3J5Um91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCF0aGlzLnByb3BzLmhpc3RvcnksIFwiPE1lbW9yeVJvdXRlcj4gaWdub3JlcyB0aGUgaGlzdG9yeSBwcm9wLiBUbyB1c2UgYSBjdXN0b20gaGlzdG9yeSwgXCIgKyBcInVzZSBgaW1wb3J0IHsgUm91dGVyIH1gIGluc3RlYWQgb2YgYGltcG9ydCB7IE1lbW9yeVJvdXRlciBhcyBSb3V0ZXIgfWAuXCIpIDogdm9pZCAwO1xuICB9O1xufVxuXG52YXIgTGlmZWN5Y2xlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKExpZmVjeWNsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTGlmZWN5Y2xlKCkge1xuICAgIHJldHVybiBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBMaWZlY3ljbGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uTW91bnQpIHRoaXMucHJvcHMub25Nb3VudC5jYWxsKHRoaXMsIHRoaXMpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25VcGRhdGUpIHRoaXMucHJvcHMub25VcGRhdGUuY2FsbCh0aGlzLCB0aGlzLCBwcmV2UHJvcHMpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkgdGhpcy5wcm9wcy5vblVubW91bnQuY2FsbCh0aGlzLCB0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBMaWZlY3ljbGU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIHByb21wdGluZyB0aGUgdXNlciBiZWZvcmUgbmF2aWdhdGluZyBhd2F5IGZyb20gYSBzY3JlZW4uXG4gKi9cblxuZnVuY3Rpb24gUHJvbXB0KF9yZWYpIHtcbiAgdmFyIG1lc3NhZ2UgPSBfcmVmLm1lc3NhZ2UsXG4gICAgICBfcmVmJHdoZW4gPSBfcmVmLndoZW4sXG4gICAgICB3aGVuID0gX3JlZiR3aGVuID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiR3aGVuO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCQkMSkge1xuICAgICFjb250ZXh0JCQxID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8UHJvbXB0PiBvdXRzaWRlIGEgPFJvdXRlcj5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmICghd2hlbiB8fCBjb250ZXh0JCQxLnN0YXRpY0NvbnRleHQpIHJldHVybiBudWxsO1xuICAgIHZhciBtZXRob2QgPSBjb250ZXh0JCQxLmhpc3RvcnkuYmxvY2s7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlmZWN5Y2xlLCB7XG4gICAgICBvbk1vdW50OiBmdW5jdGlvbiBvbk1vdW50KHNlbGYpIHtcbiAgICAgICAgc2VsZi5yZWxlYXNlID0gbWV0aG9kKG1lc3NhZ2UpO1xuICAgICAgfSxcbiAgICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZShzZWxmLCBwcmV2UHJvcHMpIHtcbiAgICAgICAgaWYgKHByZXZQcm9wcy5tZXNzYWdlICE9PSBtZXNzYWdlKSB7XG4gICAgICAgICAgc2VsZi5yZWxlYXNlKCk7XG4gICAgICAgICAgc2VsZi5yZWxlYXNlID0gbWV0aG9kKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Vbm1vdW50OiBmdW5jdGlvbiBvblVubW91bnQoc2VsZikge1xuICAgICAgICBzZWxmLnJlbGVhc2UoKTtcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgfSk7XG4gIH0pO1xufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIHZhciBtZXNzYWdlVHlwZSA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMuc3RyaW5nXSk7XG4gIFByb21wdC5wcm9wVHlwZXMgPSB7XG4gICAgd2hlbjogUHJvcFR5cGVzLmJvb2wsXG4gICAgbWVzc2FnZTogbWVzc2FnZVR5cGUuaXNSZXF1aXJlZFxuICB9O1xufVxuXG52YXIgY2FjaGUgPSB7fTtcbnZhciBjYWNoZUxpbWl0ID0gMTAwMDA7XG52YXIgY2FjaGVDb3VudCA9IDA7XG5cbmZ1bmN0aW9uIGNvbXBpbGVQYXRoKHBhdGgpIHtcbiAgaWYgKGNhY2hlW3BhdGhdKSByZXR1cm4gY2FjaGVbcGF0aF07XG4gIHZhciBnZW5lcmF0b3IgPSBwYXRoVG9SZWdleHAuY29tcGlsZShwYXRoKTtcblxuICBpZiAoY2FjaGVDb3VudCA8IGNhY2hlTGltaXQpIHtcbiAgICBjYWNoZVtwYXRoXSA9IGdlbmVyYXRvcjtcbiAgICBjYWNoZUNvdW50Kys7XG4gIH1cblxuICByZXR1cm4gZ2VuZXJhdG9yO1xufVxuLyoqXG4gKiBQdWJsaWMgQVBJIGZvciBnZW5lcmF0aW5nIGEgVVJMIHBhdGhuYW1lIGZyb20gYSBwYXRoIGFuZCBwYXJhbWV0ZXJzLlxuICovXG5cblxuZnVuY3Rpb24gZ2VuZXJhdGVQYXRoKHBhdGgsIHBhcmFtcykge1xuICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7XG4gICAgcGF0aCA9IFwiL1wiO1xuICB9XG5cbiAgaWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7XG4gICAgcGFyYW1zID0ge307XG4gIH1cblxuICByZXR1cm4gcGF0aCA9PT0gXCIvXCIgPyBwYXRoIDogY29tcGlsZVBhdGgocGF0aCkocGFyYW1zLCB7XG4gICAgcHJldHR5OiB0cnVlXG4gIH0pO1xufVxuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBuYXZpZ2F0aW5nIHByb2dyYW1tYXRpY2FsbHkgd2l0aCBhIGNvbXBvbmVudC5cbiAqL1xuXG5mdW5jdGlvbiBSZWRpcmVjdChfcmVmKSB7XG4gIHZhciBjb21wdXRlZE1hdGNoID0gX3JlZi5jb21wdXRlZE1hdGNoLFxuICAgICAgdG8gPSBfcmVmLnRvLFxuICAgICAgX3JlZiRwdXNoID0gX3JlZi5wdXNoLFxuICAgICAgcHVzaCA9IF9yZWYkcHVzaCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJHB1c2g7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGNvbnRleHQuQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChjb250ZXh0JCQxKSB7XG4gICAgIWNvbnRleHQkJDEgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IHNob3VsZCBub3QgdXNlIDxSZWRpcmVjdD4gb3V0c2lkZSBhIDxSb3V0ZXI+XCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgaGlzdG9yeSA9IGNvbnRleHQkJDEuaGlzdG9yeSxcbiAgICAgICAgc3RhdGljQ29udGV4dCA9IGNvbnRleHQkJDEuc3RhdGljQ29udGV4dDtcbiAgICB2YXIgbWV0aG9kID0gcHVzaCA/IGhpc3RvcnkucHVzaCA6IGhpc3RvcnkucmVwbGFjZTtcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihjb21wdXRlZE1hdGNoID8gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gZ2VuZXJhdGVQYXRoKHRvLCBjb21wdXRlZE1hdGNoLnBhcmFtcykgOiBfZXh0ZW5kcyh7fSwgdG8sIHtcbiAgICAgIHBhdGhuYW1lOiBnZW5lcmF0ZVBhdGgodG8ucGF0aG5hbWUsIGNvbXB1dGVkTWF0Y2gucGFyYW1zKVxuICAgIH0pIDogdG8pOyAvLyBXaGVuIHJlbmRlcmluZyBpbiBhIHN0YXRpYyBjb250ZXh0LFxuICAgIC8vIHNldCB0aGUgbmV3IGxvY2F0aW9uIGltbWVkaWF0ZWx5LlxuXG4gICAgaWYgKHN0YXRpY0NvbnRleHQpIHtcbiAgICAgIG1ldGhvZChsb2NhdGlvbik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChMaWZlY3ljbGUsIHtcbiAgICAgIG9uTW91bnQ6IGZ1bmN0aW9uIG9uTW91bnQoKSB7XG4gICAgICAgIG1ldGhvZChsb2NhdGlvbik7XG4gICAgICB9LFxuICAgICAgb25VcGRhdGU6IGZ1bmN0aW9uIG9uVXBkYXRlKHNlbGYsIHByZXZQcm9wcykge1xuICAgICAgICB2YXIgcHJldkxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocHJldlByb3BzLnRvKTtcblxuICAgICAgICBpZiAoIWxvY2F0aW9uc0FyZUVxdWFsKHByZXZMb2NhdGlvbiwgX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7XG4gICAgICAgICAga2V5OiBwcmV2TG9jYXRpb24ua2V5XG4gICAgICAgIH0pKSkge1xuICAgICAgICAgIG1ldGhvZChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0bzogdG9cbiAgICB9KTtcbiAgfSk7XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgUmVkaXJlY3QucHJvcFR5cGVzID0ge1xuICAgIHB1c2g6IFByb3BUeXBlcy5ib29sLFxuICAgIGZyb206IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdG86IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKS5pc1JlcXVpcmVkXG4gIH07XG59XG5cbnZhciBjYWNoZSQxID0ge307XG52YXIgY2FjaGVMaW1pdCQxID0gMTAwMDA7XG52YXIgY2FjaGVDb3VudCQxID0gMDtcblxuZnVuY3Rpb24gY29tcGlsZVBhdGgkMShwYXRoLCBvcHRpb25zKSB7XG4gIHZhciBjYWNoZUtleSA9IFwiXCIgKyBvcHRpb25zLmVuZCArIG9wdGlvbnMuc3RyaWN0ICsgb3B0aW9ucy5zZW5zaXRpdmU7XG4gIHZhciBwYXRoQ2FjaGUgPSBjYWNoZSQxW2NhY2hlS2V5XSB8fCAoY2FjaGUkMVtjYWNoZUtleV0gPSB7fSk7XG4gIGlmIChwYXRoQ2FjaGVbcGF0aF0pIHJldHVybiBwYXRoQ2FjaGVbcGF0aF07XG4gIHZhciBrZXlzID0gW107XG4gIHZhciByZWdleHAgPSBwYXRoVG9SZWdleHAocGF0aCwga2V5cywgb3B0aW9ucyk7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgcmVnZXhwOiByZWdleHAsXG4gICAga2V5czoga2V5c1xuICB9O1xuXG4gIGlmIChjYWNoZUNvdW50JDEgPCBjYWNoZUxpbWl0JDEpIHtcbiAgICBwYXRoQ2FjaGVbcGF0aF0gPSByZXN1bHQ7XG4gICAgY2FjaGVDb3VudCQxKys7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBQdWJsaWMgQVBJIGZvciBtYXRjaGluZyBhIFVSTCBwYXRobmFtZSB0byBhIHBhdGguXG4gKi9cblxuXG5mdW5jdGlvbiBtYXRjaFBhdGgocGF0aG5hbWUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikgb3B0aW9ucyA9IHtcbiAgICBwYXRoOiBvcHRpb25zXG4gIH07XG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBwYXRoID0gX29wdGlvbnMucGF0aCxcbiAgICAgIF9vcHRpb25zJGV4YWN0ID0gX29wdGlvbnMuZXhhY3QsXG4gICAgICBleGFjdCA9IF9vcHRpb25zJGV4YWN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGV4YWN0LFxuICAgICAgX29wdGlvbnMkc3RyaWN0ID0gX29wdGlvbnMuc3RyaWN0LFxuICAgICAgc3RyaWN0ID0gX29wdGlvbnMkc3RyaWN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHN0cmljdCxcbiAgICAgIF9vcHRpb25zJHNlbnNpdGl2ZSA9IF9vcHRpb25zLnNlbnNpdGl2ZSxcbiAgICAgIHNlbnNpdGl2ZSA9IF9vcHRpb25zJHNlbnNpdGl2ZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRzZW5zaXRpdmU7XG4gIHZhciBwYXRocyA9IFtdLmNvbmNhdChwYXRoKTtcbiAgcmV0dXJuIHBhdGhzLnJlZHVjZShmdW5jdGlvbiAobWF0Y2hlZCwgcGF0aCkge1xuICAgIGlmICghcGF0aCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKG1hdGNoZWQpIHJldHVybiBtYXRjaGVkO1xuXG4gICAgdmFyIF9jb21waWxlUGF0aCA9IGNvbXBpbGVQYXRoJDEocGF0aCwge1xuICAgICAgZW5kOiBleGFjdCxcbiAgICAgIHN0cmljdDogc3RyaWN0LFxuICAgICAgc2Vuc2l0aXZlOiBzZW5zaXRpdmVcbiAgICB9KSxcbiAgICAgICAgcmVnZXhwID0gX2NvbXBpbGVQYXRoLnJlZ2V4cCxcbiAgICAgICAga2V5cyA9IF9jb21waWxlUGF0aC5rZXlzO1xuXG4gICAgdmFyIG1hdGNoID0gcmVnZXhwLmV4ZWMocGF0aG5hbWUpO1xuICAgIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuICAgIHZhciB1cmwgPSBtYXRjaFswXSxcbiAgICAgICAgdmFsdWVzID0gbWF0Y2guc2xpY2UoMSk7XG4gICAgdmFyIGlzRXhhY3QgPSBwYXRobmFtZSA9PT0gdXJsO1xuICAgIGlmIChleGFjdCAmJiAhaXNFeGFjdCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAvLyB0aGUgcGF0aCB1c2VkIHRvIG1hdGNoXG4gICAgICB1cmw6IHBhdGggPT09IFwiL1wiICYmIHVybCA9PT0gXCJcIiA/IFwiL1wiIDogdXJsLFxuICAgICAgLy8gdGhlIG1hdGNoZWQgcG9ydGlvbiBvZiB0aGUgVVJMXG4gICAgICBpc0V4YWN0OiBpc0V4YWN0LFxuICAgICAgLy8gd2hldGhlciBvciBub3Qgd2UgbWF0Y2hlZCBleGFjdGx5XG4gICAgICBwYXJhbXM6IGtleXMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBrZXksIGluZGV4KSB7XG4gICAgICAgIG1lbW9ba2V5Lm5hbWVdID0gdmFsdWVzW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgICB9LCB7fSlcbiAgICB9O1xuICB9LCBudWxsKTtcbn1cblxuZnVuY3Rpb24gaXNFbXB0eUNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIHJldHVybiBSZWFjdC5DaGlsZHJlbi5jb3VudChjaGlsZHJlbikgPT09IDA7XG59XG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBtYXRjaGluZyBhIHNpbmdsZSBwYXRoIGFuZCByZW5kZXJpbmcuXG4gKi9cblxuXG52YXIgUm91dGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoUm91dGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJvdXRlKCkge1xuICAgIHJldHVybiBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSb3V0ZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQkJDEpIHtcbiAgICAgICFjb250ZXh0JCQxID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8Um91dGU+IG91dHNpZGUgYSA8Um91dGVyPlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgbG9jYXRpb24gPSBfdGhpcy5wcm9wcy5sb2NhdGlvbiB8fCBjb250ZXh0JCQxLmxvY2F0aW9uO1xuICAgICAgdmFyIG1hdGNoID0gX3RoaXMucHJvcHMuY29tcHV0ZWRNYXRjaCA/IF90aGlzLnByb3BzLmNvbXB1dGVkTWF0Y2ggLy8gPFN3aXRjaD4gYWxyZWFkeSBjb21wdXRlZCB0aGUgbWF0Y2ggZm9yIHVzXG4gICAgICA6IF90aGlzLnByb3BzLnBhdGggPyBtYXRjaFBhdGgobG9jYXRpb24ucGF0aG5hbWUsIF90aGlzLnByb3BzKSA6IGNvbnRleHQkJDEubWF0Y2g7XG5cbiAgICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCBjb250ZXh0JCQxLCB7XG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2g6IG1hdGNoXG4gICAgICB9KTtcblxuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjb21wb25lbnQgPSBfdGhpcyRwcm9wcy5jb21wb25lbnQsXG4gICAgICAgICAgcmVuZGVyID0gX3RoaXMkcHJvcHMucmVuZGVyOyAvLyBQcmVhY3QgdXNlcyBhbiBlbXB0eSBhcnJheSBhcyBjaGlsZHJlbiBieVxuICAgICAgLy8gZGVmYXVsdCwgc28gdXNlIG51bGwgaWYgdGhhdCdzIHRoZSBjYXNlLlxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4ocHJvcHMpO1xuXG4gICAgICAgIGlmIChjaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIHBhdGggPSBfdGhpcy5wcm9wcy5wYXRoO1xuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgXCJZb3UgcmV0dXJuZWQgYHVuZGVmaW5lZGAgZnJvbSB0aGUgYGNoaWxkcmVuYCBmdW5jdGlvbiBvZiBcIiArIChcIjxSb3V0ZVwiICsgKHBhdGggPyBcIiBwYXRoPVxcXCJcIiArIHBhdGggKyBcIlxcXCJcIiA6IFwiXCIpICsgXCI+LCBidXQgeW91IFwiKSArIFwic2hvdWxkIGhhdmUgcmV0dXJuZWQgYSBSZWFjdCBlbGVtZW50IG9yIGBudWxsYFwiKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICB2YWx1ZTogcHJvcHNcbiAgICAgIH0sIGNoaWxkcmVuICYmICFpc0VtcHR5Q2hpbGRyZW4oY2hpbGRyZW4pID8gY2hpbGRyZW4gOiBwcm9wcy5tYXRjaCA/IGNvbXBvbmVudCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcykgOiByZW5kZXIgPyByZW5kZXIocHJvcHMpIDogbnVsbCA6IG51bGwpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBSb3V0ZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBSb3V0ZS5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubm9kZV0pLFxuICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHByb3BzLCBwcm9wTmFtZSkge1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSAmJiAhaXNWYWxpZEVsZW1lbnRUeXBlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIkludmFsaWQgcHJvcCAnY29tcG9uZW50JyBzdXBwbGllZCB0byAnUm91dGUnOiB0aGUgcHJvcCBpcyBub3QgYSB2YWxpZCBSZWFjdCBjb21wb25lbnRcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICBleGFjdDogUHJvcFR5cGVzLmJvb2wsXG4gICAgbG9jYXRpb246IFByb3BUeXBlcy5vYmplY3QsXG4gICAgcGF0aDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyldKSxcbiAgICByZW5kZXI6IFByb3BUeXBlcy5mdW5jLFxuICAgIHNlbnNpdGl2ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgc3RyaWN0OiBQcm9wVHlwZXMuYm9vbFxuICB9O1xuXG4gIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodGhpcy5wcm9wcy5jaGlsZHJlbiAmJiAhaXNFbXB0eUNoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4pICYmIHRoaXMucHJvcHMuY29tcG9uZW50KSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFJvdXRlIGNvbXBvbmVudD4gYW5kIDxSb3V0ZSBjaGlsZHJlbj4gaW4gdGhlIHNhbWUgcm91dGU7IDxSb3V0ZSBjb21wb25lbnQ+IHdpbGwgYmUgaWdub3JlZFwiKSA6IHZvaWQgMDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodGhpcy5wcm9wcy5jaGlsZHJlbiAmJiAhaXNFbXB0eUNoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4pICYmIHRoaXMucHJvcHMucmVuZGVyKSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFJvdXRlIHJlbmRlcj4gYW5kIDxSb3V0ZSBjaGlsZHJlbj4gaW4gdGhlIHNhbWUgcm91dGU7IDxSb3V0ZSByZW5kZXI+IHdpbGwgYmUgaWdub3JlZFwiKSA6IHZvaWQgMDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodGhpcy5wcm9wcy5jb21wb25lbnQgJiYgdGhpcy5wcm9wcy5yZW5kZXIpLCBcIllvdSBzaG91bGQgbm90IHVzZSA8Um91dGUgY29tcG9uZW50PiBhbmQgPFJvdXRlIHJlbmRlcj4gaW4gdGhlIHNhbWUgcm91dGU7IDxSb3V0ZSByZW5kZXI+IHdpbGwgYmUgaWdub3JlZFwiKSA6IHZvaWQgMDtcbiAgfTtcblxuICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0aGlzLnByb3BzLmxvY2F0aW9uICYmICFwcmV2UHJvcHMubG9jYXRpb24pLCAnPFJvdXRlPiBlbGVtZW50cyBzaG91bGQgbm90IGNoYW5nZSBmcm9tIHVuY29udHJvbGxlZCB0byBjb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gWW91IGluaXRpYWxseSB1c2VkIG5vIFwibG9jYXRpb25cIiBwcm9wIGFuZCB0aGVuIHByb3ZpZGVkIG9uZSBvbiBhIHN1YnNlcXVlbnQgcmVuZGVyLicpIDogdm9pZCAwO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISghdGhpcy5wcm9wcy5sb2NhdGlvbiAmJiBwcmV2UHJvcHMubG9jYXRpb24pLCAnPFJvdXRlPiBlbGVtZW50cyBzaG91bGQgbm90IGNoYW5nZSBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gWW91IHByb3ZpZGVkIGEgXCJsb2NhdGlvblwiIHByb3AgaW5pdGlhbGx5IGJ1dCBvbWl0dGVkIGl0IG9uIGEgc3Vic2VxdWVudCByZW5kZXIuJykgOiB2b2lkIDA7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gXCIvXCIgPyBwYXRoIDogXCIvXCIgKyBwYXRoO1xufVxuXG5mdW5jdGlvbiBhZGRCYXNlbmFtZShiYXNlbmFtZSwgbG9jYXRpb24pIHtcbiAgaWYgKCFiYXNlbmFtZSkgcmV0dXJuIGxvY2F0aW9uO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7XG4gICAgcGF0aG5hbWU6IGFkZExlYWRpbmdTbGFzaChiYXNlbmFtZSkgKyBsb2NhdGlvbi5wYXRobmFtZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShiYXNlbmFtZSwgbG9jYXRpb24pIHtcbiAgaWYgKCFiYXNlbmFtZSkgcmV0dXJuIGxvY2F0aW9uO1xuICB2YXIgYmFzZSA9IGFkZExlYWRpbmdTbGFzaChiYXNlbmFtZSk7XG4gIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKGJhc2UpICE9PSAwKSByZXR1cm4gbG9jYXRpb247XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHtcbiAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyKGJhc2UubGVuZ3RoKVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVJMKGxvY2F0aW9uKSB7XG4gIHJldHVybiB0eXBlb2YgbG9jYXRpb24gPT09IFwic3RyaW5nXCIgPyBsb2NhdGlvbiA6IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xufVxuXG5mdW5jdGlvbiBzdGF0aWNIYW5kbGVyKG1ldGhvZE5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IGNhbm5vdCAlcyB3aXRoIDxTdGF0aWNSb3V0ZXI+XCIsIG1ldGhvZE5hbWUpIDogaW52YXJpYW50KGZhbHNlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG4vKipcbiAqIFRoZSBwdWJsaWMgdG9wLWxldmVsIEFQSSBmb3IgYSBcInN0YXRpY1wiIDxSb3V0ZXI+LCBzby1jYWxsZWQgYmVjYXVzZSBpdFxuICogY2FuJ3QgYWN0dWFsbHkgY2hhbmdlIHRoZSBjdXJyZW50IGxvY2F0aW9uLiBJbnN0ZWFkLCBpdCBqdXN0IHJlY29yZHNcbiAqIGxvY2F0aW9uIGNoYW5nZXMgaW4gYSBjb250ZXh0IG9iamVjdC4gVXNlZnVsIG1haW5seSBpbiB0ZXN0aW5nIGFuZFxuICogc2VydmVyLXJlbmRlcmluZyBzY2VuYXJpb3MuXG4gKi9cblxuXG52YXIgU3RhdGljUm91dGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFN0YXRpY1JvdXRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3RhdGljUm91dGVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaGFuZGxlUHVzaCA9IGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIF90aGlzLm5hdmlnYXRlVG8obG9jYXRpb24sIFwiUFVTSFwiKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlUmVwbGFjZSA9IGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIF90aGlzLm5hdmlnYXRlVG8obG9jYXRpb24sIFwiUkVQTEFDRVwiKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTGlzdGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5vb3A7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUJsb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5vb3A7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTdGF0aWNSb3V0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5uYXZpZ2F0ZVRvID0gZnVuY3Rpb24gbmF2aWdhdGVUbyhsb2NhdGlvbiwgYWN0aW9uKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgX3RoaXMkcHJvcHMkYmFzZW5hbWUgPSBfdGhpcyRwcm9wcy5iYXNlbmFtZSxcbiAgICAgICAgYmFzZW5hbWUgPSBfdGhpcyRwcm9wcyRiYXNlbmFtZSA9PT0gdm9pZCAwID8gXCJcIiA6IF90aGlzJHByb3BzJGJhc2VuYW1lLFxuICAgICAgICBfdGhpcyRwcm9wcyRjb250ZXh0ID0gX3RoaXMkcHJvcHMuY29udGV4dCxcbiAgICAgICAgY29udGV4dCA9IF90aGlzJHByb3BzJGNvbnRleHQgPT09IHZvaWQgMCA/IHt9IDogX3RoaXMkcHJvcHMkY29udGV4dDtcbiAgICBjb250ZXh0LmFjdGlvbiA9IGFjdGlvbjtcbiAgICBjb250ZXh0LmxvY2F0aW9uID0gYWRkQmFzZW5hbWUoYmFzZW5hbWUsIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uKSk7XG4gICAgY29udGV4dC51cmwgPSBjcmVhdGVVUkwoY29udGV4dC5sb2NhdGlvbik7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgX3RoaXMkcHJvcHMyJGJhc2VuYW1lID0gX3RoaXMkcHJvcHMyLmJhc2VuYW1lLFxuICAgICAgICBiYXNlbmFtZSA9IF90aGlzJHByb3BzMiRiYXNlbmFtZSA9PT0gdm9pZCAwID8gXCJcIiA6IF90aGlzJHByb3BzMiRiYXNlbmFtZSxcbiAgICAgICAgX3RoaXMkcHJvcHMyJGNvbnRleHQgPSBfdGhpcyRwcm9wczIuY29udGV4dCxcbiAgICAgICAgY29udGV4dCA9IF90aGlzJHByb3BzMiRjb250ZXh0ID09PSB2b2lkIDAgPyB7fSA6IF90aGlzJHByb3BzMiRjb250ZXh0LFxuICAgICAgICBfdGhpcyRwcm9wczIkbG9jYXRpb24gPSBfdGhpcyRwcm9wczIubG9jYXRpb24sXG4gICAgICAgIGxvY2F0aW9uID0gX3RoaXMkcHJvcHMyJGxvY2F0aW9uID09PSB2b2lkIDAgPyBcIi9cIiA6IF90aGlzJHByb3BzMiRsb2NhdGlvbixcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzMiwgW1wiYmFzZW5hbWVcIiwgXCJjb250ZXh0XCIsIFwibG9jYXRpb25cIl0pO1xuXG4gICAgdmFyIGhpc3RvcnkgPSB7XG4gICAgICBjcmVhdGVIcmVmOiBmdW5jdGlvbiBjcmVhdGVIcmVmKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdTbGFzaChiYXNlbmFtZSArIGNyZWF0ZVVSTChwYXRoKSk7XG4gICAgICB9LFxuICAgICAgYWN0aW9uOiBcIlBPUFwiLFxuICAgICAgbG9jYXRpb246IHN0cmlwQmFzZW5hbWUoYmFzZW5hbWUsIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uKSksXG4gICAgICBwdXNoOiB0aGlzLmhhbmRsZVB1c2gsXG4gICAgICByZXBsYWNlOiB0aGlzLmhhbmRsZVJlcGxhY2UsXG4gICAgICBnbzogc3RhdGljSGFuZGxlcihcImdvXCIpLFxuICAgICAgZ29CYWNrOiBzdGF0aWNIYW5kbGVyKFwiZ29CYWNrXCIpLFxuICAgICAgZ29Gb3J3YXJkOiBzdGF0aWNIYW5kbGVyKFwiZ29Gb3J3YXJkXCIpLFxuICAgICAgbGlzdGVuOiB0aGlzLmhhbmRsZUxpc3RlbixcbiAgICAgIGJsb2NrOiB0aGlzLmhhbmRsZUJsb2NrXG4gICAgfTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZXIsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICBoaXN0b3J5OiBoaXN0b3J5LFxuICAgICAgc3RhdGljQ29udGV4dDogY29udGV4dFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gU3RhdGljUm91dGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFN0YXRpY1JvdXRlci5wcm9wVHlwZXMgPSB7XG4gICAgYmFzZW5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29udGV4dDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBsb2NhdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH07XG5cbiAgU3RhdGljUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCF0aGlzLnByb3BzLmhpc3RvcnksIFwiPFN0YXRpY1JvdXRlcj4gaWdub3JlcyB0aGUgaGlzdG9yeSBwcm9wLiBUbyB1c2UgYSBjdXN0b20gaGlzdG9yeSwgXCIgKyBcInVzZSBgaW1wb3J0IHsgUm91dGVyIH1gIGluc3RlYWQgb2YgYGltcG9ydCB7IFN0YXRpY1JvdXRlciBhcyBSb3V0ZXIgfWAuXCIpIDogdm9pZCAwO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciByZW5kZXJpbmcgdGhlIGZpcnN0IDxSb3V0ZT4gdGhhdCBtYXRjaGVzLlxuICovXG5cbnZhciBTd2l0Y2ggPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoU3dpdGNoLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTd2l0Y2goKSB7XG4gICAgcmV0dXJuIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN3aXRjaC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQkJDEpIHtcbiAgICAgICFjb250ZXh0JCQxID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8U3dpdGNoPiBvdXRzaWRlIGEgPFJvdXRlcj5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGxvY2F0aW9uID0gX3RoaXMucHJvcHMubG9jYXRpb24gfHwgY29udGV4dCQkMS5sb2NhdGlvbjtcbiAgICAgIHZhciBlbGVtZW50LCBtYXRjaDsgLy8gV2UgdXNlIFJlYWN0LkNoaWxkcmVuLmZvckVhY2ggaW5zdGVhZCBvZiBSZWFjdC5DaGlsZHJlbi50b0FycmF5KCkuZmluZCgpXG4gICAgICAvLyBoZXJlIGJlY2F1c2UgdG9BcnJheSBhZGRzIGtleXMgdG8gYWxsIGNoaWxkIGVsZW1lbnRzIGFuZCB3ZSBkbyBub3Qgd2FudFxuICAgICAgLy8gdG8gdHJpZ2dlciBhbiB1bm1vdW50L3JlbW91bnQgZm9yIHR3byA8Um91dGU+cyB0aGF0IHJlbmRlciB0aGUgc2FtZVxuICAgICAgLy8gY29tcG9uZW50IGF0IGRpZmZlcmVudCBVUkxzLlxuXG4gICAgICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKF90aGlzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKG1hdGNoID09IG51bGwgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgZWxlbWVudCA9IGNoaWxkO1xuICAgICAgICAgIHZhciBwYXRoID0gY2hpbGQucHJvcHMucGF0aCB8fCBjaGlsZC5wcm9wcy5mcm9tO1xuICAgICAgICAgIG1hdGNoID0gcGF0aCA/IG1hdGNoUGF0aChsb2NhdGlvbi5wYXRobmFtZSwgX2V4dGVuZHMoe30sIGNoaWxkLnByb3BzLCB7XG4gICAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgICAgfSkpIDogY29udGV4dCQkMS5tYXRjaDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBSZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIGNvbXB1dGVkTWF0Y2g6IG1hdGNoXG4gICAgICB9KSA6IG51bGw7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFN3aXRjaDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBTd2l0Y2gucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdFxuICB9O1xuXG4gIFN3aXRjaC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0aGlzLnByb3BzLmxvY2F0aW9uICYmICFwcmV2UHJvcHMubG9jYXRpb24pLCAnPFN3aXRjaD4gZWxlbWVudHMgc2hvdWxkIG5vdCBjaGFuZ2UgZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIFlvdSBpbml0aWFsbHkgdXNlZCBubyBcImxvY2F0aW9uXCIgcHJvcCBhbmQgdGhlbiBwcm92aWRlZCBvbmUgb24gYSBzdWJzZXF1ZW50IHJlbmRlci4nKSA6IHZvaWQgMDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEoIXRoaXMucHJvcHMubG9jYXRpb24gJiYgcHJldlByb3BzLmxvY2F0aW9uKSwgJzxTd2l0Y2g+IGVsZW1lbnRzIHNob3VsZCBub3QgY2hhbmdlIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiBZb3UgcHJvdmlkZWQgYSBcImxvY2F0aW9uXCIgcHJvcCBpbml0aWFsbHkgYnV0IG9taXR0ZWQgaXQgb24gYSBzdWJzZXF1ZW50IHJlbmRlci4nKSA6IHZvaWQgMDtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHB1YmxpYyBoaWdoZXItb3JkZXIgY29tcG9uZW50IHRvIGFjY2VzcyB0aGUgaW1wZXJhdGl2ZSBBUElcbiAqL1xuXG5mdW5jdGlvbiB3aXRoUm91dGVyKENvbXBvbmVudCkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBcIndpdGhSb3V0ZXIoXCIgKyAoQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lKSArIFwiKVwiO1xuXG4gIHZhciBDID0gZnVuY3Rpb24gQyhwcm9wcykge1xuICAgIHZhciB3cmFwcGVkQ29tcG9uZW50UmVmID0gcHJvcHMud3JhcHBlZENvbXBvbmVudFJlZixcbiAgICAgICAgcmVtYWluaW5nUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wid3JhcHBlZENvbXBvbmVudFJlZlwiXSk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCQkMSkge1xuICAgICAgIWNvbnRleHQkJDEgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IHNob3VsZCBub3QgdXNlIDxcIiArIGRpc3BsYXlOYW1lICsgXCIgLz4gb3V0c2lkZSBhIDxSb3V0ZXI+XCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHJlbWFpbmluZ1Byb3BzLCBjb250ZXh0JCQxLCB7XG4gICAgICAgIHJlZjogd3JhcHBlZENvbXBvbmVudFJlZlxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIEMuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgQy5XcmFwcGVkQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBDLnByb3BUeXBlcyA9IHtcbiAgICAgIHdyYXBwZWRDb21wb25lbnRSZWY6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGhvaXN0U3RhdGljcyhDLCBDb21wb25lbnQpO1xufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIGdsb2JhbCA9IHdpbmRvdztcbiAgICB2YXIga2V5ID0gXCJfX3JlYWN0X3JvdXRlcl9idWlsZF9fXCI7XG4gICAgdmFyIGJ1aWxkTmFtZXMgPSB7XG4gICAgICBjanM6IFwiQ29tbW9uSlNcIixcbiAgICAgIGVzbTogXCJFUyBtb2R1bGVzXCIsXG4gICAgICB1bWQ6IFwiVU1EXCJcbiAgICB9O1xuXG4gICAgaWYgKGdsb2JhbFtrZXldICYmIGdsb2JhbFtrZXldICE9PSBcImVzbVwiKSB7XG4gICAgICB2YXIgaW5pdGlhbEJ1aWxkTmFtZSA9IGJ1aWxkTmFtZXNbZ2xvYmFsW2tleV1dO1xuICAgICAgdmFyIHNlY29uZGFyeUJ1aWxkTmFtZSA9IGJ1aWxkTmFtZXNbXCJlc21cIl07IC8vIFRPRE86IEFkZCBsaW5rIHRvIGFydGljbGUgdGhhdCBleHBsYWlucyBpbiBkZXRhaWwgaG93IHRvIGF2b2lkXG4gICAgICAvLyBsb2FkaW5nIDIgZGlmZmVyZW50IGJ1aWxkcy5cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBsb2FkaW5nIHRoZSBcIiArIHNlY29uZGFyeUJ1aWxkTmFtZSArIFwiIGJ1aWxkIG9mIFJlYWN0IFJvdXRlciBcIiArIChcIm9uIGEgcGFnZSB0aGF0IGlzIGFscmVhZHkgcnVubmluZyB0aGUgXCIgKyBpbml0aWFsQnVpbGROYW1lICsgXCIgXCIpICsgXCJidWlsZCwgc28gdGhpbmdzIHdvbid0IHdvcmsgcmlnaHQuXCIpO1xuICAgIH1cblxuICAgIGdsb2JhbFtrZXldID0gXCJlc21cIjtcbiAgfVxufVxuXG5leHBvcnQgeyBNZW1vcnlSb3V0ZXIsIFByb21wdCwgUmVkaXJlY3QsIFJvdXRlLCBSb3V0ZXIsIFN0YXRpY1JvdXRlciwgU3dpdGNoLCBnZW5lcmF0ZVBhdGgsIG1hdGNoUGF0aCwgd2l0aFJvdXRlciwgY29udGV4dCBhcyBfX1JvdXRlckNvbnRleHQgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=