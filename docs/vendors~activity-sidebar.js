(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1205:function(e,t,r){},1206:function(e,t,r){},1207:function(e,t,r){},1221:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(178),a=r.n(o),i=r(5),s=r.n(i),c=r(135),l=r.n(c),u=r(3),p=r(338),f=r(339),d=r(78),m=r(8),b=(r(98),r(340)),v=r(189),h=r(190),y=r(9),k=r.n(y),C=r(6),g=r.n(C),S=r(490),E=r(491),A=r(494),T=r(1);function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){O(e,t,r[t])})}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={fileVersion:"file_version",upload:"upload"};r(1205);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=this,o=(e=j(t)).call.apply(e,[this].concat(i)),r=!o||"object"!==I(o)&&"function"!=typeof o?_(n):o,D(_(_(r)),"state",{isInputOpen:!1}),D(_(_(r)),"isEmpty",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props,t=e.currentUser,n=e.feedItems;return!t||!n||0===n.length||1===n.length&&n[0].type===w.fileVersion}),D(_(_(r)),"resetFeedScroll",function(){r.feedContainer&&(r.feedContainer.scrollTop=r.feedContainer.scrollHeight)}),D(_(_(r)),"onKeyDown",function(e){e.nativeEvent.stopImmediatePropagation()}),D(_(_(r)),"approvalCommentFormFocusHandler",function(){r.resetFeedScroll(),r.setState({isInputOpen:!0})}),D(_(_(r)),"approvalCommentFormCancelHandler",function(){return r.setState({isInputOpen:!1})}),D(_(_(r)),"approvalCommentFormSubmitHandler",function(){return r.setState({isInputOpen:!1})}),D(_(_(r)),"onCommentCreate",function(e){var t=e.text,n=e.hasMention,o=r.props.onCommentCreate;(void 0===o?s.a:o)(t,n),r.approvalCommentFormSubmitHandler()}),D(_(_(r)),"onTaskCreate",function(e){var t=e.text,n=e.assignees,o=e.dueAt,a=r.props.onTaskCreate;(void 0===a?s.a:a)(t,n,o),r.approvalCommentFormSubmitHandler()}),D(_(_(r)),"openVersionHistoryPopup",function(e){(r.props.onVersionHistoryClick||s.a)(e)}),r}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,n["Component"]),r=t,(o=[{key:"componentDidMount",value:function(){this.resetFeedScroll()}},{key:"componentDidUpdate",value:function(e,t){var r=e.feedItems,n=this.props.feedItems,o=t.isInputOpen,a=this.state.isInputOpen,i=this.isEmpty(this.props),s=i!==this.isEmpty(e)&&!i,c=r&&n&&r.length<n.length;(s||c||!r&&n||a!==o)&&this.resetFeedScroll()}},{key:"render",value:function(){var e,t=this,r=this.props,o=r.translations,a=r.approverSelectorContacts,i=r.mentionSelectorContacts,c=r.currentUser,l=r.isDisabled,u=r.getAvatarUrl,p=r.getUserProfileUrl,f=r.file,d=r.onAppActivityDelete,m=r.onCommentCreate,b=r.getApproverWithQuery,v=r.getMentionWithQuery,h=r.activityFeedError,y=r.onVersionHistoryClick,C=r.onCommentDelete,I=r.onTaskDelete,U=r.onTaskUpdate,j=r.onTaskAssignmentUpdate,M=r.onTaskModalClose,_=r.feedItems,D=this.state.isInputOpen,N=k()(f,"permissions.can_comment",!1),H=!!(c&&N&&m&&_),W=this.isEmpty(this.props),Q=!_||!c;return n.createElement("div",{className:"bcs-activity-feed",onKeyDown:this.onKeyDown},n.createElement("div",{ref:function(e){t.feedContainer=e},className:"bcs-activity-feed-items-container"},W?n.createElement(A.a,{isLoading:Q,showCommentMessage:H}):n.createElement(S.a,P({},h,{items:(e=_,e?e.reduce(function(e,t){var r=e.pop();if(!r)return e.concat([t]);if(t.type===w.fileVersion&&r.type===w.fileVersion&&t.action===w.upload&&r.action===w.upload){var n=r.modified_by,o=r.versions,a=void 0===o?[r]:o,i=r.version_start,s=void 0===i?parseInt(r.version_number,10):i,c=r.version_end,l=void 0===c?parseInt(r.version_number,10):c,u=n||T.Zd,p=t.action,f=t.modified_by,d=t.created_at,m=t.trashed_at,b=t.id,v=t.version_number,h=parseInt(v,10),y=r.collaborators||O({},u.id,F({},u)),k=f||T.Zd;return y[k.id]=F({},k),e.concat([{action:p,collaborators:y,created_at:d,modified_by:k,trashed_at:m,id:b,type:w.fileVersion,version_number:v,versions:a.concat([t]),version_start:Math.min(s,h),version_end:Math.max(l,h)}])}return e.concat([r,t])},[]):[]),isDisabled:l,currentUser:c,onTaskAssignmentUpdate:j,onAppActivityDelete:d,onCommentDelete:N?C:s.a,onTaskDelete:N?I:s.a,onTaskEdit:N?U:s.a,onTaskModalClose:M,onVersionInfo:y?this.openVersionHistoryPopup:null,translations:o,getAvatarUrl:u,getUserProfileUrl:p,mentionSelectorContacts:i,getMentionWithQuery:v,approverSelectorContacts:a,getApproverWithQuery:b}))),H?n.createElement(E.a,{onSubmit:this.resetFeedScroll,isDisabled:l,approverSelectorContacts:a,mentionSelectorContacts:i,className:g()("bcs-activity-feed-comment-input",{"bcs-is-disabled":l}),createComment:N?this.onCommentCreate:s.a,createTask:N?this.onTaskCreate:s.a,updateTask:N?U:s.a,getApproverWithQuery:b,getMentionWithQuery:v,isOpen:D,user:c,onCancel:this.approvalCommentFormCancelHandler,onFocus:this.approvalCommentFormFocusHandler,getAvatarUrl:u}):null)}}])&&U(r.prototype,o),a&&U(r,a),t}(),H=r(1116),W=r(2),Q=r(41),V=r(224),x=r(341),R=r(132),B=r(486),K=r(487),G=r(186),J=(r(1206),function(e){return n.createElement(V.a,{constrainToScrollParent:!0,isRightAligned:!0},n.createElement(Q.a,{isDisabled:e.isDisabled,type:"button"},n.createElement(x.a,null,n.createElement(W.b,G.a.tasksAddTask))),n.createElement(R.a,{className:"bcs-AddTaskMenu"},n.createElement(R.b,{className:"bcs-AddTaskMenu-menuItem",onClick:function(){return e.onMenuItemClick(T.Oe)}},n.createElement("div",{className:"bcs-AddTaskMenu-icon"},n.createElement(K.a,{width:30,height:30})),n.createElement("div",null,n.createElement("div",{className:"bcs-AddTaskMenu-title"},n.createElement(W.b,G.a.taskAddTaskGeneral)),n.createElement("div",{className:"bcs-AddTaskMenu-description"},n.createElement(W.b,G.a.taskAddTaskGeneralDescription)))),n.createElement(R.b,{className:"bcs-AddTaskMenu-menuItem",onClick:function(){return e.onMenuItemClick(T.Ne)}},n.createElement("div",{className:"bcs-AddTaskMenu-icon"},n.createElement(B.a,{width:30,height:30})),n.createElement("div",null,n.createElement("div",{className:"bcs-AddTaskMenu-title"},n.createElement(W.b,G.a.taskAddTaskApproval)),n.createElement("div",{className:"bcs-AddTaskMenu-description"},n.createElement(W.b,G.a.taskAddTaskApprovalDescription))))))}),Z=r(492);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=this,o=(e=z(t)).call.apply(e,[this].concat(i)),r=!o||"object"!==L(o)&&"function"!=typeof o?Y(n):o,$(Y(Y(r)),"state",{error:null,isTaskFormOpen:!1,taskType:T.Ne}),$(Y(Y(r)),"handleClickMenuItem",function(e){return r.setState({isTaskFormOpen:!0,taskType:e})}),$(Y(Y(r)),"handleModalClose",function(){r.props.onTaskModalClose(),r.setState({isTaskFormOpen:!1,error:null})}),$(Y(Y(r)),"handleSubmitSuccess",function(){return r.setState({isTaskFormOpen:!1,error:null})}),$(Y(Y(r)),"handleSubmitError",function(e){return r.setState({error:e})}),r}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,n["Component"]),r=t,(o=[{key:"render",value:function(){var e=this.props,t=e.isDisabled,r=e.taskFormProps,o=this.state,a=o.isTaskFormOpen,i=o.taskType,s=o.error;return n.createElement(n.Fragment,null,n.createElement(J,{isDisabled:t,onMenuItemClick:this.handleClickMenuItem}),n.createElement(Z.a,{error:s,onSubmitError:this.handleSubmitError,onSubmitSuccess:this.handleSubmitSuccess,onModalClose:this.handleModalClose,isTaskFormOpen:a,taskFormProps:r,taskType:i}))}}])&&q(r.prototype,o),a&&q(r,a),t}();$(ee,"defaultProps",{isDisabled:!1});var te=ee,re=r(1115);r(1207);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ae(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"activityFeedInlineError",function(){return pe}),r.d(t,"ActivitySidebarComponent",function(){return de});var pe={inlineError:{title:u.a.errorOccured,content:u.a.activityFeedItemApiError}},fe="".concat(T.Hd,"_").concat(h.a);Object(v.b)(fe);var de=function(e){function t(e){var r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=se(t).call(this,e),r=!i||"object"!==ne(i)&&"function"!=typeof i?le(o):i,ue(le(le(r)),"state",{}),ue(le(le(r)),"feedSuccessCallback",function(){r.fetchFeedItems()}),ue(le(le(r)),"feedErrorCallback",function(e,t,n){r.errorCallback(e,t,n),r.fetchFeedItems()}),ue(le(le(r)),"tasksApiNew",{createTask:function(e,t,n,o,a,i){var s=r.state.currentUser,c=r.props,l=c.file,u=c.api;if(!s)throw Object(m.c)();u.getFeedAPI(!1).createTaskNew(l,s,e,t,n,o,function(){a&&a(),r.feedSuccessCallback()},function(e,t,n){i&&i(e,t,n),r.feedErrorCallback(e,t,n)}),r.fetchFeedItems()},deleteTask:function(e){var t=r.props,n=t.file,o=t.api,a=t.onTaskDelete,i=void 0===a?s.a:a;o.getFeedAPI(!1).deleteTaskNew(n,e,function(e){r.feedSuccessCallback(),i(e)},r.feedErrorCallback),r.fetchFeedItems()},updateTask:function(e,t,n){var o=r.props,a=o.file,i=o.api,c=o.onTaskUpdate,l=void 0===c?s.a:c;i.getFeedAPI(!1).updateTaskNew(a,e,function(){r.feedSuccessCallback(),t&&t(),l()},function(e,t){n&&n(e,t),r.feedErrorCallback(e,t)}),r.fetchFeedItems()},updateTaskAssignment:function(e,t,n){var o=r.props,a=o.file;o.api.getFeedAPI(!1).updateTaskCollaborator(a,e,t,n,r.feedSuccessCallback,r.feedErrorCallback),r.fetchFeedItems()}}),ue(le(le(r)),"deleteTask",function(e){var t=e.id,n=r.props,o=n.file,a=n.api,i=n.onTaskDelete,c=void 0===i?s.a:i;a.getFeedAPI(!1).deleteTask(o,t,function(e){r.feedSuccessCallback(),c(e)},r.feedErrorCallback),r.fetchFeedItems()}),ue(le(le(r)),"updateTask",function(e){var t=e.text,n=e.id,o=r.props,a=o.file;o.api.getFeedAPI(!1).updateTask(a,n,t,r.feedSuccessCallback,r.feedErrorCallback),r.fetchFeedItems()}),ue(le(le(r)),"updateTaskAssignment",function(e,t,n){var o=r.props,a=o.file;o.api.getFeedAPI(!1).updateTaskAssignment(a,e,t,n,r.feedSuccessCallback,r.feedErrorCallback),r.fetchFeedItems()}),ue(le(le(r)),"deleteComment",function(e){var t=e.id,n=e.permissions,o=r.props,a=o.file,i=o.api,c=o.onCommentDelete,l=void 0===c?s.a:c;i.getFeedAPI(!1).deleteComment(a,t,n,function(e){r.feedSuccessCallback(),l(e)},r.feedErrorCallback),r.fetchFeedItems()}),ue(le(le(r)),"createComment",function(e,t){var n=r.props,o=n.file,a=n.api,i=n.onCommentCreate,c=void 0===i?s.a:i,l=r.state.currentUser;if(!l)throw Object(m.c)();a.getFeedAPI(!1).createComment(o,l,e,t,function(e){c(e),r.feedSuccessCallback()},r.feedErrorCallback),r.fetchFeedItems()}),ue(le(le(r)),"createTask",function(e,t,n){var o=r.state.currentUser,a=r.props,i=a.file,s=a.api;if(!o)throw Object(m.c)();s.getFeedAPI(!1).createTask(i,o,e,t,n,r.feedSuccessCallback,r.feedErrorCallback),r.fetchFeedItems()}),ue(le(le(r)),"deleteAppActivity",function(e){var t=e.id,n=r.props,o=n.file;n.api.getFeedAPI(!1).deleteAppActivity(o,t,r.feedSuccessCallback,r.feedErrorCallback),r.fetchFeedItems()}),ue(le(le(r)),"fetchFeedItemsSuccessCallback",function(e){r.setState({feedItems:e,activityFeedError:void 0})}),ue(le(le(r)),"fetchFeedItemsErrorCallback",function(e){r.setState({feedItems:e,activityFeedError:pe})}),ue(le(le(r)),"errorCallback",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.error(e),r.props.onError(e,t,n)}),ue(le(le(r)),"fetchCurrentUserSuccessCallback",function(e){r.setState({currentUser:e,currentUserError:void 0})}),ue(le(le(r)),"getApproverContactsSuccessCallback",function(e){var t=e.entries;r.setState({approverSelectorContacts:t})}),ue(le(le(r)),"getMentionContactsSuccessCallback",function(e){var t=e.entries;r.setState({mentionSelectorContacts:t})}),ue(le(le(r)),"getApproverWithQuery",a()(r.getCollaborators.bind(le(le(r)),r.getApproverContactsSuccessCallback,r.errorCallback),T.F)),ue(le(le(r)),"getMentionWithQuery",a()(r.getCollaborators.bind(le(le(r)),r.getMentionContactsSuccessCallback,r.errorCallback),T.F)),ue(le(le(r)),"fetchCurrentUserErrorCallback",function(e,t){r.setState({currentUser:void 0,currentUserError:{maskError:{errorHeader:u.a.currentUserErrorHeaderMessage,errorSubHeader:u.a.defaultErrorMaskSubHeaderMessage}}}),r.errorCallback(e,t,{error:e})}),ue(le(le(r)),"getAvatarUrl",function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,o=n.file,a=n.api,e.abrupt("return",a.getUsersAPI(!1).getAvatarUrlWithAccessToken(t,o.id));case 2:case"end":return e.stop()}},e,this)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){ae(a,n,o,i,s,"next",e)}function s(e){ae(a,n,o,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()),ue(le(le(r)),"onTaskModalClose",function(){r.setState({approverSelectorContacts:[]})}),ue(le(le(r)),"renderAddTaskButton",function(){var e=r.props.isDisabled,t=r.state.approverSelectorContacts,o=le(le(r)),a=o.getApproverWithQuery,i=o.getAvatarUrl,s=o.tasksApiNew.createTask,c={isDisabled:e,onTaskModalClose:o.onTaskModalClose},l={approverSelectorContacts:t,createTask:s,getApproverWithQuery:a,getAvatarUrl:i,id:"",message:"",approvers:[]};return n.createElement(te,oe({},c,{taskFormProps:l}))}),r.props.logger.onReadyMetric({endMarkName:fe}),r}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,n["PureComponent"]),r=t,(o=[{key:"componentDidMount",value:function(){var e=this.props.currentUser;this.fetchFeedItems(!0),this.fetchCurrentUser(e)}},{key:"fetchCurrentUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props,n=r.api,o=r.file;if(!o)throw Object(m.a)();void 0===e?n.getUsersAPI(t).getUser(o.id,this.fetchCurrentUserSuccessCallback,this.fetchCurrentUserErrorCallback):this.setState({currentUser:e,currentUserError:void 0})}},{key:"fetchFeedItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props,n=r.file,o=r.api,a=r.features,i=Object(d.isFeatureEnabled)(a,"activityFeed.tasks.newApi"),s=Object(d.isFeatureEnabled)(a,"activityFeed.appActivity.enabled");o.getFeedAPI(t).feedItems(n,e,this.fetchFeedItemsSuccessCallback,this.fetchFeedItemsErrorCallback,this.errorCallback,i,s)}},{key:"getCollaborators",value:function(e,t,r){var n=this.props,o=n.file,a=n.api;r&&""!==r.trim()&&a.getFileCollaboratorsAPI(!0).getFileCollaborators(o.id,e,t,{filter_term:r})}},{key:"render",value:function(){var e=this.props,t=e.file,r=e.isDisabled,o=void 0!==r&&r,a=e.onVersionHistoryClick,i=e.getUserProfileUrl,s=e.features,c=this.state,l=c.currentUser,u=c.approverSelectorContacts,p=c.mentionSelectorContacts,f=c.feedItems,m=c.activityFeedError,b=c.currentUserError,v=Object(d.isFeatureEnabled)(s,"activityFeed.tasks.newApi")?this.tasksApiNew.updateTaskAssignment:this.updateTaskAssignment,h=Object(d.isFeatureEnabled)(s,"activityFeed.tasks.newApi")?this.tasksApiNew.updateTask:this.updateTask,y=Object(d.isFeatureEnabled)(s,"activityFeed.tasks.newApi")?this.tasksApiNew.deleteTask:this.deleteTask;return n.createElement(H.a,{className:"bcs-activity",title:re.a.getTitleForView(T.ae),actions:n.createElement(d.FeatureFlag,{feature:"activityFeed.tasks.createButton",enabled:this.renderAddTaskButton})},n.createElement(N,{file:t,activityFeedError:m,approverSelectorContacts:u,mentionSelectorContacts:p,currentUser:l,isDisabled:o,onAppActivityDelete:this.deleteAppActivity,onCommentCreate:this.createComment,onCommentDelete:this.deleteComment,onTaskCreate:this.createTask,onTaskDelete:y,onTaskUpdate:h,onTaskModalClose:this.onTaskModalClose,onTaskAssignmentUpdate:v,getApproverWithQuery:this.getApproverWithQuery,getMentionWithQuery:this.getMentionWithQuery,onVersionHistoryClick:a,getAvatarUrl:this.getAvatarUrl,getUserProfileUrl:i,feedItems:f,currentUserError:b}))}}])&&ie(r.prototype,o),i&&ie(r,i),t}();ue(de,"defaultProps",{isDisabled:!1});t.default=l()([Object(b.a)(T.Hd),Object(f.a)(T.Hd),p.b,d.withFeatureConsumer])(de)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9hY3Rpdml0eS1mZWVkL2FjdGl2aXR5LWZlZWQvYWN0aXZpdHlGZWVkVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LXNpZGViYXIvYWN0aXZpdHktZmVlZC9hY3Rpdml0eS1mZWVkL0FjdGl2aXR5RmVlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9BZGRUYXNrTWVudS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtc2lkZWJhci9BZGRUYXNrQnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL0FjdGl2aXR5U2lkZWJhci5qcyJdLCJuYW1lcyI6WyJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsIm93bktleXMiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiY29uY2F0IiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJJdGVtVHlwZXMiLCJmaWxlVmVyc2lvbiIsInVwbG9hZCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsIl9nZXRQcm90b3R5cGVPZiIsIm8iLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX3NldFByb3RvdHlwZU9mIiwicCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJBY3Rpdml0eUZlZWRfZGVmaW5lUHJvcGVydHkiLCJhY3Rpdml0eV9mZWVkX2FjdGl2aXR5X2ZlZWRfQWN0aXZpdHlGZWVkIiwiX1JlYWN0JENvbXBvbmVudCIsIkFjdGl2aXR5RmVlZCIsIl9nZXRQcm90b3R5cGVPZjIiLCJfdGhpcyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJfbGVuIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImlzSW5wdXRPcGVuIiwiX3JlZiIsInVuZGVmaW5lZCIsImN1cnJlbnRVc2VyIiwiZmVlZEl0ZW1zIiwidHlwZSIsImZlZWRDb250YWluZXIiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJldmVudCIsIm5hdGl2ZUV2ZW50Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicmVzZXRGZWVkU2Nyb2xsIiwic2V0U3RhdGUiLCJfcmVmMiIsInRleHQiLCJoYXNNZW50aW9uIiwiX3RoaXMkcHJvcHMkb25Db21tZW50Iiwib25Db21tZW50Q3JlYXRlIiwibm9vcF9kZWZhdWx0IiwiYSIsImFwcHJvdmFsQ29tbWVudEZvcm1TdWJtaXRIYW5kbGVyIiwiX3JlZjMiLCJhc3NpZ25lZXMiLCJkdWVBdCIsIl90aGlzJHByb3BzJG9uVGFza0NyZSIsIm9uVGFza0NyZWF0ZSIsImRhdGEiLCJvblZlcnNpb25IaXN0b3J5Q2xpY2siLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJfaW5oZXJpdHMiLCJyZWFjdCIsInByZXZQcm9wcyIsInByZXZTdGF0ZSIsInByZXZGZWVkSXRlbXMiLCJjdXJyRmVlZEl0ZW1zIiwicHJldklzSW5wdXRPcGVuIiwiY3VycklzSW5wdXRPcGVuIiwic3RhdGUiLCJpc0VtcHR5IiwiaGFzTG9hZGVkIiwiaGFzTW9yZUl0ZW1zIiwiZmVlZFN0YXRlIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHMiLCJ0cmFuc2xhdGlvbnMiLCJhcHByb3ZlclNlbGVjdG9yQ29udGFjdHMiLCJtZW50aW9uU2VsZWN0b3JDb250YWN0cyIsImlzRGlzYWJsZWQiLCJnZXRBdmF0YXJVcmwiLCJnZXRVc2VyUHJvZmlsZVVybCIsImZpbGUiLCJvbkFwcEFjdGl2aXR5RGVsZXRlIiwiZ2V0QXBwcm92ZXJXaXRoUXVlcnkiLCJnZXRNZW50aW9uV2l0aFF1ZXJ5IiwiYWN0aXZpdHlGZWVkRXJyb3IiLCJvbkNvbW1lbnREZWxldGUiLCJvblRhc2tEZWxldGUiLCJvblRhc2tVcGRhdGUiLCJvblRhc2tBc3NpZ25tZW50VXBkYXRlIiwib25UYXNrTW9kYWxDbG9zZSIsImhhc0NvbW1lbnRQZXJtaXNzaW9uIiwiZ2V0X2RlZmF1bHQiLCJzaG93QXBwcm92YWxDb21tZW50Rm9ybSIsImlzTG9hZGluZyIsImNsYXNzTmFtZSIsIm9uS2V5RG93biIsInJlZiIsIl9yZWY0IiwiRW1wdHlTdGF0ZSIsInNob3dDb21tZW50TWVzc2FnZSIsIkFjdGl2ZVN0YXRlIiwiaXRlbXMiLCJyZWR1Y2UiLCJjb2xsYXBzZWRGZWVkU3RhdGUiLCJmZWVkSXRlbSIsInByZXZpb3VzRmVlZEl0ZW0iLCJwb3AiLCJhY3Rpb24iLCJ0bXBNb2RpZmllZEJ5IiwibW9kaWZpZWRfYnkiLCJfcHJldmlvdXNGZWVkSXRlbSR2ZXIiLCJ2ZXJzaW9ucyIsIl9wcmV2aW91c0ZlZWRJdGVtJHZlcjIiLCJ2ZXJzaW9uX3N0YXJ0IiwicGFyc2VJbnQiLCJ2ZXJzaW9uX251bWJlciIsIl9wcmV2aW91c0ZlZWRJdGVtJHZlcjMiLCJ2ZXJzaW9uX2VuZCIsInByZXZNb2RpZmllZEJ5IiwiZXNfY29uc3RhbnRzIiwidG1wQ3VyTW9kaWZpZWRCeSIsImNyZWF0ZWRfYXQiLCJ0cmFzaGVkX2F0IiwiaWQiLCJwYXJzZWRWZXJzaW9uTnVtYmVyIiwiY29sbGFib3JhdG9ycyIsIm1vZGlmaWVkQnkiLCJNYXRoIiwibWluIiwibWF4Iiwib25UYXNrRWRpdCIsIm9uVmVyc2lvbkluZm8iLCJvcGVuVmVyc2lvbkhpc3RvcnlQb3B1cCIsImFwcHJvdmFsX2NvbW1lbnRfZm9ybSIsIm9uU3VibWl0IiwiY2xhc3NuYW1lc19kZWZhdWx0IiwiYmNzLWlzLWRpc2FibGVkIiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZVRhc2siLCJ1cGRhdGVUYXNrIiwiaXNPcGVuIiwidXNlciIsIm9uQ2FuY2VsIiwiYXBwcm92YWxDb21tZW50Rm9ybUNhbmNlbEhhbmRsZXIiLCJvbkZvY3VzIiwiYXBwcm92YWxDb21tZW50Rm9ybUZvY3VzSGFuZGxlciIsImVsZW1lbnRzX2NvbnRlbnRfc2lkZWJhcl9BZGRUYXNrTWVudSIsImRyb3Bkb3duX21lbnUiLCJjb25zdHJhaW5Ub1Njcm9sbFBhcmVudCIsImlzUmlnaHRBbGlnbmVkIiwiY29tcG9uZW50c19idXR0b24iLCJNZW51VG9nZ2xlIiwiaW5kZXhfZXMiLCJjb250ZW50X3NpZGViYXJfbWVzc2FnZXMiLCJ0YXNrc0FkZFRhc2siLCJtZW51Iiwib25DbGljayIsIm9uTWVudUl0ZW1DbGljayIsIkljb25UYXNrR2VuZXJhbCIsIndpZHRoIiwiaGVpZ2h0IiwidGFza0FkZFRhc2tHZW5lcmFsIiwidGFza0FkZFRhc2tHZW5lcmFsRGVzY3JpcHRpb24iLCJJY29uVGFza0FwcHJvdmFsIiwidGFza0FkZFRhc2tBcHByb3ZhbCIsInRhc2tBZGRUYXNrQXBwcm92YWxEZXNjcmlwdGlvbiIsIkFkZFRhc2tCdXR0b25fdHlwZW9mIiwiQWRkVGFza0J1dHRvbl9kZWZpbmVQcm9wZXJ0aWVzIiwiQWRkVGFza0J1dHRvbl9nZXRQcm90b3R5cGVPZiIsIkFkZFRhc2tCdXR0b25fc2V0UHJvdG90eXBlT2YiLCJBZGRUYXNrQnV0dG9uX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIkFkZFRhc2tCdXR0b25fZGVmaW5lUHJvcGVydHkiLCJBZGRUYXNrQnV0dG9uX0FkZFRhc2tCdXR0b24iLCJBZGRUYXNrQnV0dG9uIiwiQWRkVGFza0J1dHRvbl9jbGFzc0NhbGxDaGVjayIsImVycm9yIiwiaXNUYXNrRm9ybU9wZW4iLCJ0YXNrVHlwZSIsImUiLCJBZGRUYXNrQnV0dG9uX2luaGVyaXRzIiwidGFza0Zvcm1Qcm9wcyIsIl90aGlzJHN0YXRlIiwiaGFuZGxlQ2xpY2tNZW51SXRlbSIsIlRhc2tNb2RhbCIsIm9uU3VibWl0RXJyb3IiLCJoYW5kbGVTdWJtaXRFcnJvciIsIm9uU3VibWl0U3VjY2VzcyIsImhhbmRsZVN1Ym1pdFN1Y2Nlc3MiLCJvbk1vZGFsQ2xvc2UiLCJoYW5kbGVNb2RhbENsb3NlIiwiY29udGVudF9zaWRlYmFyX0FkZFRhc2tCdXR0b24iLCJBY3Rpdml0eVNpZGViYXJfdHlwZW9mIiwiQWN0aXZpdHlTaWRlYmFyX2V4dGVuZHMiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJhcmciLCJpbmZvIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiQWN0aXZpdHlTaWRlYmFyX2RlZmluZVByb3BlcnRpZXMiLCJBY3Rpdml0eVNpZGViYXJfZ2V0UHJvdG90eXBlT2YiLCJBY3Rpdml0eVNpZGViYXJfc2V0UHJvdG90eXBlT2YiLCJBY3Rpdml0eVNpZGViYXJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiQWN0aXZpdHlTaWRlYmFyX2RlZmluZVByb3BlcnR5IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiYWN0aXZpdHlGZWVkSW5saW5lRXJyb3IiLCJBY3Rpdml0eVNpZGViYXJfQWN0aXZpdHlTaWRlYmFyIiwiaW5saW5lRXJyb3IiLCJ0aXRsZSIsIm1lc3NhZ2VzIiwiZXJyb3JPY2N1cmVkIiwiY29udGVudCIsImFjdGl2aXR5RmVlZEl0ZW1BcGlFcnJvciIsIk1BUktfTkFNRV9KU19SRUFEWSIsImNvbnN0YW50cyIsInBlcmZvcm1hbmNlIiwiX1JlYWN0JFB1cmVDb21wb25lbnQiLCJBY3Rpdml0eVNpZGViYXIiLCJfcHJvcHMiLCJBY3Rpdml0eVNpZGViYXJfY2xhc3NDYWxsQ2hlY2siLCJmZXRjaEZlZWRJdGVtcyIsImNvZGUiLCJjb250ZXh0SW5mbyIsImVycm9yQ2FsbGJhY2siLCJtZXNzYWdlIiwib25TdWNjZXNzIiwib25FcnJvciIsImFwaSIsInV0aWxzX2Vycm9yIiwiZ2V0RmVlZEFQSSIsImNyZWF0ZVRhc2tOZXciLCJmZWVkU3VjY2Vzc0NhbGxiYWNrIiwiZmVlZEVycm9yQ2FsbGJhY2siLCJkZWxldGVUYXNrIiwidGFzayIsIl90aGlzJHByb3BzMiIsIl90aGlzJHByb3BzMiRvblRhc2tEZSIsImRlbGV0ZVRhc2tOZXciLCJ0YXNrSWQiLCJfdGhpcyRwcm9wczMiLCJfdGhpcyRwcm9wczMkb25UYXNrVXAiLCJ1cGRhdGVUYXNrTmV3IiwidXBkYXRlVGFza0Fzc2lnbm1lbnQiLCJ0YXNrQXNzaWdubWVudElkIiwic3RhdHVzIiwiX3RoaXMkcHJvcHM0IiwidXBkYXRlVGFza0NvbGxhYm9yYXRvciIsIl90aGlzJHByb3BzNSIsIl90aGlzJHByb3BzNSRvblRhc2tEZSIsIl90aGlzJHByb3BzNiIsIl90aGlzJHByb3BzNyIsInBlcm1pc3Npb25zIiwiX3RoaXMkcHJvcHM4IiwiX3RoaXMkcHJvcHM4JG9uQ29tbWVuIiwiZGVsZXRlQ29tbWVudCIsImNvbW1lbnQiLCJfdGhpcyRwcm9wczkiLCJfdGhpcyRwcm9wczkkb25Db21tZW4iLCJfdGhpcyRwcm9wczEwIiwiX3RoaXMkcHJvcHMxMSIsImRlbGV0ZUFwcEFjdGl2aXR5IiwiY29uc29sZSIsImN1cnJlbnRVc2VyRXJyb3IiLCJlbnRyaWVzIiwiZGVib3VuY2VfZGVmYXVsdCIsImdldENvbGxhYm9yYXRvcnMiLCJiaW5kIiwiZ2V0QXBwcm92ZXJDb250YWN0c1N1Y2Nlc3NDYWxsYmFjayIsImdldE1lbnRpb25Db250YWN0c1N1Y2Nlc3NDYWxsYmFjayIsIm1hc2tFcnJvciIsImVycm9ySGVhZGVyIiwiY3VycmVudFVzZXJFcnJvckhlYWRlck1lc3NhZ2UiLCJlcnJvclN1YkhlYWRlciIsImRlZmF1bHRFcnJvck1hc2tTdWJIZWFkZXJNZXNzYWdlIiwiZm4iLCJfcmVmNSIsInJlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwidXNlcklkIiwiX3RoaXMkcHJvcHMxMiIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYWJydXB0IiwiZ2V0VXNlcnNBUEkiLCJnZXRBdmF0YXJVcmxXaXRoQWNjZXNzVG9rZW4iLCJzdG9wIiwiZXJyIiwiX3giLCJfYXNzZXJ0VGhpc0luaXRpYWxpemUiLCJ0YXNrc0FwaU5ldyIsImFwcHJvdmVycyIsImxvZ2dlciIsIm9uUmVhZHlNZXRyaWMiLCJlbmRNYXJrTmFtZSIsIkFjdGl2aXR5U2lkZWJhcl9pbmhlcml0cyIsImZldGNoQ3VycmVudFVzZXIiLCJzaG91bGREZXN0cm95IiwiX3RoaXMkcHJvcHMxMyIsImdldFVzZXIiLCJmZXRjaEN1cnJlbnRVc2VyU3VjY2Vzc0NhbGxiYWNrIiwiZmV0Y2hDdXJyZW50VXNlckVycm9yQ2FsbGJhY2siLCJzaG91bGRSZWZyZXNoQ2FjaGUiLCJfdGhpcyRwcm9wczE0IiwiZmVhdHVyZXMiLCJzaG91bGRTaG93TmV3VGFza3MiLCJmZWF0dXJlX2NoZWNraW5nIiwic2hvdWxkU2hvd0FwcEFjdGl2aXR5IiwiZmV0Y2hGZWVkSXRlbXNTdWNjZXNzQ2FsbGJhY2siLCJmZXRjaEZlZWRJdGVtc0Vycm9yQ2FsbGJhY2siLCJzdWNjZXNzQ2FsbGJhY2siLCJzZWFyY2hTdHIiLCJfdGhpcyRwcm9wczE1IiwidHJpbSIsImdldEZpbGVDb2xsYWJvcmF0b3JzQVBJIiwiZ2V0RmlsZUNvbGxhYm9yYXRvcnMiLCJmaWx0ZXJfdGVybSIsIl90aGlzJHByb3BzMTYiLCJfdGhpcyRwcm9wczE2JGlzRGlzYWIiLCJTaWRlYmFyQ29udGVudCIsIlNpZGViYXJVdGlscyIsImdldFRpdGxlRm9yVmlldyIsImFjdGlvbnMiLCJmZWF0dXJlIiwiZW5hYmxlZCIsInJlbmRlckFkZFRhc2tCdXR0b24iLCJmbG93X2RlZmF1bHQiLCJjb21tb25fbG9nZ2VyIiwiZXJyb3JfYm91bmRhcnkiLCJhcGlfY29udGV4dCJdLCJtYXBwaW5ncyI6Im1YQUFBLFNBQUFBLEVBQUFDLEdBQWdDLFFBQUFDLEVBQUEsRUFBZ0JBLEVBQUFDLFVBQUFDLE9BQXNCRixJQUFBLENBQU8sSUFBQUcsRUFBQSxNQUFBRixVQUFBRCxHQUFBQyxVQUFBRCxHQUFBLEdBQXVESSxFQUFBQyxPQUFBQyxLQUFBSCxHQUFtQyxtQkFBQUUsT0FBQUUsd0JBQTBESCxJQUFBSSxPQUFBSCxPQUFBRSxzQkFBQUosR0FBQU0sT0FBQSxTQUFBQyxHQUFzRixPQUFBTCxPQUFBTSx5QkFBQVIsRUFBQU8sR0FBQUUsZUFBdUVSLEVBQUFTLFFBQUEsU0FBQUMsR0FBaUNDLEVBQUFoQixFQUFBZSxFQUFBWCxFQUFBVyxNQUFpRCxPQUFBZixFQUVoZCxTQUFBZ0IsRUFBQUMsRUFBQUYsRUFBQUcsR0FBbU0sT0FBeEpILEtBQUFFLEVBQWtCWCxPQUFBYSxlQUFBRixFQUFBRixFQUFBLENBQWtDRyxRQUFBTCxZQUFBLEVBQUFPLGNBQUEsRUFBQUMsVUFBQSxJQUFnRkosRUFBQUYsR0FBQUcsRUFBb0JELEVBTzVMLElBQUFLLEVBQUEsQ0FDUEMsWUFBQSxlQUNBQyxPQUFBLGtCQ1hBLFNBQUFDLEVBQUFSLEdBQXdVLE9BQXRPUSxFQUEzRSxtQkFBQUMsUUFBQSxpQkFBQUEsT0FBQUMsU0FBMkUsU0FBQVYsR0FBa0MsY0FBQUEsR0FBK0IsU0FBQUEsR0FBa0MsT0FBQUEsR0FBQSxtQkFBQVMsUUFBQVQsRUFBQVcsY0FBQUYs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dGVudCI6WyJmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qKlxuICogXG4gKiBAZmlsZSBBY3Rpdml0eSBmZWVkIHV0aWxpdHkgbWV0aG9kc1xuICovXG5pbXBvcnQgeyBQTEFDRUhPTERFUl9VU0VSIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29uc3RhbnRzJztcbmV4cG9ydCB2YXIgSXRlbVR5cGVzID0ge1xuICBmaWxlVmVyc2lvbjogJ2ZpbGVfdmVyc2lvbicsXG4gIHVwbG9hZDogJ3VwbG9hZCdcbn07XG5leHBvcnQgZnVuY3Rpb24gY29sbGFwc2VGZWVkU3RhdGUoZmVlZFN0YXRlKSB7XG4gIGlmICghZmVlZFN0YXRlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIGZlZWRTdGF0ZS5yZWR1Y2UoZnVuY3Rpb24gKGNvbGxhcHNlZEZlZWRTdGF0ZSwgZmVlZEl0ZW0pIHtcbiAgICB2YXIgcHJldmlvdXNGZWVkSXRlbSA9IGNvbGxhcHNlZEZlZWRTdGF0ZS5wb3AoKTtcblxuICAgIGlmICghcHJldmlvdXNGZWVkSXRlbSkge1xuICAgICAgcmV0dXJuIGNvbGxhcHNlZEZlZWRTdGF0ZS5jb25jYXQoW2ZlZWRJdGVtXSk7XG4gICAgfVxuXG4gICAgaWYgKGZlZWRJdGVtLnR5cGUgPT09IEl0ZW1UeXBlcy5maWxlVmVyc2lvbiAmJiBwcmV2aW91c0ZlZWRJdGVtLnR5cGUgPT09IEl0ZW1UeXBlcy5maWxlVmVyc2lvbiAmJiBmZWVkSXRlbS5hY3Rpb24gPT09IEl0ZW1UeXBlcy51cGxvYWQgJiYgcHJldmlvdXNGZWVkSXRlbS5hY3Rpb24gPT09IEl0ZW1UeXBlcy51cGxvYWQpIHtcbiAgICAgIHZhciB0bXBNb2RpZmllZEJ5ID0gcHJldmlvdXNGZWVkSXRlbS5tb2RpZmllZF9ieSxcbiAgICAgICAgICBfcHJldmlvdXNGZWVkSXRlbSR2ZXIgPSBwcmV2aW91c0ZlZWRJdGVtLnZlcnNpb25zLFxuICAgICAgICAgIHZlcnNpb25zID0gX3ByZXZpb3VzRmVlZEl0ZW0kdmVyID09PSB2b2lkIDAgPyBbcHJldmlvdXNGZWVkSXRlbV0gOiBfcHJldmlvdXNGZWVkSXRlbSR2ZXIsXG4gICAgICAgICAgX3ByZXZpb3VzRmVlZEl0ZW0kdmVyMiA9IHByZXZpb3VzRmVlZEl0ZW0udmVyc2lvbl9zdGFydCxcbiAgICAgICAgICB2ZXJzaW9uX3N0YXJ0ID0gX3ByZXZpb3VzRmVlZEl0ZW0kdmVyMiA9PT0gdm9pZCAwID8gcGFyc2VJbnQocHJldmlvdXNGZWVkSXRlbS52ZXJzaW9uX251bWJlciwgMTApIDogX3ByZXZpb3VzRmVlZEl0ZW0kdmVyMixcbiAgICAgICAgICBfcHJldmlvdXNGZWVkSXRlbSR2ZXIzID0gcHJldmlvdXNGZWVkSXRlbS52ZXJzaW9uX2VuZCxcbiAgICAgICAgICB2ZXJzaW9uX2VuZCA9IF9wcmV2aW91c0ZlZWRJdGVtJHZlcjMgPT09IHZvaWQgMCA/IHBhcnNlSW50KHByZXZpb3VzRmVlZEl0ZW0udmVyc2lvbl9udW1iZXIsIDEwKSA6IF9wcmV2aW91c0ZlZWRJdGVtJHZlcjM7XG4gICAgICB2YXIgcHJldk1vZGlmaWVkQnkgPSB0bXBNb2RpZmllZEJ5IHx8IFBMQUNFSE9MREVSX1VTRVI7XG4gICAgICB2YXIgYWN0aW9uID0gZmVlZEl0ZW0uYWN0aW9uLFxuICAgICAgICAgIHRtcEN1ck1vZGlmaWVkQnkgPSBmZWVkSXRlbS5tb2RpZmllZF9ieSxcbiAgICAgICAgICBjcmVhdGVkX2F0ID0gZmVlZEl0ZW0uY3JlYXRlZF9hdCxcbiAgICAgICAgICB0cmFzaGVkX2F0ID0gZmVlZEl0ZW0udHJhc2hlZF9hdCxcbiAgICAgICAgICBpZCA9IGZlZWRJdGVtLmlkLFxuICAgICAgICAgIHZlcnNpb25fbnVtYmVyID0gZmVlZEl0ZW0udmVyc2lvbl9udW1iZXI7XG4gICAgICB2YXIgcGFyc2VkVmVyc2lvbk51bWJlciA9IHBhcnNlSW50KHZlcnNpb25fbnVtYmVyLCAxMCk7XG5cbiAgICAgIHZhciBjb2xsYWJvcmF0b3JzID0gcHJldmlvdXNGZWVkSXRlbS5jb2xsYWJvcmF0b3JzIHx8IF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJldk1vZGlmaWVkQnkuaWQsIF9vYmplY3RTcHJlYWQoe30sIHByZXZNb2RpZmllZEJ5KSk7XG5cbiAgICAgIHZhciBtb2RpZmllZEJ5ID0gdG1wQ3VyTW9kaWZpZWRCeSB8fCBQTEFDRUhPTERFUl9VU0VSOyAvLyBhZGQgY29sbGFib3JhdG9yc1xuXG4gICAgICBjb2xsYWJvcmF0b3JzW21vZGlmaWVkQnkuaWRdID0gX29iamVjdFNwcmVhZCh7fSwgbW9kaWZpZWRCeSk7XG4gICAgICByZXR1cm4gY29sbGFwc2VkRmVlZFN0YXRlLmNvbmNhdChbe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgY29sbGFib3JhdG9yczogY29sbGFib3JhdG9ycyxcbiAgICAgICAgY3JlYXRlZF9hdDogY3JlYXRlZF9hdCxcbiAgICAgICAgbW9kaWZpZWRfYnk6IG1vZGlmaWVkQnksXG4gICAgICAgIHRyYXNoZWRfYXQ6IHRyYXNoZWRfYXQsXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgdHlwZTogSXRlbVR5cGVzLmZpbGVWZXJzaW9uLFxuICAgICAgICB2ZXJzaW9uX251bWJlcjogdmVyc2lvbl9udW1iZXIsXG4gICAgICAgIHZlcnNpb25zOiB2ZXJzaW9ucy5jb25jYXQoW2ZlZWRJdGVtXSksXG4gICAgICAgIHZlcnNpb25fc3RhcnQ6IE1hdGgubWluKHZlcnNpb25fc3RhcnQsIHBhcnNlZFZlcnNpb25OdW1iZXIpLFxuICAgICAgICB2ZXJzaW9uX2VuZDogTWF0aC5tYXgodmVyc2lvbl9lbmQsIHBhcnNlZFZlcnNpb25OdW1iZXIpXG4gICAgICB9XSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxhcHNlZEZlZWRTdGF0ZS5jb25jYXQoW3ByZXZpb3VzRmVlZEl0ZW0sIGZlZWRJdGVtXSk7XG4gIH0sIFtdKTtcbn0iLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIENvbXBvbmVudCBmb3IgQWN0aXZpdHkgZmVlZFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZ2V0UHJvcCBmcm9tICdsb2Rhc2gvZ2V0JztcbmltcG9ydCBub29wIGZyb20gJ2xvZGFzaC9ub29wJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IEFjdGl2ZVN0YXRlIGZyb20gJy4vQWN0aXZlU3RhdGUnO1xuaW1wb3J0IEFwcHJvdmFsQ29tbWVudEZvcm0gZnJvbSAnLi4vYXBwcm92YWwtY29tbWVudC1mb3JtJztcbmltcG9ydCBFbXB0eVN0YXRlIGZyb20gJy4vRW1wdHlTdGF0ZSc7XG5pbXBvcnQgeyBjb2xsYXBzZUZlZWRTdGF0ZSwgSXRlbVR5cGVzIH0gZnJvbSAnLi9hY3Rpdml0eUZlZWRVdGlscyc7XG5pbXBvcnQgJy4vQWN0aXZpdHlGZWVkLnNjc3MnO1xuXG52YXIgQWN0aXZpdHlGZWVkID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhBY3Rpdml0eUZlZWQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFjdGl2aXR5RmVlZCgpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY3Rpdml0eUZlZWQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoQWN0aXZpdHlGZWVkKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwic3RhdGVcIiwge1xuICAgICAgaXNJbnB1dE9wZW46IGZhbHNlXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiaXNFbXB0eVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogX3RoaXMucHJvcHMsXG4gICAgICAgICAgY3VycmVudFVzZXIgPSBfcmVmLmN1cnJlbnRVc2VyLFxuICAgICAgICAgIGZlZWRJdGVtcyA9IF9yZWYuZmVlZEl0ZW1zO1xuXG4gICAgICByZXR1cm4gIWN1cnJlbnRVc2VyIHx8ICFmZWVkSXRlbXMgfHwgZmVlZEl0ZW1zLmxlbmd0aCA9PT0gMCB8fCBmZWVkSXRlbXMubGVuZ3RoID09PSAxICYmIGZlZWRJdGVtc1swXS50eXBlID09PSBJdGVtVHlwZXMuZmlsZVZlcnNpb247XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwicmVzZXRGZWVkU2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5mZWVkQ29udGFpbmVyKSB7XG4gICAgICAgIF90aGlzLmZlZWRDb250YWluZXIuc2Nyb2xsVG9wID0gX3RoaXMuZmVlZENvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25LZXlEb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnQubmF0aXZlRXZlbnQ7XG4gICAgICBuYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJhcHByb3ZhbENvbW1lbnRGb3JtRm9jdXNIYW5kbGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlc2V0RmVlZFNjcm9sbCgpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzSW5wdXRPcGVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJhcHByb3ZhbENvbW1lbnRGb3JtQ2FuY2VsSGFuZGxlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0lucHV0T3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImFwcHJvdmFsQ29tbWVudEZvcm1TdWJtaXRIYW5kbGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzSW5wdXRPcGVuOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25Db21tZW50Q3JlYXRlXCIsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIHRleHQgPSBfcmVmMi50ZXh0LFxuICAgICAgICAgIGhhc01lbnRpb24gPSBfcmVmMi5oYXNNZW50aW9uO1xuICAgICAgdmFyIF90aGlzJHByb3BzJG9uQ29tbWVudCA9IF90aGlzLnByb3BzLm9uQ29tbWVudENyZWF0ZSxcbiAgICAgICAgICBvbkNvbW1lbnRDcmVhdGUgPSBfdGhpcyRwcm9wcyRvbkNvbW1lbnQgPT09IHZvaWQgMCA/IG5vb3AgOiBfdGhpcyRwcm9wcyRvbkNvbW1lbnQ7XG4gICAgICBvbkNvbW1lbnRDcmVhdGUodGV4dCwgaGFzTWVudGlvbik7XG5cbiAgICAgIF90aGlzLmFwcHJvdmFsQ29tbWVudEZvcm1TdWJtaXRIYW5kbGVyKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25UYXNrQ3JlYXRlXCIsIGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgdmFyIHRleHQgPSBfcmVmMy50ZXh0LFxuICAgICAgICAgIGFzc2lnbmVlcyA9IF9yZWYzLmFzc2lnbmVlcyxcbiAgICAgICAgICBkdWVBdCA9IF9yZWYzLmR1ZUF0O1xuICAgICAgdmFyIF90aGlzJHByb3BzJG9uVGFza0NyZSA9IF90aGlzLnByb3BzLm9uVGFza0NyZWF0ZSxcbiAgICAgICAgICBvblRhc2tDcmVhdGUgPSBfdGhpcyRwcm9wcyRvblRhc2tDcmUgPT09IHZvaWQgMCA/IG5vb3AgOiBfdGhpcyRwcm9wcyRvblRhc2tDcmU7XG4gICAgICBvblRhc2tDcmVhdGUodGV4dCwgYXNzaWduZWVzLCBkdWVBdCk7XG5cbiAgICAgIF90aGlzLmFwcHJvdmFsQ29tbWVudEZvcm1TdWJtaXRIYW5kbGVyKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib3BlblZlcnNpb25IaXN0b3J5UG9wdXBcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciB2ZXJzaW9uSW5mb0hhbmRsZXIgPSBfdGhpcy5wcm9wcy5vblZlcnNpb25IaXN0b3J5Q2xpY2sgfHwgbm9vcDtcbiAgICAgIHZlcnNpb25JbmZvSGFuZGxlcihkYXRhKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBY3Rpdml0eUZlZWQsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5yZXNldEZlZWRTY3JvbGwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFyIHByZXZGZWVkSXRlbXMgPSBwcmV2UHJvcHMuZmVlZEl0ZW1zO1xuICAgICAgdmFyIGN1cnJGZWVkSXRlbXMgPSB0aGlzLnByb3BzLmZlZWRJdGVtcztcbiAgICAgIHZhciBwcmV2SXNJbnB1dE9wZW4gPSBwcmV2U3RhdGUuaXNJbnB1dE9wZW47XG4gICAgICB2YXIgY3VycklzSW5wdXRPcGVuID0gdGhpcy5zdGF0ZS5pc0lucHV0T3BlbjtcbiAgICAgIHZhciBpc0VtcHR5ID0gdGhpcy5pc0VtcHR5KHRoaXMucHJvcHMpO1xuICAgICAgdmFyIHdhc0VtcHR5ID0gdGhpcy5pc0VtcHR5KHByZXZQcm9wcyk7XG4gICAgICB2YXIgaGFzTG9hZGVkID0gaXNFbXB0eSAhPT0gd2FzRW1wdHkgJiYgIWlzRW1wdHk7XG4gICAgICB2YXIgaGFzTW9yZUl0ZW1zID0gcHJldkZlZWRJdGVtcyAmJiBjdXJyRmVlZEl0ZW1zICYmIHByZXZGZWVkSXRlbXMubGVuZ3RoIDwgY3VyckZlZWRJdGVtcy5sZW5ndGg7XG4gICAgICB2YXIgaGFzTmV3SXRlbXMgPSAhcHJldkZlZWRJdGVtcyAmJiBjdXJyRmVlZEl0ZW1zO1xuICAgICAgdmFyIGhhc0lucHV0T3BlbmVkID0gY3VycklzSW5wdXRPcGVuICE9PSBwcmV2SXNJbnB1dE9wZW47XG5cbiAgICAgIGlmIChoYXNMb2FkZWQgfHwgaGFzTW9yZUl0ZW1zIHx8IGhhc05ld0l0ZW1zIHx8IGhhc0lucHV0T3BlbmVkKSB7XG4gICAgICAgIHRoaXMucmVzZXRGZWVkU2Nyb2xsKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVjdHMgd2hldGhlciBvciBub3QgdGhlIGVtcHR5IHN0YXRlIHNob3VsZCBiZSBzaG93bi5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY3VycmVudFVzZXIgLSBUaGUgdXNlciB0aGF0IGlzIGxvZ2dlZCBpbnRvIHRoZSBhY2NvdW50XG4gICAgICogQHBhcmFtIHtvYmplY3R9IGZlZWRJdGVtcyAtIEl0ZW1zIGluIHRoZSBhY3Rpdml0eSBmZWVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdHJhbnNsYXRpb25zID0gX3RoaXMkcHJvcHMudHJhbnNsYXRpb25zLFxuICAgICAgICAgIGFwcHJvdmVyU2VsZWN0b3JDb250YWN0cyA9IF90aGlzJHByb3BzLmFwcHJvdmVyU2VsZWN0b3JDb250YWN0cyxcbiAgICAgICAgICBtZW50aW9uU2VsZWN0b3JDb250YWN0cyA9IF90aGlzJHByb3BzLm1lbnRpb25TZWxlY3RvckNvbnRhY3RzLFxuICAgICAgICAgIGN1cnJlbnRVc2VyID0gX3RoaXMkcHJvcHMuY3VycmVudFVzZXIsXG4gICAgICAgICAgaXNEaXNhYmxlZCA9IF90aGlzJHByb3BzLmlzRGlzYWJsZWQsXG4gICAgICAgICAgZ2V0QXZhdGFyVXJsID0gX3RoaXMkcHJvcHMuZ2V0QXZhdGFyVXJsLFxuICAgICAgICAgIGdldFVzZXJQcm9maWxlVXJsID0gX3RoaXMkcHJvcHMuZ2V0VXNlclByb2ZpbGVVcmwsXG4gICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzLmZpbGUsXG4gICAgICAgICAgb25BcHBBY3Rpdml0eURlbGV0ZSA9IF90aGlzJHByb3BzLm9uQXBwQWN0aXZpdHlEZWxldGUsXG4gICAgICAgICAgb25Db21tZW50Q3JlYXRlID0gX3RoaXMkcHJvcHMub25Db21tZW50Q3JlYXRlLFxuICAgICAgICAgIGdldEFwcHJvdmVyV2l0aFF1ZXJ5ID0gX3RoaXMkcHJvcHMuZ2V0QXBwcm92ZXJXaXRoUXVlcnksXG4gICAgICAgICAgZ2V0TWVudGlvbldpdGhRdWVyeSA9IF90aGlzJHByb3BzLmdldE1lbnRpb25XaXRoUXVlcnksXG4gICAgICAgICAgYWN0aXZpdHlGZWVkRXJyb3IgPSBfdGhpcyRwcm9wcy5hY3Rpdml0eUZlZWRFcnJvcixcbiAgICAgICAgICBvblZlcnNpb25IaXN0b3J5Q2xpY2sgPSBfdGhpcyRwcm9wcy5vblZlcnNpb25IaXN0b3J5Q2xpY2ssXG4gICAgICAgICAgb25Db21tZW50RGVsZXRlID0gX3RoaXMkcHJvcHMub25Db21tZW50RGVsZXRlLFxuICAgICAgICAgIG9uVGFza0RlbGV0ZSA9IF90aGlzJHByb3BzLm9uVGFza0RlbGV0ZSxcbiAgICAgICAgICBvblRhc2tVcGRhdGUgPSBfdGhpcyRwcm9wcy5vblRhc2tVcGRhdGUsXG4gICAgICAgICAgb25UYXNrQXNzaWdubWVudFVwZGF0ZSA9IF90aGlzJHByb3BzLm9uVGFza0Fzc2lnbm1lbnRVcGRhdGUsXG4gICAgICAgICAgb25UYXNrTW9kYWxDbG9zZSA9IF90aGlzJHByb3BzLm9uVGFza01vZGFsQ2xvc2UsXG4gICAgICAgICAgZmVlZEl0ZW1zID0gX3RoaXMkcHJvcHMuZmVlZEl0ZW1zO1xuICAgICAgdmFyIGlzSW5wdXRPcGVuID0gdGhpcy5zdGF0ZS5pc0lucHV0T3BlbjtcbiAgICAgIHZhciBoYXNDb21tZW50UGVybWlzc2lvbiA9IGdldFByb3AoZmlsZSwgJ3Blcm1pc3Npb25zLmNhbl9jb21tZW50JywgZmFsc2UpO1xuICAgICAgdmFyIHNob3dBcHByb3ZhbENvbW1lbnRGb3JtID0gISEoY3VycmVudFVzZXIgJiYgaGFzQ29tbWVudFBlcm1pc3Npb24gJiYgb25Db21tZW50Q3JlYXRlICYmIGZlZWRJdGVtcyk7XG4gICAgICB2YXIgaXNFbXB0eSA9IHRoaXMuaXNFbXB0eSh0aGlzLnByb3BzKTtcbiAgICAgIHZhciBpc0xvYWRpbmcgPSAhZmVlZEl0ZW1zIHx8ICFjdXJyZW50VXNlcjtcbiAgICAgIHJldHVybiAoLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJiY3MtYWN0aXZpdHktZmVlZFwiLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd25cbiAgICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZjQpIHtcbiAgICAgICAgICAgIF90aGlzMi5mZWVkQ29udGFpbmVyID0gX3JlZjQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjbGFzc05hbWU6IFwiYmNzLWFjdGl2aXR5LWZlZWQtaXRlbXMtY29udGFpbmVyXCJcbiAgICAgICAgfSwgaXNFbXB0eSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRW1wdHlTdGF0ZSwge1xuICAgICAgICAgIGlzTG9hZGluZzogaXNMb2FkaW5nLFxuICAgICAgICAgIHNob3dDb21tZW50TWVzc2FnZTogc2hvd0FwcHJvdmFsQ29tbWVudEZvcm1cbiAgICAgICAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjdGl2ZVN0YXRlLCBfZXh0ZW5kcyh7fSwgYWN0aXZpdHlGZWVkRXJyb3IsIHtcbiAgICAgICAgICBpdGVtczogY29sbGFwc2VGZWVkU3RhdGUoZmVlZEl0ZW1zKSxcbiAgICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICAgIGN1cnJlbnRVc2VyOiBjdXJyZW50VXNlcixcbiAgICAgICAgICBvblRhc2tBc3NpZ25tZW50VXBkYXRlOiBvblRhc2tBc3NpZ25tZW50VXBkYXRlLFxuICAgICAgICAgIG9uQXBwQWN0aXZpdHlEZWxldGU6IG9uQXBwQWN0aXZpdHlEZWxldGUsXG4gICAgICAgICAgb25Db21tZW50RGVsZXRlOiBoYXNDb21tZW50UGVybWlzc2lvbiA/IG9uQ29tbWVudERlbGV0ZSA6IG5vb3AgLy8gV2UgZG9uJ3Qga25vdyB0YXNrIGVkaXQvZGVsZXRlIHNwZWNpZmljIHBlcm1pc3Npb25zLFxuICAgICAgICAgIC8vIGJ1dCB5b3UgbXVzdCBhdCBsZWFzdCBiZSBhYmxlIHRvIGNvbW1lbnQgdG8gZG8gdGhlc2Ugb3BlcmF0aW9ucy5cbiAgICAgICAgICAsXG4gICAgICAgICAgb25UYXNrRGVsZXRlOiBoYXNDb21tZW50UGVybWlzc2lvbiA/IG9uVGFza0RlbGV0ZSA6IG5vb3AsXG4gICAgICAgICAgb25UYXNrRWRpdDogaGFzQ29tbWVudFBlcm1pc3Npb24gPyBvblRhc2tVcGRhdGUgOiBub29wLFxuICAgICAgICAgIG9uVGFza01vZGFsQ2xvc2U6IG9uVGFza01vZGFsQ2xvc2UsXG4gICAgICAgICAgb25WZXJzaW9uSW5mbzogb25WZXJzaW9uSGlzdG9yeUNsaWNrID8gdGhpcy5vcGVuVmVyc2lvbkhpc3RvcnlQb3B1cCA6IG51bGwsXG4gICAgICAgICAgdHJhbnNsYXRpb25zOiB0cmFuc2xhdGlvbnMsXG4gICAgICAgICAgZ2V0QXZhdGFyVXJsOiBnZXRBdmF0YXJVcmwsXG4gICAgICAgICAgZ2V0VXNlclByb2ZpbGVVcmw6IGdldFVzZXJQcm9maWxlVXJsLFxuICAgICAgICAgIG1lbnRpb25TZWxlY3RvckNvbnRhY3RzOiBtZW50aW9uU2VsZWN0b3JDb250YWN0cyxcbiAgICAgICAgICBnZXRNZW50aW9uV2l0aFF1ZXJ5OiBnZXRNZW50aW9uV2l0aFF1ZXJ5LFxuICAgICAgICAgIGFwcHJvdmVyU2VsZWN0b3JDb250YWN0czogYXBwcm92ZXJTZWxlY3RvckNvbnRhY3RzLFxuICAgICAgICAgIGdldEFwcHJvdmVyV2l0aFF1ZXJ5OiBnZXRBcHByb3ZlcldpdGhRdWVyeVxuICAgICAgICB9KSkpLCBzaG93QXBwcm92YWxDb21tZW50Rm9ybSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwcm92YWxDb21tZW50Rm9ybSwge1xuICAgICAgICAgIG9uU3VibWl0OiB0aGlzLnJlc2V0RmVlZFNjcm9sbCxcbiAgICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICAgIGFwcHJvdmVyU2VsZWN0b3JDb250YWN0czogYXBwcm92ZXJTZWxlY3RvckNvbnRhY3RzLFxuICAgICAgICAgIG1lbnRpb25TZWxlY3RvckNvbnRhY3RzOiBtZW50aW9uU2VsZWN0b3JDb250YWN0cyxcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ2Jjcy1hY3Rpdml0eS1mZWVkLWNvbW1lbnQtaW5wdXQnLCB7XG4gICAgICAgICAgICAnYmNzLWlzLWRpc2FibGVkJzogaXNEaXNhYmxlZFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGNyZWF0ZUNvbW1lbnQ6IGhhc0NvbW1lbnRQZXJtaXNzaW9uID8gdGhpcy5vbkNvbW1lbnRDcmVhdGUgOiBub29wLFxuICAgICAgICAgIGNyZWF0ZVRhc2s6IGhhc0NvbW1lbnRQZXJtaXNzaW9uID8gdGhpcy5vblRhc2tDcmVhdGUgOiBub29wLFxuICAgICAgICAgIHVwZGF0ZVRhc2s6IGhhc0NvbW1lbnRQZXJtaXNzaW9uID8gb25UYXNrVXBkYXRlIDogbm9vcCxcbiAgICAgICAgICBnZXRBcHByb3ZlcldpdGhRdWVyeTogZ2V0QXBwcm92ZXJXaXRoUXVlcnksXG4gICAgICAgICAgZ2V0TWVudGlvbldpdGhRdWVyeTogZ2V0TWVudGlvbldpdGhRdWVyeSxcbiAgICAgICAgICBpc09wZW46IGlzSW5wdXRPcGVuLFxuICAgICAgICAgIHVzZXI6IGN1cnJlbnRVc2VyLFxuICAgICAgICAgIG9uQ2FuY2VsOiB0aGlzLmFwcHJvdmFsQ29tbWVudEZvcm1DYW5jZWxIYW5kbGVyLFxuICAgICAgICAgIG9uRm9jdXM6IHRoaXMuYXBwcm92YWxDb21tZW50Rm9ybUZvY3VzSGFuZGxlcixcbiAgICAgICAgICBnZXRBdmF0YXJVcmw6IGdldEF2YXRhclVybFxuICAgICAgICB9KSA6IG51bGwpXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBY3Rpdml0eUZlZWQ7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IEFjdGl2aXR5RmVlZDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBEcm9wZG93bk1lbnUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9kcm9wZG93bi1tZW51JztcbmltcG9ydCBNZW51VG9nZ2xlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZHJvcGRvd24tbWVudS9NZW51VG9nZ2xlJztcbmltcG9ydCB7IE1lbnUsIE1lbnVJdGVtIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9tZW51JztcbmltcG9ydCBJY29uVGFza0FwcHJvdmFsIGZyb20gJy4uLy4uL2ljb25zL3R3by10b25lZC9JY29uVGFza0FwcHJvdmFsJztcbmltcG9ydCBJY29uVGFza0dlbmVyYWwgZnJvbSAnLi4vLi4vaWNvbnMvdHdvLXRvbmVkL0ljb25UYXNrR2VuZXJhbCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBUQVNLX1RZUEVfQVBQUk9WQUwsIFRBU0tfVFlQRV9HRU5FUkFMIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCAnLi9BZGRUYXNrTWVudS5zY3NzJztcblxudmFyIEFkZFRhc2tNZW51ID0gZnVuY3Rpb24gQWRkVGFza01lbnUocHJvcHMpIHtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25NZW51LCB7XG4gICAgY29uc3RyYWluVG9TY3JvbGxQYXJlbnQ6IHRydWUsXG4gICAgaXNSaWdodEFsaWduZWQ6IHRydWVcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBpc0Rpc2FibGVkOiBwcm9wcy5pc0Rpc2FibGVkLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51VG9nZ2xlLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnRhc2tzQWRkVGFzaykpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51LCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy1BZGRUYXNrTWVudVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIHtcbiAgICBjbGFzc05hbWU6IFwiYmNzLUFkZFRhc2tNZW51LW1lbnVJdGVtXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBwcm9wcy5vbk1lbnVJdGVtQ2xpY2soVEFTS19UWVBFX0dFTkVSQUwpO1xuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy1BZGRUYXNrTWVudS1pY29uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uVGFza0dlbmVyYWwsIHtcbiAgICB3aWR0aDogMzAsXG4gICAgaGVpZ2h0OiAzMFxuICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy1BZGRUYXNrTWVudS10aXRsZVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMudGFza0FkZFRhc2tHZW5lcmFsKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiY3MtQWRkVGFza01lbnUtZGVzY3JpcHRpb25cIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnRhc2tBZGRUYXNrR2VuZXJhbERlc2NyaXB0aW9uKSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51SXRlbSwge1xuICAgIGNsYXNzTmFtZTogXCJiY3MtQWRkVGFza01lbnUtbWVudUl0ZW1cIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHByb3BzLm9uTWVudUl0ZW1DbGljayhUQVNLX1RZUEVfQVBQUk9WQUwpO1xuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy1BZGRUYXNrTWVudS1pY29uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uVGFza0FwcHJvdmFsLCB7XG4gICAgd2lkdGg6IDMwLFxuICAgIGhlaWdodDogMzBcbiAgfSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiY3MtQWRkVGFza01lbnUtdGl0bGVcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLnRhc2tBZGRUYXNrQXBwcm92YWwpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjcy1BZGRUYXNrTWVudS1kZXNjcmlwdGlvblwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMudGFza0FkZFRhc2tBcHByb3ZhbERlc2NyaXB0aW9uKSkpKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQWRkVGFza01lbnU7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBZGRUYXNrTWVudSBmcm9tICcuL0FkZFRhc2tNZW51JztcbmltcG9ydCBUYXNrTW9kYWwgZnJvbSAnLi9UYXNrTW9kYWwnO1xuaW1wb3J0IHsgVEFTS19UWVBFX0FQUFJPVkFMIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcblxudmFyIEFkZFRhc2tCdXR0b24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFkZFRhc2tCdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFkZFRhc2tCdXR0b24oKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkVGFza0J1dHRvbik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihBZGRUYXNrQnV0dG9uKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwic3RhdGVcIiwge1xuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBpc1Rhc2tGb3JtT3BlbjogZmFsc2UsXG4gICAgICB0YXNrVHlwZTogVEFTS19UWVBFX0FQUFJPVkFMXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiaGFuZGxlQ2xpY2tNZW51SXRlbVwiLCBmdW5jdGlvbiAodGFza1R5cGUpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzVGFza0Zvcm1PcGVuOiB0cnVlLFxuICAgICAgICB0YXNrVHlwZTogdGFza1R5cGVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImhhbmRsZU1vZGFsQ2xvc2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25UYXNrTW9kYWxDbG9zZSgpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzVGFza0Zvcm1PcGVuOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImhhbmRsZVN1Ym1pdFN1Y2Nlc3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNUYXNrRm9ybU9wZW46IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiaGFuZGxlU3VibWl0RXJyb3JcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yOiBlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBZGRUYXNrQnV0dG9uLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpc0Rpc2FibGVkID0gX3RoaXMkcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgICAgICB0YXNrRm9ybVByb3BzID0gX3RoaXMkcHJvcHMudGFza0Zvcm1Qcm9wcztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgaXNUYXNrRm9ybU9wZW4gPSBfdGhpcyRzdGF0ZS5pc1Rhc2tGb3JtT3BlbixcbiAgICAgICAgICB0YXNrVHlwZSA9IF90aGlzJHN0YXRlLnRhc2tUeXBlLFxuICAgICAgICAgIGVycm9yID0gX3RoaXMkc3RhdGUuZXJyb3I7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChBZGRUYXNrTWVudSwge1xuICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICBvbk1lbnVJdGVtQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tNZW51SXRlbVxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFza01vZGFsLCB7XG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgb25TdWJtaXRFcnJvcjogdGhpcy5oYW5kbGVTdWJtaXRFcnJvcixcbiAgICAgICAgb25TdWJtaXRTdWNjZXNzOiB0aGlzLmhhbmRsZVN1Ym1pdFN1Y2Nlc3MsXG4gICAgICAgIG9uTW9kYWxDbG9zZTogdGhpcy5oYW5kbGVNb2RhbENsb3NlLFxuICAgICAgICBpc1Rhc2tGb3JtT3BlbjogaXNUYXNrRm9ybU9wZW4sXG4gICAgICAgIHRhc2tGb3JtUHJvcHM6IHRhc2tGb3JtUHJvcHMsXG4gICAgICAgIHRhc2tUeXBlOiB0YXNrVHlwZVxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBZGRUYXNrQnV0dG9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoQWRkVGFza0J1dHRvbiwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBpc0Rpc2FibGVkOiBmYWxzZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFkZFRhc2tCdXR0b247IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qKlxuICogXG4gKiBAZmlsZSBBY3Rpdml0eSBmZWVkIHNpZGViYXIgY29tcG9uZW50XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJztcbmltcG9ydCBub29wIGZyb20gJ2xvZGFzaC9ub29wJztcbmltcG9ydCBmbG93IGZyb20gJ2xvZGFzaC9mbG93JztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9jb21tb24vbWVzc2FnZXMnO1xuaW1wb3J0IHsgd2l0aEFQSUNvbnRleHQgfSBmcm9tICcuLi9jb21tb24vYXBpLWNvbnRleHQnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi9jb21tb24vZXJyb3ItYm91bmRhcnknO1xuaW1wb3J0IHsgRmVhdHVyZUZsYWcsIHdpdGhGZWF0dXJlQ29uc3VtZXIsIGlzRmVhdHVyZUVuYWJsZWQgfSBmcm9tICcuLi9jb21tb24vZmVhdHVyZS1jaGVja2luZyc7XG5pbXBvcnQgeyBnZXRCYWRVc2VyRXJyb3IsIGdldEJhZEl0ZW1FcnJvciB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9yJztcbmltcG9ydCBBUEkgZnJvbSAnLi4vLi4vYXBpJztcbmltcG9ydCB7IHdpdGhMb2dnZXIgfSBmcm9tICcuLi9jb21tb24vbG9nZ2VyJztcbmltcG9ydCB7IG1hcmsgfSBmcm9tICcuLi8uLi91dGlscy9wZXJmb3JtYW5jZSc7XG5pbXBvcnQgeyBFVkVOVF9KU19SRUFEWSB9IGZyb20gJy4uL2NvbW1vbi9sb2dnZXIvY29uc3RhbnRzJztcbmltcG9ydCBBY3Rpdml0eUZlZWQgZnJvbSAnLi9hY3Rpdml0eS1mZWVkJztcbmltcG9ydCBTaWRlYmFyQ29udGVudCBmcm9tICcuL1NpZGViYXJDb250ZW50JztcbmltcG9ydCBBZGRUYXNrQnV0dG9uIGZyb20gJy4vQWRkVGFza0J1dHRvbic7XG5pbXBvcnQgU2lkZWJhclV0aWxzIGZyb20gJy4vU2lkZWJhclV0aWxzJztcbmltcG9ydCB7IERFRkFVTFRfQ09MTEFCX0RFQk9VTkNFLCBPUklHSU5fQUNUSVZJVFlfU0lERUJBUiwgU0lERUJBUl9WSUVXX0FDVElWSVRZIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCAnLi9BY3Rpdml0eVNpZGViYXIuc2Nzcyc7XG5leHBvcnQgdmFyIGFjdGl2aXR5RmVlZElubGluZUVycm9yID0ge1xuICBpbmxpbmVFcnJvcjoge1xuICAgIHRpdGxlOiBtZXNzYWdlcy5lcnJvck9jY3VyZWQsXG4gICAgY29udGVudDogbWVzc2FnZXMuYWN0aXZpdHlGZWVkSXRlbUFwaUVycm9yXG4gIH1cbn07XG52YXIgTUFSS19OQU1FX0pTX1JFQURZID0gXCJcIi5jb25jYXQoT1JJR0lOX0FDVElWSVRZX1NJREVCQVIsIFwiX1wiKS5jb25jYXQoRVZFTlRfSlNfUkVBRFkpO1xubWFyayhNQVJLX05BTUVfSlNfUkVBRFkpO1xuXG52YXIgQWN0aXZpdHlTaWRlYmFyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQWN0aXZpdHlTaWRlYmFyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQWN0aXZpdHlTaWRlYmFyKF9wcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY3Rpdml0eVNpZGViYXIpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQWN0aXZpdHlTaWRlYmFyKS5jYWxsKHRoaXMsIF9wcm9wcykpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlc1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInN0YXRlXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJmZWVkU3VjY2Vzc0NhbGxiYWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmZldGNoRmVlZEl0ZW1zKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZmVlZEVycm9yQ2FsbGJhY2tcIiwgZnVuY3Rpb24gKGUsIGNvZGUsIGNvbnRleHRJbmZvKSB7XG4gICAgICBfdGhpcy5lcnJvckNhbGxiYWNrKGUsIGNvZGUsIGNvbnRleHRJbmZvKTtcblxuICAgICAgX3RoaXMuZmV0Y2hGZWVkSXRlbXMoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJ0YXNrc0FwaU5ld1wiLCB7XG4gICAgICBjcmVhdGVUYXNrOiBmdW5jdGlvbiBjcmVhdGVUYXNrKG1lc3NhZ2UsIGFzc2lnbmVlcywgdGFza1R5cGUsIGR1ZUF0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRVc2VyID0gX3RoaXMuc3RhdGUuY3VycmVudFVzZXI7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzLmZpbGUsXG4gICAgICAgICAgICBhcGkgPSBfdGhpcyRwcm9wcy5hcGk7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50VXNlcikge1xuICAgICAgICAgIHRocm93IGdldEJhZFVzZXJFcnJvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yQ2FsbGJhY2sgPSBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKGUsIGNvZGUsIGNvbnRleHRJbmZvKSB7XG4gICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgIG9uRXJyb3IoZSwgY29kZSwgY29udGV4dEluZm8pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmZlZWRFcnJvckNhbGxiYWNrKGUsIGNvZGUsIGNvbnRleHRJbmZvKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc3VjY2Vzc0NhbGxiYWNrID0gZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKCkge1xuICAgICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmZlZWRTdWNjZXNzQ2FsbGJhY2soKTtcbiAgICAgICAgfTtcblxuICAgICAgICBhcGkuZ2V0RmVlZEFQSShmYWxzZSkuY3JlYXRlVGFza05ldyhmaWxlLCBjdXJyZW50VXNlciwgbWVzc2FnZSwgYXNzaWduZWVzLCB0YXNrVHlwZSwgZHVlQXQsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7IC8vIG5lZWQgdG8gbG9hZCB0aGUgcGVuZGluZyBpdGVtXG5cbiAgICAgICAgX3RoaXMuZmV0Y2hGZWVkSXRlbXMoKTtcbiAgICAgIH0sXG4gICAgICBkZWxldGVUYXNrOiBmdW5jdGlvbiBkZWxldGVUYXNrKHRhc2spIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzMi5maWxlLFxuICAgICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHMyLmFwaSxcbiAgICAgICAgICAgIF90aGlzJHByb3BzMiRvblRhc2tEZSA9IF90aGlzJHByb3BzMi5vblRhc2tEZWxldGUsXG4gICAgICAgICAgICBvblRhc2tEZWxldGUgPSBfdGhpcyRwcm9wczIkb25UYXNrRGUgPT09IHZvaWQgMCA/IG5vb3AgOiBfdGhpcyRwcm9wczIkb25UYXNrRGU7XG4gICAgICAgIGFwaS5nZXRGZWVkQVBJKGZhbHNlKS5kZWxldGVUYXNrTmV3KGZpbGUsIHRhc2ssIGZ1bmN0aW9uICh0YXNrSWQpIHtcbiAgICAgICAgICBfdGhpcy5mZWVkU3VjY2Vzc0NhbGxiYWNrKCk7XG5cbiAgICAgICAgICBvblRhc2tEZWxldGUodGFza0lkKTtcbiAgICAgICAgfSwgX3RoaXMuZmVlZEVycm9yQ2FsbGJhY2spOyAvLyBuZWVkIHRvIGxvYWQgdGhlIHBlbmRpbmcgaXRlbVxuXG4gICAgICAgIF90aGlzLmZldGNoRmVlZEl0ZW1zKCk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlVGFzazogZnVuY3Rpb24gdXBkYXRlVGFzayh0YXNrLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzMy5maWxlLFxuICAgICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHMzLmFwaSxcbiAgICAgICAgICAgIF90aGlzJHByb3BzMyRvblRhc2tVcCA9IF90aGlzJHByb3BzMy5vblRhc2tVcGRhdGUsXG4gICAgICAgICAgICBvblRhc2tVcGRhdGUgPSBfdGhpcyRwcm9wczMkb25UYXNrVXAgPT09IHZvaWQgMCA/IG5vb3AgOiBfdGhpcyRwcm9wczMkb25UYXNrVXA7XG5cbiAgICAgICAgdmFyIGVycm9yQ2FsbGJhY2sgPSBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKGUsIGNvZGUpIHtcbiAgICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgICAgb25FcnJvcihlLCBjb2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpcy5mZWVkRXJyb3JDYWxsYmFjayhlLCBjb2RlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc3VjY2Vzc0NhbGxiYWNrID0gZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmZlZWRTdWNjZXNzQ2FsbGJhY2soKTtcblxuICAgICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9uVGFza1VwZGF0ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFwaS5nZXRGZWVkQVBJKGZhbHNlKS51cGRhdGVUYXNrTmV3KGZpbGUsIHRhc2ssIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7IC8vIG5lZWQgdG8gbG9hZCB0aGUgcGVuZGluZyBpdGVtXG5cbiAgICAgICAgX3RoaXMuZmV0Y2hGZWVkSXRlbXMoKTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVUYXNrQXNzaWdubWVudDogZnVuY3Rpb24gdXBkYXRlVGFza0Fzc2lnbm1lbnQodGFza0lkLCB0YXNrQXNzaWdubWVudElkLCBzdGF0dXMpIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzNC5maWxlLFxuICAgICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHM0LmFwaTtcbiAgICAgICAgYXBpLmdldEZlZWRBUEkoZmFsc2UpLnVwZGF0ZVRhc2tDb2xsYWJvcmF0b3IoZmlsZSwgdGFza0lkLCB0YXNrQXNzaWdubWVudElkLCBzdGF0dXMsIF90aGlzLmZlZWRTdWNjZXNzQ2FsbGJhY2ssIF90aGlzLmZlZWRFcnJvckNhbGxiYWNrKTsgLy8gbmVlZCB0byBsb2FkIHRoZSBwZW5kaW5nIGl0ZW1cblxuICAgICAgICBfdGhpcy5mZXRjaEZlZWRJdGVtcygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImRlbGV0ZVRhc2tcIiwgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBpZCA9IF9yZWYuaWQ7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzNS5maWxlLFxuICAgICAgICAgIGFwaSA9IF90aGlzJHByb3BzNS5hcGksXG4gICAgICAgICAgX3RoaXMkcHJvcHM1JG9uVGFza0RlID0gX3RoaXMkcHJvcHM1Lm9uVGFza0RlbGV0ZSxcbiAgICAgICAgICBvblRhc2tEZWxldGUgPSBfdGhpcyRwcm9wczUkb25UYXNrRGUgPT09IHZvaWQgMCA/IG5vb3AgOiBfdGhpcyRwcm9wczUkb25UYXNrRGU7XG4gICAgICBhcGkuZ2V0RmVlZEFQSShmYWxzZSkuZGVsZXRlVGFzayhmaWxlLCBpZCwgZnVuY3Rpb24gKHRhc2tJZCkge1xuICAgICAgICBfdGhpcy5mZWVkU3VjY2Vzc0NhbGxiYWNrKCk7XG5cbiAgICAgICAgb25UYXNrRGVsZXRlKHRhc2tJZCk7XG4gICAgICB9LCBfdGhpcy5mZWVkRXJyb3JDYWxsYmFjayk7IC8vIG5lZWQgdG8gbG9hZCB0aGUgcGVuZGluZyBpdGVtXG5cbiAgICAgIF90aGlzLmZldGNoRmVlZEl0ZW1zKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwidXBkYXRlVGFza1wiLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciB0ZXh0ID0gX3JlZjIudGV4dCxcbiAgICAgICAgICBpZCA9IF9yZWYyLmlkO1xuICAgICAgdmFyIF90aGlzJHByb3BzNiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGZpbGUgPSBfdGhpcyRwcm9wczYuZmlsZSxcbiAgICAgICAgICBhcGkgPSBfdGhpcyRwcm9wczYuYXBpO1xuICAgICAgYXBpLmdldEZlZWRBUEkoZmFsc2UpLnVwZGF0ZVRhc2soZmlsZSwgaWQsIHRleHQsIF90aGlzLmZlZWRTdWNjZXNzQ2FsbGJhY2ssIF90aGlzLmZlZWRFcnJvckNhbGxiYWNrKTsgLy8gbmVlZCB0byBsb2FkIHRoZSBwZW5kaW5nIGl0ZW1cblxuICAgICAgX3RoaXMuZmV0Y2hGZWVkSXRlbXMoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJ1cGRhdGVUYXNrQXNzaWdubWVudFwiLCBmdW5jdGlvbiAodGFza0lkLCB0YXNrQXNzaWdubWVudElkLCBzdGF0dXMpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczcgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBmaWxlID0gX3RoaXMkcHJvcHM3LmZpbGUsXG4gICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHM3LmFwaTtcbiAgICAgIGFwaS5nZXRGZWVkQVBJKGZhbHNlKS51cGRhdGVUYXNrQXNzaWdubWVudChmaWxlLCB0YXNrSWQsIHRhc2tBc3NpZ25tZW50SWQsIHN0YXR1cywgX3RoaXMuZmVlZFN1Y2Nlc3NDYWxsYmFjaywgX3RoaXMuZmVlZEVycm9yQ2FsbGJhY2spOyAvLyBuZWVkIHRvIGxvYWQgdGhlIHBlbmRpbmcgaXRlbVxuXG4gICAgICBfdGhpcy5mZXRjaEZlZWRJdGVtcygpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImRlbGV0ZUNvbW1lbnRcIiwgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICB2YXIgaWQgPSBfcmVmMy5pZCxcbiAgICAgICAgICBwZXJtaXNzaW9ucyA9IF9yZWYzLnBlcm1pc3Npb25zO1xuICAgICAgdmFyIF90aGlzJHByb3BzOCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGZpbGUgPSBfdGhpcyRwcm9wczguZmlsZSxcbiAgICAgICAgICBhcGkgPSBfdGhpcyRwcm9wczguYXBpLFxuICAgICAgICAgIF90aGlzJHByb3BzOCRvbkNvbW1lbiA9IF90aGlzJHByb3BzOC5vbkNvbW1lbnREZWxldGUsXG4gICAgICAgICAgb25Db21tZW50RGVsZXRlID0gX3RoaXMkcHJvcHM4JG9uQ29tbWVuID09PSB2b2lkIDAgPyBub29wIDogX3RoaXMkcHJvcHM4JG9uQ29tbWVuO1xuICAgICAgYXBpLmdldEZlZWRBUEkoZmFsc2UpLmRlbGV0ZUNvbW1lbnQoZmlsZSwgaWQsIHBlcm1pc3Npb25zLCBmdW5jdGlvbiAoY29tbWVudCkge1xuICAgICAgICBfdGhpcy5mZWVkU3VjY2Vzc0NhbGxiYWNrKCk7XG5cbiAgICAgICAgb25Db21tZW50RGVsZXRlKGNvbW1lbnQpO1xuICAgICAgfSwgX3RoaXMuZmVlZEVycm9yQ2FsbGJhY2spOyAvLyBuZWVkIHRvIGxvYWQgdGhlIHBlbmRpbmcgaXRlbVxuXG4gICAgICBfdGhpcy5mZXRjaEZlZWRJdGVtcygpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImNyZWF0ZUNvbW1lbnRcIiwgZnVuY3Rpb24gKHRleHQsIGhhc01lbnRpb24pIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczkgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBmaWxlID0gX3RoaXMkcHJvcHM5LmZpbGUsXG4gICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHM5LmFwaSxcbiAgICAgICAgICBfdGhpcyRwcm9wczkkb25Db21tZW4gPSBfdGhpcyRwcm9wczkub25Db21tZW50Q3JlYXRlLFxuICAgICAgICAgIG9uQ29tbWVudENyZWF0ZSA9IF90aGlzJHByb3BzOSRvbkNvbW1lbiA9PT0gdm9pZCAwID8gbm9vcCA6IF90aGlzJHByb3BzOSRvbkNvbW1lbjtcbiAgICAgIHZhciBjdXJyZW50VXNlciA9IF90aGlzLnN0YXRlLmN1cnJlbnRVc2VyO1xuXG4gICAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICAgIHRocm93IGdldEJhZFVzZXJFcnJvcigpO1xuICAgICAgfVxuXG4gICAgICBhcGkuZ2V0RmVlZEFQSShmYWxzZSkuY3JlYXRlQ29tbWVudChmaWxlLCBjdXJyZW50VXNlciwgdGV4dCwgaGFzTWVudGlvbiwgZnVuY3Rpb24gKGNvbW1lbnQpIHtcbiAgICAgICAgb25Db21tZW50Q3JlYXRlKGNvbW1lbnQpO1xuXG4gICAgICAgIF90aGlzLmZlZWRTdWNjZXNzQ2FsbGJhY2soKTtcbiAgICAgIH0sIF90aGlzLmZlZWRFcnJvckNhbGxiYWNrKTsgLy8gbmVlZCB0byBsb2FkIHRoZSBwZW5kaW5nIGl0ZW1cblxuICAgICAgX3RoaXMuZmV0Y2hGZWVkSXRlbXMoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJjcmVhdGVUYXNrXCIsIGZ1bmN0aW9uIChtZXNzYWdlLCBhc3NpZ25lZXMsIGR1ZUF0KSB7XG4gICAgICB2YXIgY3VycmVudFVzZXIgPSBfdGhpcy5zdGF0ZS5jdXJyZW50VXNlcjtcbiAgICAgIHZhciBfdGhpcyRwcm9wczEwID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzMTAuZmlsZSxcbiAgICAgICAgICBhcGkgPSBfdGhpcyRwcm9wczEwLmFwaTtcblxuICAgICAgaWYgKCFjdXJyZW50VXNlcikge1xuICAgICAgICB0aHJvdyBnZXRCYWRVc2VyRXJyb3IoKTtcbiAgICAgIH1cblxuICAgICAgYXBpLmdldEZlZWRBUEkoZmFsc2UpLmNyZWF0ZVRhc2soZmlsZSwgY3VycmVudFVzZXIsIG1lc3NhZ2UsIGFzc2lnbmVlcywgZHVlQXQsIF90aGlzLmZlZWRTdWNjZXNzQ2FsbGJhY2ssIF90aGlzLmZlZWRFcnJvckNhbGxiYWNrKTsgLy8gbmVlZCB0byBsb2FkIHRoZSBwZW5kaW5nIGl0ZW1cblxuICAgICAgX3RoaXMuZmV0Y2hGZWVkSXRlbXMoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJkZWxldGVBcHBBY3Rpdml0eVwiLCBmdW5jdGlvbiAoX3JlZjQpIHtcbiAgICAgIHZhciBpZCA9IF9yZWY0LmlkO1xuICAgICAgdmFyIF90aGlzJHByb3BzMTEgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBmaWxlID0gX3RoaXMkcHJvcHMxMS5maWxlLFxuICAgICAgICAgIGFwaSA9IF90aGlzJHByb3BzMTEuYXBpO1xuICAgICAgYXBpLmdldEZlZWRBUEkoZmFsc2UpLmRlbGV0ZUFwcEFjdGl2aXR5KGZpbGUsIGlkLCBfdGhpcy5mZWVkU3VjY2Vzc0NhbGxiYWNrLCBfdGhpcy5mZWVkRXJyb3JDYWxsYmFjayk7IC8vIG5lZWQgdG8gbG9hZCB0aGUgcGVuZGluZyBpdGVtXG5cbiAgICAgIF90aGlzLmZldGNoRmVlZEl0ZW1zKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZmV0Y2hGZWVkSXRlbXNTdWNjZXNzQ2FsbGJhY2tcIiwgZnVuY3Rpb24gKGZlZWRJdGVtcykge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmZWVkSXRlbXM6IGZlZWRJdGVtcyxcbiAgICAgICAgYWN0aXZpdHlGZWVkRXJyb3I6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZmV0Y2hGZWVkSXRlbXNFcnJvckNhbGxiYWNrXCIsIGZ1bmN0aW9uIChmZWVkSXRlbXMpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmVlZEl0ZW1zOiBmZWVkSXRlbXMsXG4gICAgICAgIGFjdGl2aXR5RmVlZEVycm9yOiBhY3Rpdml0eUZlZWRJbmxpbmVFcnJvclxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZXJyb3JDYWxsYmFja1wiLCBmdW5jdGlvbiAoZXJyb3IsIGNvZGUpIHtcbiAgICAgIHZhciBjb250ZXh0SW5mbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlc1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkVycm9yKGVycm9yLCBjb2RlLCBjb250ZXh0SW5mbyk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZmV0Y2hDdXJyZW50VXNlclN1Y2Nlc3NDYWxsYmFja1wiLCBmdW5jdGlvbiAoY3VycmVudFVzZXIpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudFVzZXI6IGN1cnJlbnRVc2VyLFxuICAgICAgICBjdXJyZW50VXNlckVycm9yOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImdldEFwcHJvdmVyQ29udGFjdHNTdWNjZXNzQ2FsbGJhY2tcIiwgZnVuY3Rpb24gKGNvbGxhYm9yYXRvcnMpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gY29sbGFib3JhdG9ycy5lbnRyaWVzO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFwcHJvdmVyU2VsZWN0b3JDb250YWN0czogZW50cmllc1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZ2V0TWVudGlvbkNvbnRhY3RzU3VjY2Vzc0NhbGxiYWNrXCIsIGZ1bmN0aW9uIChjb2xsYWJvcmF0b3JzKSB7XG4gICAgICB2YXIgZW50cmllcyA9IGNvbGxhYm9yYXRvcnMuZW50cmllcztcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBtZW50aW9uU2VsZWN0b3JDb250YWN0czogZW50cmllc1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZ2V0QXBwcm92ZXJXaXRoUXVlcnlcIiwgZGVib3VuY2UoX3RoaXMuZ2V0Q29sbGFib3JhdG9ycy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5nZXRBcHByb3ZlckNvbnRhY3RzU3VjY2Vzc0NhbGxiYWNrLCBfdGhpcy5lcnJvckNhbGxiYWNrKSwgREVGQVVMVF9DT0xMQUJfREVCT1VOQ0UpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJnZXRNZW50aW9uV2l0aFF1ZXJ5XCIsIGRlYm91bmNlKF90aGlzLmdldENvbGxhYm9yYXRvcnMuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMuZ2V0TWVudGlvbkNvbnRhY3RzU3VjY2Vzc0NhbGxiYWNrLCBfdGhpcy5lcnJvckNhbGxiYWNrKSwgREVGQVVMVF9DT0xMQUJfREVCT1VOQ0UpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJmZXRjaEN1cnJlbnRVc2VyRXJyb3JDYWxsYmFja1wiLCBmdW5jdGlvbiAoZSwgY29kZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50VXNlcjogdW5kZWZpbmVkLFxuICAgICAgICBjdXJyZW50VXNlckVycm9yOiB7XG4gICAgICAgICAgbWFza0Vycm9yOiB7XG4gICAgICAgICAgICBlcnJvckhlYWRlcjogbWVzc2FnZXMuY3VycmVudFVzZXJFcnJvckhlYWRlck1lc3NhZ2UsXG4gICAgICAgICAgICBlcnJvclN1YkhlYWRlcjogbWVzc2FnZXMuZGVmYXVsdEVycm9yTWFza1N1YkhlYWRlck1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5lcnJvckNhbGxiYWNrKGUsIGNvZGUsIHtcbiAgICAgICAgZXJyb3I6IGVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImdldEF2YXRhclVybFwiLFxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvcihcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodXNlcklkKSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wczEyLCBmaWxlLCBhcGk7XG5cbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzJHByb3BzMTIgPSBfdGhpcy5wcm9wcywgZmlsZSA9IF90aGlzJHByb3BzMTIuZmlsZSwgYXBpID0gX3RoaXMkcHJvcHMxMi5hcGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBhcGkuZ2V0VXNlcnNBUEkoZmFsc2UpLmdldEF2YXRhclVybFdpdGhBY2Nlc3NUb2tlbih1c2VySWQsIGZpbGUuaWQpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHtcbiAgICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25UYXNrTW9kYWxDbG9zZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFwcHJvdmVyU2VsZWN0b3JDb250YWN0czogW11cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInJlbmRlckFkZFRhc2tCdXR0b25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlzRGlzYWJsZWQgPSBfdGhpcy5wcm9wcy5pc0Rpc2FibGVkO1xuICAgICAgdmFyIGFwcHJvdmVyU2VsZWN0b3JDb250YWN0cyA9IF90aGlzLnN0YXRlLmFwcHJvdmVyU2VsZWN0b3JDb250YWN0cztcblxuICAgICAgdmFyIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZSA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLFxuICAgICAgICAgIGdldEFwcHJvdmVyV2l0aFF1ZXJ5ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplLmdldEFwcHJvdmVyV2l0aFF1ZXJ5LFxuICAgICAgICAgIGdldEF2YXRhclVybCA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZS5nZXRBdmF0YXJVcmwsXG4gICAgICAgICAgY3JlYXRlVGFzayA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZS50YXNrc0FwaU5ldy5jcmVhdGVUYXNrLFxuICAgICAgICAgIG9uVGFza01vZGFsQ2xvc2UgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemUub25UYXNrTW9kYWxDbG9zZTtcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICBvblRhc2tNb2RhbENsb3NlOiBvblRhc2tNb2RhbENsb3NlXG4gICAgICB9O1xuICAgICAgdmFyIHRhc2tGb3JtUHJvcHMgPSB7XG4gICAgICAgIGFwcHJvdmVyU2VsZWN0b3JDb250YWN0czogYXBwcm92ZXJTZWxlY3RvckNvbnRhY3RzLFxuICAgICAgICBjcmVhdGVUYXNrOiBjcmVhdGVUYXNrLFxuICAgICAgICBnZXRBcHByb3ZlcldpdGhRdWVyeTogZ2V0QXBwcm92ZXJXaXRoUXVlcnksXG4gICAgICAgIGdldEF2YXRhclVybDogZ2V0QXZhdGFyVXJsLFxuICAgICAgICBpZDogJycsXG4gICAgICAgIG1lc3NhZ2U6ICcnLFxuICAgICAgICBhcHByb3ZlcnM6IFtdXG4gICAgICB9O1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWRkVGFza0J1dHRvbiwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIHRhc2tGb3JtUHJvcHM6IHRhc2tGb3JtUHJvcHNcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIHZhciBsb2dnZXIgPSBfdGhpcy5wcm9wcy5sb2dnZXI7XG4gICAgbG9nZ2VyLm9uUmVhZHlNZXRyaWMoe1xuICAgICAgZW5kTWFya05hbWU6IE1BUktfTkFNRV9KU19SRUFEWVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBY3Rpdml0eVNpZGViYXIsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIGN1cnJlbnRVc2VyID0gdGhpcy5wcm9wcy5jdXJyZW50VXNlcjtcbiAgICAgIHRoaXMuZmV0Y2hGZWVkSXRlbXModHJ1ZSk7XG4gICAgICB0aGlzLmZldGNoQ3VycmVudFVzZXIoY3VycmVudFVzZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGEgVXNlcnMgaW5mb1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1VzZXJ9IFt1c2VyXSAtIEJveCBVc2VyLiBJZiBtaXNzaW5nLCBnZXRzIHVzZXIgdGhhdCB0aGUgY3VycmVudCB0b2tlbiB3YXMgZ2VuZXJhdGVkIGZvci5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmV0Y2hDdXJyZW50VXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEN1cnJlbnRVc2VyKHVzZXIpIHtcbiAgICAgIHZhciBzaG91bGREZXN0cm95ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgIHZhciBfdGhpcyRwcm9wczEzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhcGkgPSBfdGhpcyRwcm9wczEzLmFwaSxcbiAgICAgICAgICBmaWxlID0gX3RoaXMkcHJvcHMxMy5maWxlO1xuXG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgdGhyb3cgZ2V0QmFkSXRlbUVycm9yKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdXNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgYXBpLmdldFVzZXJzQVBJKHNob3VsZERlc3Ryb3kpLmdldFVzZXIoZmlsZS5pZCwgdGhpcy5mZXRjaEN1cnJlbnRVc2VyU3VjY2Vzc0NhbGxiYWNrLCB0aGlzLmZldGNoQ3VycmVudFVzZXJFcnJvckNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnRVc2VyOiB1c2VyLFxuICAgICAgICAgIGN1cnJlbnRVc2VyRXJyb3I6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3VjY2VzcyBjYWxsYmFjayBmb3IgZmV0Y2hpbmcgZmVlZCBpdGVtc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmV0Y2hGZWVkSXRlbXNcIixcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGZlZWQgaXRlbXMgZm9yIHRoZSBzaWRlYmFyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3VsZERlc3Ryb3kgdHJ1ZSBpZiB0aGUgYXBpIGZhY3Rvcnkgc2hvdWxkIGJlIGRlc3Ryb3llZFxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEZlZWRJdGVtcygpIHtcbiAgICAgIHZhciBzaG91bGRSZWZyZXNoQ2FjaGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgICAgdmFyIHNob3VsZERlc3Ryb3kgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgdmFyIF90aGlzJHByb3BzMTQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZpbGUgPSBfdGhpcyRwcm9wczE0LmZpbGUsXG4gICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHMxNC5hcGksXG4gICAgICAgICAgZmVhdHVyZXMgPSBfdGhpcyRwcm9wczE0LmZlYXR1cmVzO1xuICAgICAgdmFyIHNob3VsZFNob3dOZXdUYXNrcyA9IGlzRmVhdHVyZUVuYWJsZWQoZmVhdHVyZXMsICdhY3Rpdml0eUZlZWQudGFza3MubmV3QXBpJyk7XG4gICAgICB2YXIgc2hvdWxkU2hvd0FwcEFjdGl2aXR5ID0gaXNGZWF0dXJlRW5hYmxlZChmZWF0dXJlcywgJ2FjdGl2aXR5RmVlZC5hcHBBY3Rpdml0eS5lbmFibGVkJyk7XG4gICAgICBhcGkuZ2V0RmVlZEFQSShzaG91bGREZXN0cm95KS5mZWVkSXRlbXMoZmlsZSwgc2hvdWxkUmVmcmVzaENhY2hlLCB0aGlzLmZldGNoRmVlZEl0ZW1zU3VjY2Vzc0NhbGxiYWNrLCB0aGlzLmZldGNoRmVlZEl0ZW1zRXJyb3JDYWxsYmFjaywgdGhpcy5lcnJvckNhbGxiYWNrLCBzaG91bGRTaG93TmV3VGFza3MsIHNob3VsZFNob3dBcHBBY3Rpdml0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBzdWNjZXNzZnVsIGZlZWQgQVBJIGZldGNoXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZlZWRJdGVtcyAtIHRoZSBmZWVkIGl0ZW1zXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldENvbGxhYm9yYXRvcnNcIixcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgZmlsZSBjb2xsYWJvcmF0b3JzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWNjZXNzQ2FsbGJhY2sgLSB0aGUgc3VjY2VzcyBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yQ2FsbGJhY2sgLSB0aGUgZXJyb3IgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoU3RyIC0gdGhlIHNlYXJjaCBzdHJpbmdcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2xsYWJvcmF0b3JzKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgc2VhcmNoU3RyKSB7XG4gICAgICAvLyBEbyBub3QgZmV0Y2ggd2l0aG91dCBmaWx0ZXJcbiAgICAgIHZhciBfdGhpcyRwcm9wczE1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmaWxlID0gX3RoaXMkcHJvcHMxNS5maWxlLFxuICAgICAgICAgIGFwaSA9IF90aGlzJHByb3BzMTUuYXBpO1xuXG4gICAgICBpZiAoIXNlYXJjaFN0ciB8fCBzZWFyY2hTdHIudHJpbSgpID09PSAnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS5nZXRGaWxlQ29sbGFib3JhdG9yc0FQSSh0cnVlKS5nZXRGaWxlQ29sbGFib3JhdG9ycyhmaWxlLmlkLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIHtcbiAgICAgICAgZmlsdGVyX3Rlcm06IHNlYXJjaFN0clxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBmYWlsZWQgZmlsZSB1c2VyIGluZm8gZmV0Y2hcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFbGVtZW50c1hockVycm9yfSBlIC0gQVBJIGVycm9yXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMxNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZmlsZSA9IF90aGlzJHByb3BzMTYuZmlsZSxcbiAgICAgICAgICBfdGhpcyRwcm9wczE2JGlzRGlzYWIgPSBfdGhpcyRwcm9wczE2LmlzRGlzYWJsZWQsXG4gICAgICAgICAgaXNEaXNhYmxlZCA9IF90aGlzJHByb3BzMTYkaXNEaXNhYiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfdGhpcyRwcm9wczE2JGlzRGlzYWIsXG4gICAgICAgICAgb25WZXJzaW9uSGlzdG9yeUNsaWNrID0gX3RoaXMkcHJvcHMxNi5vblZlcnNpb25IaXN0b3J5Q2xpY2ssXG4gICAgICAgICAgZ2V0VXNlclByb2ZpbGVVcmwgPSBfdGhpcyRwcm9wczE2LmdldFVzZXJQcm9maWxlVXJsLFxuICAgICAgICAgIGZlYXR1cmVzID0gX3RoaXMkcHJvcHMxNi5mZWF0dXJlcztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgY3VycmVudFVzZXIgPSBfdGhpcyRzdGF0ZS5jdXJyZW50VXNlcixcbiAgICAgICAgICBhcHByb3ZlclNlbGVjdG9yQ29udGFjdHMgPSBfdGhpcyRzdGF0ZS5hcHByb3ZlclNlbGVjdG9yQ29udGFjdHMsXG4gICAgICAgICAgbWVudGlvblNlbGVjdG9yQ29udGFjdHMgPSBfdGhpcyRzdGF0ZS5tZW50aW9uU2VsZWN0b3JDb250YWN0cyxcbiAgICAgICAgICBmZWVkSXRlbXMgPSBfdGhpcyRzdGF0ZS5mZWVkSXRlbXMsXG4gICAgICAgICAgYWN0aXZpdHlGZWVkRXJyb3IgPSBfdGhpcyRzdGF0ZS5hY3Rpdml0eUZlZWRFcnJvcixcbiAgICAgICAgICBjdXJyZW50VXNlckVycm9yID0gX3RoaXMkc3RhdGUuY3VycmVudFVzZXJFcnJvcjtcbiAgICAgIHZhciB1cGRhdGVUYXNrQXNzaWdubWVudCA9IGlzRmVhdHVyZUVuYWJsZWQoZmVhdHVyZXMsICdhY3Rpdml0eUZlZWQudGFza3MubmV3QXBpJykgPyB0aGlzLnRhc2tzQXBpTmV3LnVwZGF0ZVRhc2tBc3NpZ25tZW50IDogdGhpcy51cGRhdGVUYXNrQXNzaWdubWVudDtcbiAgICAgIHZhciB1cGRhdGVUYXNrID0gaXNGZWF0dXJlRW5hYmxlZChmZWF0dXJlcywgJ2FjdGl2aXR5RmVlZC50YXNrcy5uZXdBcGknKSA/IHRoaXMudGFza3NBcGlOZXcudXBkYXRlVGFzayA6IHRoaXMudXBkYXRlVGFzaztcbiAgICAgIHZhciBkZWxldGVUYXNrID0gaXNGZWF0dXJlRW5hYmxlZChmZWF0dXJlcywgJ2FjdGl2aXR5RmVlZC50YXNrcy5uZXdBcGknKSA/IHRoaXMudGFza3NBcGlOZXcuZGVsZXRlVGFzayA6IHRoaXMuZGVsZXRlVGFzaztcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJDb250ZW50LCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJiY3MtYWN0aXZpdHlcIixcbiAgICAgICAgdGl0bGU6IFNpZGViYXJVdGlscy5nZXRUaXRsZUZvclZpZXcoU0lERUJBUl9WSUVXX0FDVElWSVRZKSxcbiAgICAgICAgYWN0aW9uczogUmVhY3QuY3JlYXRlRWxlbWVudChGZWF0dXJlRmxhZywge1xuICAgICAgICAgIGZlYXR1cmU6IFwiYWN0aXZpdHlGZWVkLnRhc2tzLmNyZWF0ZUJ1dHRvblwiLFxuICAgICAgICAgIGVuYWJsZWQ6IHRoaXMucmVuZGVyQWRkVGFza0J1dHRvblxuICAgICAgICB9KVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChBY3Rpdml0eUZlZWQsIHtcbiAgICAgICAgZmlsZTogZmlsZSxcbiAgICAgICAgYWN0aXZpdHlGZWVkRXJyb3I6IGFjdGl2aXR5RmVlZEVycm9yLFxuICAgICAgICBhcHByb3ZlclNlbGVjdG9yQ29udGFjdHM6IGFwcHJvdmVyU2VsZWN0b3JDb250YWN0cyxcbiAgICAgICAgbWVudGlvblNlbGVjdG9yQ29udGFjdHM6IG1lbnRpb25TZWxlY3RvckNvbnRhY3RzLFxuICAgICAgICBjdXJyZW50VXNlcjogY3VycmVudFVzZXIsXG4gICAgICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICAgIG9uQXBwQWN0aXZpdHlEZWxldGU6IHRoaXMuZGVsZXRlQXBwQWN0aXZpdHksXG4gICAgICAgIG9uQ29tbWVudENyZWF0ZTogdGhpcy5jcmVhdGVDb21tZW50LFxuICAgICAgICBvbkNvbW1lbnREZWxldGU6IHRoaXMuZGVsZXRlQ29tbWVudCxcbiAgICAgICAgb25UYXNrQ3JlYXRlOiB0aGlzLmNyZWF0ZVRhc2ssXG4gICAgICAgIG9uVGFza0RlbGV0ZTogZGVsZXRlVGFzayxcbiAgICAgICAgb25UYXNrVXBkYXRlOiB1cGRhdGVUYXNrLFxuICAgICAgICBvblRhc2tNb2RhbENsb3NlOiB0aGlzLm9uVGFza01vZGFsQ2xvc2UsXG4gICAgICAgIG9uVGFza0Fzc2lnbm1lbnRVcGRhdGU6IHVwZGF0ZVRhc2tBc3NpZ25tZW50LFxuICAgICAgICBnZXRBcHByb3ZlcldpdGhRdWVyeTogdGhpcy5nZXRBcHByb3ZlcldpdGhRdWVyeSxcbiAgICAgICAgZ2V0TWVudGlvbldpdGhRdWVyeTogdGhpcy5nZXRNZW50aW9uV2l0aFF1ZXJ5LFxuICAgICAgICBvblZlcnNpb25IaXN0b3J5Q2xpY2s6IG9uVmVyc2lvbkhpc3RvcnlDbGljayxcbiAgICAgICAgZ2V0QXZhdGFyVXJsOiB0aGlzLmdldEF2YXRhclVybCxcbiAgICAgICAgZ2V0VXNlclByb2ZpbGVVcmw6IGdldFVzZXJQcm9maWxlVXJsLFxuICAgICAgICBmZWVkSXRlbXM6IGZlZWRJdGVtcyxcbiAgICAgICAgY3VycmVudFVzZXJFcnJvcjogY3VycmVudFVzZXJFcnJvclxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBY3Rpdml0eVNpZGViYXI7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoQWN0aXZpdHlTaWRlYmFyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGlzRGlzYWJsZWQ6IGZhbHNlXG59KTtcblxuZXhwb3J0IHsgQWN0aXZpdHlTaWRlYmFyIGFzIEFjdGl2aXR5U2lkZWJhckNvbXBvbmVudCB9O1xuZXhwb3J0IGRlZmF1bHQgZmxvdyhbd2l0aExvZ2dlcihPUklHSU5fQUNUSVZJVFlfU0lERUJBUiksIHdpdGhFcnJvckJvdW5kYXJ5KE9SSUdJTl9BQ1RJVklUWV9TSURFQkFSKSwgd2l0aEFQSUNvbnRleHQsIHdpdGhGZWF0dXJlQ29uc3VtZXJdKShBY3Rpdml0eVNpZGViYXIpOyJdLCJzb3VyY2VSb290IjoiIn0=