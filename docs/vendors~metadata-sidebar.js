(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1119:function(e,t,a){"use strict";var n=a(0),o=a(6),r=a.n(o),i=a(354),l=a(108),s=a(137),c=a(25);a(1140);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=function(e){var t=e.className,a=void 0===t?"":t,o=e.description,p=e.error,f=e.errorPosition,m=e.hideLabel,h=e.hideOptionalLabel,y=e.inputRef,v=e.isLoading,b=e.isRequired,g=e.isValid,E=e.label,O=e.labelTooltip,w=d(e,["className","description","error","errorPosition","hideLabel","hideOptionalLabel","inputRef","isLoading","isRequired","isValid","label","labelTooltip"]),C=r()(a,"text-input-container",{"show-error":!!p});return n.createElement("div",{className:C},n.createElement(l.a,{hideLabel:m,showOptionalText:!h&&!b,text:E,tooltip:O},!!o&&n.createElement("i",{className:"text-input-description"},o),n.createElement(c.a,{isShown:!!p,position:f||"middle-right",text:p||"",theme:"error"},n.createElement("input",u({ref:y,required:b},w))),v&&!g&&n.createElement(s.b,{className:"text-input-loading"}),g&&!v&&n.createElement(i.a,{className:"text-input-verified"})))};p.displayName="TextInput",t.a=p},1120:function(e,t,a){"use strict";var n=a(0),o=a(7);t.a=function(e){var t=e.className,a=void 0===t?"":t,r=e.color,i=void 0===r?"#999":r,l=e.height,s=void 0===l?14:l,c=e.title,u=e.width,d=void 0===u?14:u;return n.createElement(o.a,{className:"icon-edit ".concat(a),height:s,title:c,viewBox:"0 0 14 14",width:d},n.createElement("path",{className:"fill-color",d:"M3.21 7.89l6.47-6.48a2 2 0 0 1 2.88 2.78h-.05L6 10.72 3.21 7.89zM2.24 9l2.83 2.83L1.67 13c-.52.18-.79-.1-.62-.61z",fill:i}))}},1121:function(e,t,a){var n=a(1129),o=a(1132),r=a(1133),i=1,l=2;e.exports=function(e,t,a,s,c,u){var d=a&i,p=e.length,f=t.length;if(p!=f&&!(d&&f>p))return!1;var m=u.get(e);if(m&&u.get(t))return m==t;var h=-1,y=!0,v=a&l?new n:void 0;for(u.set(e,t),u.set(t,e);++h<p;){var b=e[h],g=t[h];if(s)var E=d?s(g,b,h,t,e,u):s(b,g,h,e,t,u);if(void 0!==E){if(E)continue;y=!1;break}if(v){if(!o(t,function(e,t){if(!r(v,t)&&(b===e||c(b,e,a,s,u)))return v.push(t)})){y=!1;break}}else if(b!==g&&!c(b,g,a,s,u)){y=!1;break}}return u.delete(e),u.delete(t),y}},1123:function(e,t,a){"use strict";var n=a(0),o=a(6),r=a.n(o),i=a(23),l=a.n(i),s=a(1138),c=a.n(s),u=a(46),d=a(225),p=a(22),f=a(15);a(1139);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function y(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var O=function(e){function t(e){var a,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=v(t).call(this,e),a=!o||"object"!==m(o)&&"function"!=typeof o?g(n):o,E(g(g(a)),"toggleVisibility",function(){var e=a.props,t=e.onOpen,n=e.onClose;a.setState(function(e){return{isOpen:!e.isOpen}},function(){var e=a.state.isOpen;e&&t?t(g(g(a))):!e&&n&&n(g(g(a)))})}),a.state={isOpen:e.isOpen},a}var a,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n["Component"]),a=t,(o=[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,a=t.animationDuration,o=t.buttonProps,i=void 0===o?{}:o,s=t.children,m=t.className,y=t.isBordered,v=t.hasStickyHeader,b=t.headerActionItems,g=t.title,E=r()("collapsible-card",{"is-open":e},{"is-bordered":y},m),O=i[u.b],w=l()(i,[u.b]),C=v?"collapsible-card-header has-sticky-header":"collapsible-card-header";return O&&(w[u.b]="".concat(O).concat(e?"collapse":"expand")),n.createElement("div",{className:E},n.createElement("div",{className:C},n.createElement(p.a,h({},w,{className:"collapsible-card-title",onClick:this.toggleVisibility,type:"button"}),g,n.createElement(d.a,{className:"collapsible-card-header-caret",color:f.s,width:8})),e&&b),n.createElement(c.a,{duration:a,height:e?"auto":0},n.createElement("div",{className:"collapsible-card-content"},s)))}}])&&y(a.prototype,o),i&&y(a,i),t}();E(O,"defaultProps",{buttonProps:{},className:"",isOpen:!0,animationDuration:100}),t.a=O},1126:function(e,t,a){var n=a(1127);e.exports=function(e,t){return n(e,t)}},1127:function(e,t,a){var n=a(1128),o=a(70);e.exports=function e(t,a,r,i,l){return t===a||(null==t||null==a||!o(t)&&!o(a)?t!=t&&a!=a:n(t,a,r,i,e,l))}},1128:function(e,t,a){var n=a(346),o=a(1121),r=a(1134),i=a(1137),l=a(258),s=a(61),c=a(257),u=a(348),d=1,p="[object Arguments]",f="[object Array]",m="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,y,v,b){var g=s(e),E=s(t),O=g?f:l(e),w=E?f:l(t),C=(O=O==p?m:O)==m,S=(w=w==p?m:w)==m,j=O==w;if(j&&c(e)){if(!c(t))return!1;g=!0,C=!1}if(j&&!C)return b||(b=new n),g||u(e)?o(e,t,a,y,v,b):r(e,t,O,a,y,v,b);if(!(a&d)){var P=C&&h.call(e,"__wrapped__"),N=S&&h.call(t,"__wrapped__");if(P||N){var M=P?e.value():e,T=N?t.value():t;return b||(b=new n),v(M,T,a,y,b)}}return!!j&&(b||(b=new n),i(e,t,a,y,v,b))}},1129:function(e,t,a){var n=a(347),o=a(1130),r=a(1131);function i(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new n;++t<a;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=r,e.exports=i},1130:function(e,t){var a="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,a),this}},1131:function(e,t){e.exports=function(e){return this.__data__.has(e)}},1132:function(e,t){e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}},1133:function(e,t){e.exports=function(e,t){return e.has(t)}},1134:function(e,t,a){var n=a(161),o=a(513),r=a(191),i=a(1121),l=a(1135),s=a(1136),c=1,u=2,d="[object Boolean]",p="[object Date]",f="[object Error]",m="[object Map]",h="[object Number]",y="[object RegExp]",v="[object Set]",b="[object String]",g="[object Symbol]",E="[object ArrayBuffer]",O="[object DataView]",w=n?n.prototype:void 0,C=w?w.valueOf:void 0;e.exports=function(e,t,a,n,w,S,j){switch(a){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!S(new o(e),new o(t)));case d:case p:case h:return r(+e,+t);case f:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case m:var P=l;case v:var N=n&c;if(P||(P=s),e.size!=t.size&&!N)return!1;var M=j.get(e);if(M)return M==t;n|=u,j.set(e,t);var T=i(P(e),P(t),n,w,S,j);return j.delete(e),T;case g:if(C)return C.call(e)==C.call(t)}return!1}},1135:function(e,t){e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach(function(e,n){a[++t]=[n,e]}),a}},1136:function(e,t){e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=e}),a}},1137:function(e,t,a){var n=a(514),o=1,r=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,i,l,s){var c=a&o,u=n(e),d=u.length;if(d!=n(t).length&&!c)return!1;for(var p=d;p--;){var f=u[p];if(!(c?f in t:r.call(t,f)))return!1}var m=s.get(e);if(m&&s.get(t))return m==t;var h=!0;s.set(e,t),s.set(t,e);for(var y=c;++p<d;){var v=e[f=u[p]],b=t[f];if(i)var g=c?i(b,v,f,t,e,s):i(v,b,f,e,t,s);if(!(void 0===g?v===b||l(v,b,a,i,s):g)){h=!1;break}y||(y="constructor"==f)}if(h&&!y){var E=e.constructor,O=t.constructor;E!=O&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof O&&O instanceof O)&&(h=!1)}return s.delete(e),s.delete(t),h}},1138:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(0)),i=s(a(11)),l=s(a(6));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},d=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function p(e){return!isNaN(parseFloat(e))&&isFinite(e)}function f(e){return"string"==typeof e&&e.search("%")===e.length-1&&p(e.substr(0,e.length-1))}function m(e,t){e&&"function"==typeof e&&e(t)}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o="auto",r="visible";p(e.height)?(o=e.height<0?0:e.height,r="hidden"):f(e.height)&&(o=e.height,r="hidden"),a.animationStateClasses=n({},u,e.animationStateClasses);var i=a.getStaticStateClasses(o);return a.state={animationStateClasses:i,height:o,overflow:r,shouldUseTransitions:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var a,n=this,o=this.props,r=o.delay,i=o.duration,s=o.height,u=o.onAnimationEnd,d=o.onAnimationStart;if(this.contentElement&&s!==e.height){var h;this.showContent(t.height),this.contentElement.style.overflow="hidden";var y=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var v=i+r,b=null,g={height:null,overflow:"hidden"},E="auto"===t.height;p(s)?(b=s<0?0:s,g.height=b):f(s)?(b=s,g.height=b):(b=y,g.height="auto",g.overflow=null),E&&(g.height=b,b=y);var O=(0,l.default)((c(h={},this.animationStateClasses.animating,!0),c(h,this.animationStateClasses.animatingUp,"auto"===e.height||s<e.height),c(h,this.animationStateClasses.animatingDown,"auto"===s||s>e.height),c(h,this.animationStateClasses.animatingToHeightZero,0===g.height),c(h,this.animationStateClasses.animatingToHeightAuto,"auto"===g.height),c(h,this.animationStateClasses.animatingToHeightSpecific,g.height>0),h)),w=this.getStaticStateClasses(g.height);this.setState({animationStateClasses:O,height:b,overflow:"hidden",shouldUseTransitions:!E}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),E?(g.shouldUseTransitions=!0,a=function(){n.setState(g),m(d,{newHeight:g.height})},requestAnimationFrame(function(){requestAnimationFrame(function(){a()})}),this.animationClassesTimeoutID=setTimeout(function(){n.setState({animationStateClasses:w,shouldUseTransitions:!1}),n.hideContent(g.height),m(u,{newHeight:g.height})},v)):(m(d,{newHeight:b}),this.timeoutID=setTimeout(function(){g.animationStateClasses=w,g.shouldUseTransitions=!1,n.setState(g),"auto"!==s&&n.hideContent(b),m(u,{newHeight:b})},v))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,l.default)((c(t={},this.animationStateClasses.static,!0),c(t,this.animationStateClasses.staticHeightZero,0===e),c(t,this.animationStateClasses.staticHeightSpecific,e>0),c(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,a=this.props,o=a.animateOpacity,i=a.applyInlineTransitions,s=a.children,u=a.className,p=a.contentClassName,f=a.duration,m=a.easing,h=a.delay,y=a.style,v=this.state,b=v.height,g=v.overflow,E=v.animationStateClasses,O=v.shouldUseTransitions,w=n({},y,{height:b,overflow:g||y.overflow});O&&i&&(w.transition="height "+f+"ms "+m+" "+h+"ms",y.transition&&(w.transition=y.transition+", "+w.transition),w.WebkitTransition=w.transition);var C={};o&&(C.transition="opacity "+f+"ms "+m+" "+h+"ms",C.WebkitTransition=C.transition,0===b&&(C.opacity=0));var S=(0,l.default)((c(e={},E,!0),c(e,u,u),e));return r.default.createElement("div",n({},function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(!a.length)return e;for(var o={},r=Object.keys(e),i=0;i<r.length;i++){var l=r[i];-1===a.indexOf(l)&&(o[l]=e[l])}return o}.apply(void 0,[this.props].concat(d)),{"aria-hidden":0===b,className:S,style:w}),r.default.createElement("div",{className:p,style:C,ref:function(e){return t.contentElement=e}},s))}}]),t}();h.propTypes={animateOpacity:i.default.bool,animationStateClasses:i.default.object,applyInlineTransitions:i.default.bool,children:i.default.any.isRequired,className:i.default.string,contentClassName:i.default.string,duration:i.default.number,delay:i.default.number,easing:i.default.string,height:i.default.oneOfType([i.default.string,i.default.number]),onAnimationEnd:i.default.func,onAnimationStart:i.default.func,style:i.default.object},h.defaultProps={animateOpacity:!1,animationStateClasses:u,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=h},1139:function(e,t,a){},1140:function(e,t,a){},1187:function(e,t,a){},1188:function(e,t,a){},1189:function(e,t,a){},1190:function(e,t,a){},1191:function(e,t,a){},1192:function(e,t,a){},1193:function(e,t,a){},1194:function(e,t,a){},1195:function(e,t,a){},1196:function(e,t,a){},1197:function(e,t,a){},1198:function(e,t,a){},1199:function(e,t,a){},1200:function(e,t,a){},1201:function(e,t,a){},1202:function(e,t,a){},1203:function(e,t,a){},1204:function(e,t,a){},1205:function(e,t,a){},1206:function(e,t,a){},1217:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(5),i=a.n(r),l=a(9),s=a.n(l),c=a(135),u=a.n(c),d=a(2),p=a(6),f=a.n(p),m=a(1126),h=a.n(m),y=a(59),v=a.n(y),b=a(1123),g=a(340),E=a(32),O=a(25),w=a(15),C=a(7),S=function(e){var t,a=e.className,o=void 0===a?"":a,r=e.color,i=e.title,l=e.type,s=e.width,c=void 0===s?16:s,u=e.height,d=void 0===u?16:u;return t=r||("cascade"===l?w.t:w.m),n.createElement(C.a,{className:"icon-metadata ".concat(o),height:d,title:i,viewBox:"0 0 16 16",width:c},n.createElement("path",{className:"fill-color",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm-2.515-5.879L6.2 7.263l1.376 2.202a.5.5 0 0 0 .848 0L9.8 7.263l.715 2.858a.5.5 0 0 0 .97-.242l-1-4a.5.5 0 0 0-.909-.144L8 8.257 6.424 5.735a.5.5 0 0 0-.91.144l-1 4a.5.5 0 0 0 .971.242z",fill:t,fillRule:"evenodd"}))},j=a(456),P=a(1120),N=a(38);a(1187);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var T=function(e){var t=e.className,a=void 0===t?"":t,o=e.description,r=e.inputProps,i=void 0===r?{}:r,l=e.isDisabled,s=e.isOn,c=e.isToggleRightAligned,u=void 0!==c&&c,d=e.label,p=e.name,m=e.onBlur,h=e.onChange,y=f()("toggle-container",a,{"is-toggle-right-aligned":u}),v=[n.createElement("div",{key:"toggle-simple-switch",className:"toggle-simple-switch"}),n.createElement("div",{key:"toggle-simple-label",className:"toggle-simple-label"},d)];return u&&(v=v.reverse()),n.createElement("div",{className:y},n.createElement("label",{className:"toggle-simple"},n.createElement("input",M({checked:s,className:"toggle-simple-input",disabled:l,name:p,onBlur:m,onChange:h,type:"checkbox"},i)),v),o?n.createElement("div",{className:"toggle-simple-description"},o):null)};a(1188);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var I=function(){},A=function(e){var t=e.isDisabled,a=e.isSelected,o=void 0!==a&&a,r=e.description,i=e.hideLabel,l=void 0!==i&&i,s=e.label,c=e.name,u=e.value,d=x(e,["isDisabled","isSelected","description","hideLabel","label","name","value"]);return n.createElement("div",{className:"radio-container"},n.createElement("label",{className:"radio-label"},n.createElement("input",k({checked:o,disabled:t,name:c,onChange:I,type:"radio",value:u},d)),n.createElement("span",null),n.createElement("span",{className:l?"accessibility-hidden":""},s)),r?n.createElement("div",{className:"radio-description"},r):null)};function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var B=function(e){function t(e){var a,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=D(t).call(this,e),a=!o||"object"!==_(o)&&"function"!=typeof o?V(n):o,H(V(V(a)),"onChangeHandler",function(e){var t=e.target,n=a.props.onChange;t instanceof HTMLInputElement&&a.setState({value:t.value}),n&&n(e)}),a.state={value:e.value},a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,n["Component"]),a=t,(o=[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,o=e.name,r=this.state.value;return n.createElement("div",{className:"radio-group ".concat(a),onChange:this.onChangeHandler},n.Children.map(t,function(e){return n.createElement(A,{description:e.props.description,isDisabled:e.props.isDisabled,isSelected:e.props.value===r,label:e.props.label,name:o,value:e.props.value})}))}}])&&R(a.prototype,o),r&&R(a,r),t}();H(B,"defaultProps",{className:""});var K=B;var L=a(353),z=function(e){var t=e.className,a=void 0===t?"":t,o=e.color,r=void 0===o?"#F7931D":o,i=e.height,l=void 0===i?26:i,s=e.title,c=e.width,u=void 0===c?26:c;return n.createElement(C.a,{className:"icon-alert-default ".concat(a),title:s,height:l,width:u,viewBox:"0 0 26 26"},n.createElement("defs",null,n.createElement("circle",{id:"b",cx:"8",cy:"8",r:"8"}),n.createElement("filter",{x:"-46.9%",y:"-46.9%",width:"193.8%",height:"193.8%",filterUnits:"objectBoundingBox",id:"a"},n.createElement("feMorphology",{radius:".5",operator:"dilate",in:"SourceAlpha",result:"shadowSpreadOuter1"}),n.createElement("feOffset",{in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),n.createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.createElement("feColorMatrix",{values:"0 0 0 0 0.733285502 0 0 0 0 0.733285502 0 0 0 0 0.733285502 0 0 0 0.5 0",in:"shadowBlurOuter1"}))),n.createElement("g",{transform:"translate(5 5)",fill:"none",fillRule:"evenodd"},n.createElement("use",{fill:"#000",filter:"url(#a)",xlinkHref:"#b"}),n.createElement("use",{fill:r,xlinkHref:"#b"}),n.createElement("path",{d:"M8.047 4.706v4.111",stroke:"#FFF",strokeWidth:"1.412",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("circle",{fill:"#FFF",cx:"8.047",cy:"11.294",r:"1"})))},q=Object(d.f)({customTitle:{id:"boxui.metadataInstanceEditor.customTitle",defaultMessage:"Custom Metadata"},customAdd:{id:"boxui.metadataInstanceEditor.customAdd",defaultMessage:"Add"},customRemove:{id:"boxui.metadataInstanceEditor.customRemove",defaultMessage:"Remove"},customKey:{id:"boxui.metadataInstanceEditor.customKey",defaultMessage:"Key"},customKeyPlaceholder:{id:"boxui.metadataInstanceEditor.customKeyPlaceholder",defaultMessage:"e.g. Order Number"},customValue:{id:"boxui.metadataInstanceEditor.customValue",defaultMessage:"Value"},customValuePlaceholder:{id:"boxui.metadataInstanceEditor.customValuePlaceholder",defaultMessage:"e.g. 42"},customNewField:{id:"boxui.metadataInstanceEditor.customNewField",defaultMessage:"New Field"},customNewFieldMessage:{id:"boxui.metadataInstanceEditor.customNewFieldMessage",defaultMessage:"Add a custom metadata field. Other people will be able to see and search for this field."},customErrorRequired:{id:"boxui.metadataInstanceEditor.customErrorRequired",defaultMessage:"A key is required."},customErrorDuplicateKey:{id:"boxui.metadataInstanceEditor.customErrorDuplicateKey",defaultMessage:"A field with that key already exists."},customErrorInternalKey:{id:"boxui.metadataInstanceEditor.customErrorInternalKey",defaultMessage:"Keys cannot begin with a $."},invalidInput:{id:"boxui.metadataInstanceEditor.invalidValue",defaultMessage:"Invalid Input!"},invalidMetadataFieldType:{id:"boxui.metadataInstanceEditor.invalidMetadataFieldType",defaultMessage:"Invalid metadata field type!"},metadataEditTooltip:{id:"boxui.metadataInstanceEditor.editTooltip",defaultMessage:"Edit Metadata"},metadataFieldNoValue:{id:"boxui.metadataInstanceEditor.fieldNoValue",defaultMessage:"No Value"},metadataFieldSelectValue:{id:"boxui.metadataInstanceEditor.fieldSelectValue",defaultMessage:"Select Value"},metadataFieldMultiSelectValue:{id:"boxui.metadataInstanceEditor.fieldMultiSelectValue",defaultMessage:"Select Values"},metadataFieldSetValue:{id:"boxui.metadataInstanceEditor.fieldSetValue",defaultMessage:"Set Value"},metadataFieldSetDate:{id:"boxui.metadataInstanceEditor.fieldSetDate",defaultMessage:"Set Date"},metadataRemoveTemplate:{id:"boxui.metadataInstanceEditor.removeTemplate",defaultMessage:"Remove"},fileMetadataRemoveTemplateConfirm:{id:"boxui.metadataInstanceEditor.fileMetadataRemoveTemplateConfirm",defaultMessage:'Are you sure you want to delete "{metadataName}" and all of its values from this file?'},folderMetadataRemoveTemplateConfirm:{id:"boxui.metadataInstanceEditor.folderMetadataRemoveTemplateConfirm",defaultMessage:'Are you sure you want to delete "{metadataName}" and all of its values? Any metadata template values already applied to files in this folder will not be deleted.'},fileMetadataRemoveCustomTemplateConfirm:{id:"boxui.metadataInstanceEditor.fileMetadataRemoveCustomTemplateConfirm",defaultMessage:"Are you sure you want to delete this custom metadata and all of its values from this file?"},folderMetadataRemoveCustomTemplateConfirm:{id:"boxui.metadataInstanceEditor.folderMetadataRemoveCustomTemplateConfirm",defaultMessage:"Are you sure you want to delete this custom metadata and all of its values? Any metadata template values already applied to files in this folder will not be deleted."},metadataTemplateSearchPlaceholder:{id:"boxui.metadataInstanceEditor.templateSearchPlaceholder",defaultMessage:"Search all templates"},metadataTemplateAdd:{id:"boxui.metadataInstanceEditor.templateAdd",defaultMessage:"Add"},metadataTemplatesTitle:{id:"boxui.metadataInstanceEditor.templatesTitle",defaultMessage:"Templates"},metadataTemplatesNoResults:{id:"boxui.metadataInstanceEditor.templatesNoResults",defaultMessage:"No Results"},metadataTemplatesFetchFailed:{id:"boxui.metadataInstanceEditor.templatesFetchFailed",defaultMessage:"Sorry! We could not fetch templates. Please contact your administrator"},metadataTemplatesNoRemainingTemplates:{id:"boxui.metadataInstanceEditor.templatesNoRemainingTemplates",defaultMessage:"All templates have been added"},metadataTemplatesServerHasNoTemplates:{id:"boxui.metadataInstanceEditor.templatesServerHasNoTemplates",defaultMessage:"Zero templates"},metadataSave:{id:"boxui.metadataInstanceEditor.metadataSave",defaultMessage:"Save"},metadataCancel:{id:"boxui.metadataInstanceEditor.metadataCancel",defaultMessage:"Cancel"},metadataCascadePolicyEnabledInfo:{id:"boxui.metadataInstanceEditor.metadataCascadePolicyEnabledInfo",defaultMessage:"This template and its values are being cascaded to all items in this folder and its subfolders."},noMetadata:{id:"boxui.metadataInstanceEditor.noMetadata",defaultMessage:"No Metadata Applied"},noMetadataAddTemplate:{id:"boxui.metadataInstanceEditor.noMetadataAddTemplate",defaultMessage:"Click 'Add' in the top right to add metadata to this item"},enableCascadePolicy:{id:"boxui.metadataInstanceEditor.enableCascadePolicy",defaultMessage:"Enable Cascade Policy"},applyCascadePolicyText:{id:"boxui.metadataInstanceEditor.applyCascadePolicyText",defaultMessage:"Apply template and its values to all new and existing items in this folder and its subfolders."},cannotApplyCascadePolicyText:{id:"boxui.metadataInstanceEditor.cannotApplyCascadePolicyText",defaultMessage:"Cascade policy cannot be applied to custom metadata at this time."},cascadePolicyLearnMore:{id:"boxui.metadataInstanceEditor.cascadePolicyLearnMore",defaultMessage:"Learn more"},cascadePolicyModeQuestion:{id:"boxui.metadataInstanceEditor.cascadePolicyModeQuestion",defaultMessage:"In the case of conflicts when applying this template and its values to existing items, what would you like to do? This is a one time action."},cascadePolicySkipMode:{id:"boxui.metadataInstanceEditor.cascadePolicySkipMode",defaultMessage:"Skip and keep all existing template values"},cascadePolicyOverwriteMode:{id:"boxui.metadataInstanceEditor.cascadePolicyOverwriteMode",defaultMessage:"Overwrite all existing template values"},allAttributesAreHidden:{id:"boxui.metadataInstanceEditor.allAttributesAreHidden",defaultMessage:"All attributes in this template have been hidden."},noAttributesForTemplate:{id:"boxui.metadataInstanceEditor.noAttributesForTemplate",defaultMessage:"There are no attributes in this template."},operationNotImmediate:{id:"boxui.metadataInstanceEditor.operationNotImmediate",defaultMessage:"This operation is not immediate and may take some time."}});a(1189);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var W=function(e){var t=e.canEdit,a=e.isCascadingEnabled,o=e.isCascadingOverwritten,r=e.isCustomMetadata,i=e.onCascadeToggle,l=e.onCascadeModeChange,s=e.shouldShowCascadeOptions,c=a?n.createElement("div",{className:"metadata-cascade-notice"},n.createElement(d.b,q.metadataCascadePolicyEnabledInfo)):null;return t?n.createElement(n.Fragment,null,n.createElement("div",{className:"metadata-cascade-editor"},n.createElement("div",{className:"metadata-cascade-enable"},n.createElement("div",null,n.createElement(d.b,U({tagName:"strong"},q.enableCascadePolicy)),!r&&n.createElement(T,{className:"metadata-cascade-toggle ".concat(a?"cascade-on":"cascade-off"),isOn:a,label:"",onChange:function(e){return i(e.target.checked)}})),r?n.createElement("div",null,n.createElement(d.b,q.cannotApplyCascadePolicyText)):n.createElement("div",{className:"cascade-policy-text"},n.createElement(d.b,q.applyCascadePolicyText)," ",n.createElement(L.a,{className:"cascade-policy-learnmore-link",href:"https://community.box.com/t5/Organizing-and-Tracking-Content/Metadata/ta-p/30765",target:"_blank"},n.createElement(d.b,q.cascadePolicyLearnMore))))),s&&n.createElement("div",{className:"metadata-cascade-editor"},n.createElement("div",{className:"metadata-cascading-mode"},n.createElement(d.b,q.cascadePolicyModeQuestion),n.createElement("div",{className:"metadata-operation-not-immediate"},n.createElement(z,null),n.createElement("span",null,n.createElement(d.b,q.operationNotImmediate))),n.createElement(K,{className:"metadata-cascading-options",onChange:function(e){return l("overwrite"===e.target.value)},value:o?"overwrite":"skip"},n.createElement(A,{label:n.createElement(d.b,q.cascadePolicySkipMode),value:"skip"}),n.createElement(A,{label:n.createElement(d.b,q.cascadePolicyOverwriteMode),value:"overwrite"}))))):c},Z=a(136),J=a(1119);a(1190);var Q=Object(d.g)(function(e){var t=e.dataKey,a=e.dataValue,o=e.displayName,r=e.description,i=e.error,l=e.intl,s=e.onChange,c=e.onRemove,u=e.type,d=void 0===u?"text":u,p="";return"number"==typeof a?p=a:a&&(p=a),n.createElement(J.a,{className:"metadata-instance-editor-field-text",description:r,error:i,hideOptionalLabel:!0,label:o,onChange:function(e){var a=e.currentTarget;a.value?s(t,a.value):c(t)},placeholder:l.formatMessage(q.metadataFieldSetValue),type:d,value:p})}),$=a(350),G=a(23),X=a.n(G),Y=a(13),ee=a.n(Y),te=a(109);a(1191);function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var oe=function(e){var t=e.children,a=e.className,o=void 0===a?"":a,r=e.error,i=e.isDisabled,l=void 0!==i&&i,s=ne(e,["children","className","error","isDisabled"]);return n.createElement(O.a,{isShown:!!r,position:"middle-right",text:r,theme:"error"},n.createElement("button",ae({className:f()(o,"select-button",{"is-invalid":!!r}),disabled:l,type:"button"},s),t))},re=a(230),ie=a(1);a(1192);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ce(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function me(e){e.preventDefault(),e.stopPropagation()}var he=function(e){function t(e){var a,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=ue(t).call(this,e),a=!r||"object"!==le(r)&&"function"!=typeof r?pe(o):r,fe(pe(pe(a)),"setActiveItem",function(e){a.setState({activeItemIndex:e}),-1===e&&a.setActiveItemID(null)}),fe(pe(pe(a)),"setActiveItemID",function(e){var t=e?document.getElementById(e):null;a.setState({activeItemID:e}),Object(N.e)(t)}),fe(pe(pe(a)),"handleChange",function(e){var t=a.props.onChange;t&&t(e)}),fe(pe(pe(a)),"handleOptionSelect",function(e){var t=a.props.onOptionSelect;t&&t(e)}),fe(pe(pe(a)),"handleButtonClick",function(){a.state.isOpen?a.closeDropdown():a.openDropdown()}),fe(pe(pe(a)),"handleButtonKeyDown",function(e){var t=a.state.activeItemIndex;" "!==e.key&&"Enter"!==e.key||-1===t||e.preventDefault()}),fe(pe(pe(a)),"handleBlur",function(){a.state.isOpen&&a.closeDropdown()}),fe(pe(pe(a)),"handleKeyDown",function(e){var t=a.props.options,n=a.state,o=n.activeItemIndex,r=n.isOpen,i=t.length;switch(e.key){case"ArrowDown":if(me(e),r){var l=o===i-1?-1:o+1;a.setActiveItem(l)}else a.openDropdown();break;case"ArrowUp":if(me(e),r){var s=-1===o?i-1:o-1;a.setActiveItem(s)}else a.openDropdown();break;case"Enter":case" ":-1!==o&&r&&(me(e),a.selectOption(o),"Enter"===e.key&&a.closeDropdown());break;case"Escape":r&&(me(e),a.closeDropdown())}}),fe(pe(pe(a)),"openDropdown",function(){a.state.isOpen||a.setState({isOpen:!0})}),fe(pe(pe(a)),"closeDropdown",function(){a.state.isOpen&&a.setState({activeItemID:null,activeItemIndex:-1,isOpen:!1})}),fe(pe(pe(a)),"selectOption",function(e){a.props.multiple?a.selectMultiOption(e):(a.selectSingleOption(e),a.closeDropdown())}),fe(pe(pe(a)),"selectMultiOption",function(e){var t=a.props,n=t.defaultValue,o=t.options,r=t.selectedValues,i=null!=n,l=o[e];if(i&&n===l.value)a.selectSingleOption(e);else{var s=r.slice(0);if(function(e,t){var a=e.indexOf(t);-1===a?e.push(t):e.splice(a,1)}(s,l.value),i){var c=o.findIndex(function(e){return e.value===n});if(-1!==c){if(0===s.length)return void a.selectSingleOption(c);s.length>1&&s.includes(n)&&s.splice(c,1)}}a.handleChange(o.filter(function(e){return s.includes(e.value)})),a.handleOptionSelect(l)}}),fe(pe(pe(a)),"renderButtonText",function(){var e=a.props,t=e.options,n=e.placeholder,o=e.selectedValues,r=e.title;return 0===o.length&&n?n:r||t.filter(function(e){return o.includes(e.value)}).map(function(e){return e.displayText}).join(", ")}),fe(pe(pe(a)),"renderSelectButton",function(){var e=a.state,t=e.activeItemID,o=e.isOpen,r=a.props,i=r.buttonProps,l=r.isDisabled,s=r.className,c=r.error,u=a.renderButtonText(),d=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){fe(e,t,a[t])})}return e}({},i,{"aria-activedescendant":t,"aria-autocomplete":"list","aria-expanded":o,"aria-owns":a.selectFieldID,className:s,isDisabled:l,onClick:a.handleButtonClick,onKeyDown:a.handleButtonKeyDown,role:"combobox",title:u});return n.createElement(oe,se({},d,{error:c}),u)}),fe(pe(pe(a)),"renderSelectOptions",function(){var e=a.props,t=e.options,o=e.selectedValues,r=e.separatorIndices,i=a.state.activeItemIndex,l=t.map(function(e,t){var r=e.displayText,l=e.value,s=o.includes(l),c={className:"select-option",key:t,onClick:function(e){e.preventDefault(),a.selectOption(t)},onMouseDown:function(e){e.preventDefault()},onMouseEnter:function(){a.setActiveItem(t)},setActiveItemID:a.setActiveItemID};return t===i&&(c.isActive=!0),n.createElement(re.a,c,n.createElement("div",{className:"select-option-check-icon"},s?n.createElement(te.a,{height:16,width:16}):null),r)});return r.forEach(function(e,t){l.splice(e+t,0,n.createElement("li",{key:"separator".concat(e),role:"separator"}))}),l}),a.selectFieldID=ee()("selectfield"),a.state={activeItemID:null,activeItemIndex:-1,isOpen:!1},a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,n["Component"]),a=t,(o=[{key:"selectSingleOption",value:function(e){var t=this.props,a=t.options,n=t.selectedValues,o=a[e];n.includes(o.value)||this.handleChange([o]),this.handleOptionSelect(o)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.multiple,o=this.state.isOpen,r={};return a&&(r["aria-multiselectable"]=!0),n.createElement("div",{className:f()(t,"select-container"),onBlur:this.handleBlur,onKeyDown:this.handleKeyDown},n.createElement("div",{className:"select-field"},this.renderSelectButton(),n.createElement("div",{className:f()(ie.Qd,{"is-visible":o})},n.createElement("ul",se({className:"overlay",id:this.selectFieldID,role:"listbox"},r),this.renderSelectOptions()))))}}])&&ce(a.prototype,o),r&&ce(a,r),t}();fe(he,"defaultProps",{buttonProps:{},isDisabled:!1,multiple:!1,options:[],selectedValues:[],separatorIndices:[]});var ye=he;function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function Ee(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Se=function(e){function t(){var e,a,n,o,r,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=this,o=(e=Oe(t)).call.apply(e,[this].concat(c)),a=!o||"object"!==ve(o)&&"function"!=typeof o?Ce(n):o,r=Ce(Ce(a)),l=function(e){var t=a.props,n=t.onChange,o=t.fieldType;n&&1===e.length&&n(e[0],o)},(i="handleChange")in r?Object.defineProperty(r,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[i]=l,a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,n["Component"]),a=t,(o=[{key:"render",value:function(){var e=this.props,t=e.isDisabled,a=e.selectedValue,o=e.placeholder,r=ge(e,["isDisabled","selectedValue","placeholder"]),i=X()(r,["defaultValue","multiple","onChange"]),l=null!==a;return i.selectedValues=l?[a]:[],n.createElement(ye,be({className:!l&&o?"placeholder":"",isDisabled:t,onChange:this.handleChange,placeholder:o},i))}}])&&Ee(a.prototype,o),r&&Ee(a,r),t}(),je=(a(1193),Object(d.g)(function(e){var t=e.dataKey,a=e.dataValue,o=e.displayName,r=e.description,i=e.intl,l=e.onChange,s=e.onRemove,c=e.options,u=(void 0===c?[]:c).map(function(e){return{displayText:e.key,value:e.key,isSelectable:!0}}),d=i.formatMessage(q.metadataFieldSelectValue);return u.unshift({displayText:d,value:d,isSelectable:!1}),n.createElement("div",{className:"metadata-instance-editor-field-enum"},n.createElement($.a,{text:o},!!r&&n.createElement("i",{className:"metadata-instance-editor-field-enum-desc"},r),n.createElement(Se,{onChange:function(e){e.isSelectable?l(t,e.value):s&&s(t)},options:u,selectedValue:Array.isArray(a)?a.join(", "):a||d})))})),Pe=a(229),Ne=a(87),Me=(a(1194),Object(d.g)(function(e){var t=e.dataKey,a=e.dataValue,o=e.displayName,r=e.description,i=e.intl,l=e.onChange,s=e.onRemove;return n.createElement(Pe.a,{className:"metadata-instance-editor-field-date",dateFormat:"utcISOString",description:r,displayFormat:{day:"numeric",month:"long",year:"numeric"},hideOptionalLabel:!0,label:o,onChange:function(e,a){a?l(t,a):s(t)},placeholder:i.formatMessage(q.metadataFieldSetDate),value:"string"==typeof a?Object(Ne.c)(a):void 0})})),Te="string",ke="properties",xe=/^[-+]?[0-9]*\.?[0-9]*$/,Ie=/^[-+]?[0-9]+$/,Ae=function(e,t){return"float"===e&&"string"==typeof t?function(e){return!!e.match(xe)}(t):"integer"!==e||"string"!=typeof t||function(e){return!!e.match(Ie)}(t)},_e=function(e){var t=e.dataKey,a=e.dataValue,o=e.displayName,r=e.description,i=e.error,l=e.onChange,s=e.onRemove,c=e.type;return n.createElement(Q,{dataKey:t,dataValue:a,description:r,displayName:o,error:i,onChange:function(e,t){Ae(c,t)&&l(e,t)},onRemove:s})},Re=function(e){var t=e.dataKey,a=e.dataValue,o=e.displayName,r=e.description,i=e.error,l=e.onChange,s=e.onRemove,c=e.type;return n.createElement(Q,{dataKey:t,dataValue:a,description:r,displayName:o,error:i,onChange:function(e,t){Ae(c,t)&&l(e,t)},onRemove:s})};function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Fe=function(e){var t=De({},e);return o.a.createElement(ye,De({},t,{multiple:!0}))},Ve=(a(1195),function(e){var t=e.dataKey,a=e.dataValue,o=e.displayName,r=e.description,i=e.onChange,l=e.onRemove,s=e.options,c=void 0===s?[]:s,u=n.createElement(d.b,q.metadataFieldMultiSelectValue);return n.createElement("div",{className:"metadata-instance-editor-field-multi-select"},n.createElement($.a,{text:o},!!r&&n.createElement("i",{className:"metadata-instance-editor-field-multi-select-desc"},r),n.createElement(Fe,{onChange:function(e){e.length?i(t,e.map(function(e){return e.value})):l(t)},options:c.map(function(e){return{displayText:e.key,value:e.key}}),placeholder:u,selectedValues:a})))});a(1196);function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Be=function(e){var t=e.dataValue,a=e.description,o=e.displayName,r=e.type,i=n.createElement(d.b,He({tagName:"i"},q.metadataFieldNoValue));return(t||"number"==typeof t)&&(i="string"==typeof t&&"date"===r?n.createElement(d.a,{day:"numeric",month:"long",value:Object(Ne.c)(t),year:"numeric"}):Array.isArray(t)?t.join(", "):t),n.createElement("dl",{className:"metadata-instance-editor-field-read-only"},n.createElement("dt",null,o),!!a&&n.createElement("i",{className:"metadata-instance-editor-field-read-only-desc"},a),n.createElement("dd",null,i))},Ke=function(e){var t=e.dataKey,a=e.dataValue,o=e.displayName,r=e.description,i=e.error,l=e.isHidden,s=e.canEdit,c=e.onChange,u=e.onRemove,p=e.options,f=e.type;if(l)return null;if(!s)return n.createElement(Be,{dataValue:a,description:r,displayName:o,type:f});if(!c||!u)throw new Error("Need to have onChange and onRemove");switch(f){case Te:return n.createElement(Q,{dataKey:t,dataValue:a,description:r,displayName:o,onChange:c,onRemove:u});case"float":return n.createElement(_e,{dataKey:t,dataValue:a,description:r,displayName:o,error:i,onChange:c,onRemove:u,type:f});case"integer":return n.createElement(Re,{dataKey:t,dataValue:a,description:r,displayName:o,error:i,onChange:c,onRemove:u,type:f});case"enum":return n.createElement(je,{dataKey:t,dataValue:a,description:r,displayName:o,onChange:c,onRemove:u,options:p});case"multiSelect":return n.createElement(Ve,{dataKey:t,dataValue:a,description:r,displayName:o,onChange:c,onRemove:u,options:p});case"date":return n.createElement(Me,{dataKey:t,dataValue:a,description:r,displayName:o,onChange:c,onRemove:u});default:return n.createElement(Z.a,{title:f},n.createElement(d.b,q.invalidMetadataFieldType))}},Le=function(e){return!!e.isHidden||!!e.hidden},ze=(a(1197),function(e){var t=e.canEdit,a=e.data,o=void 0===a?{}:a,r=e.errors,i=e.onFieldChange,l=e.onFieldRemove,s=e.template.fields,c=void 0===s?[]:s,u=c.length>0,p=u&&c.some(function(e){return!Le(e)}),f=!u,m=u&&!p;return n.createElement(n.Fragment,null,p&&c.map(function(e){return n.createElement(Ke,{key:e.id,canEdit:t,dataKey:e.key,dataValue:o[e.key],description:e.description,displayName:e.displayName,error:r[e.key],isHidden:Le(e),onChange:function(a,n){t&&i&&i(a,n,e.type)},onRemove:function(e){t&&l&&l(e)},options:e.options,type:e.type})}),m&&n.createElement("div",{className:"attributes-hidden-message"},n.createElement(d.b,q.allAttributesAreHidden)),f&&n.createElement("div",{className:"no-attributes-message"},n.createElement(d.b,q.noAttributesForTemplate)))}),qe=a(31),Ue=a(188),We=a(50),Ze=a(236);a(1198);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tt=function(e){function t(){var e,a,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return o=this,r=(e=Ge(t)).call.apply(e,[this].concat(l)),a=!r||"object"!==Je(r)&&"function"!=typeof r?Ye(o):r,et(Ye(Ye(a)),"state",{key:"",value:"",error:""}),et(Ye(Ye(a)),"onKeyChange",function(e){a.onChange(e,"key")}),et(Ye(Ye(a)),"onValueChange",function(e){a.onChange(e,"value")}),et(Ye(Ye(a)),"onAdd",function(){var e=a.state,t=e.key,o=e.value,r=a.props,i=r.onAdd,l=r.properties;Object.prototype.hasOwnProperty.call(l,t)?a.setState({error:n.createElement(d.b,q.customErrorDuplicateKey)}):t.startsWith("$")?a.setState({error:n.createElement(d.b,q.customErrorInternalKey)}):t?i(t,o):a.setState({error:n.createElement(d.b,q.customErrorRequired)})}),a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,n["PureComponent"]),a=t,(o=[{key:"onChange",value:function(e,t){var a=e.currentTarget;this.setState(et({error:""},t,a.value))}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.isCancellable,o=e.onCancel,r=this.state,i=r.key,l=r.value,s=r.error;return n.createElement("div",{className:"custom-new-field"},n.createElement("div",{className:"custom-new-field-header"},n.createElement(d.b,Qe({tagName:"h5"},q.customNewField)),n.createElement(Ue.a,{text:n.createElement(d.b,q.customNewFieldMessage)},n.createElement("div",{tabIndex:"-1"},n.createElement(Ze.a,{color:"#777",height:18,width:18})))),n.createElement(J.a,{error:s,isRequired:!0,label:n.createElement(d.b,q.customKey),onChange:this.onKeyChange,placeholder:t.formatMessage(q.customKeyPlaceholder),type:"text",value:i}),n.createElement(J.a,{hideOptionalLabel:!0,label:n.createElement(d.b,q.customValue),onChange:this.onValueChange,placeholder:t.formatMessage(q.customValuePlaceholder),type:"text",value:l}),n.createElement("div",{className:"custom-new-field-actions"},a&&n.createElement(qe.a,{"data-resin-target":"metadata-customfieldcancel",onClick:o,type:"button"},n.createElement(d.b,We.a.cancel)),n.createElement(qe.a,{"data-resin-target":"metadata-customfieldadd",onClick:this.onAdd,type:"button"},n.createElement(d.b,q.customAdd))))}}])&&$e(a.prototype,o),r&&$e(a,r),t}(),at=Object(d.g)(tt),nt=a(352),ot=function(e){var t=e.className,a=void 0===t?"":t,o=e.color,r=void 0===o?"#222":o,i=e.height,l=void 0===i?1:i,s=e.title,c=e.width,u=void 0===c?9:c;return n.createElement(C.a,{className:"icon-minus-thin ".concat(a),height:l,title:s,viewBox:"0 0 9 1",width:u},n.createElement("path",{className:"fill-color",d:"M0 0h9v1H0z",fill:r,fillRule:"evenodd"}))},rt=function(e){var t=e.className,a=void 0===t?"":t,o=e.color,r=void 0===o?"#222":o,i=e.height,l=void 0===i?9:i,s=e.title,c=e.width,u=void 0===c?9:c;return n.createElement(C.a,{className:"icon-plus-thin ".concat(a),height:l,title:s,viewBox:"0 0 9 9",width:u},n.createElement("path",{className:"fill-color",d:"M5 4V0H4v4H0v1h4v4h1V5h4V4H5z",fill:r,fillRule:"evenodd"}))},it=(a(1199),Object(d.g)(function(e){var t=e.intl,a=e.canEdit,o=e.isLast,r=e.dataKey,i=e.dataValue,l=e.onAdd,s=e.onChange,c=e.onRemove,u=n.createElement(qe.a,{"aria-label":t.formatMessage(q.customAdd),"data-resin-target":"metadata-customfieldnew",onClick:l,type:"button"},n.createElement(rt,{color:"#999"})),d=n.createElement(qe.a,{"aria-label":t.formatMessage(q.customRemove),"data-resin-target":"metadata-customfieldremove",onClick:function(){c&&c(r)},type:"button"},n.createElement(ot,{color:"#999"}));return n.createElement("div",{className:"metadata-instance-editor-field-custom"},n.createElement(Ke,{canEdit:a,dataKey:r,dataValue:i,displayName:r,onChange:s,onRemove:function(e){return s(e,"")},type:"string"}),a&&n.createElement("div",{className:"metadata-instance-editor-field-custom-actions"},o?n.createElement(nt.a,null,d,u):d))})),lt=function(e){var t=e.className,a=void 0===t?"":t,o=e.color,r=void 0===o?"#0061D5":o,i=e.title,l=e.width,s=void 0===l?140:l;return n.createElement(C.a,{className:"icon-add-metadata-empty-state ".concat(a),title:i,viewBox:"0 0 140 105",width:s},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M92 1.134V.492a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-90.5 83.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629A1.005 1.005 0 0 1 1.134 86H.49a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm136 5.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-29-78v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-80 3.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-5.563 8.075v-.402a.313.313 0 0 1 .625 0v.402a.628.628 0 0 1 .23.229h.401c.17 0 .307.144.307.312a.308.308 0 0 1-.307.313h-.402a.628.628 0 0 1-.229.228v.402a.313.313 0 0 1-.625.004v-.406a.628.628 0 0 1-.228-.229h-.402A.313.313 0 0 1 22 24.25c0-.173.134-.313.307-.313h.402a.628.628 0 0 1 .229-.228zm-11.5 79v-.402a.313.313 0 0 1 .626 0v.402a.628.628 0 0 1 .228.228h.402c.17 0 .307.145.307.313a.308.308 0 0 1-.307.313h-.402a.628.628 0 0 1-.229.228v.402a.313.313 0 0 1-.624.004v-.406a.628.628 0 0 1-.23-.228h-.401a.313.313 0 0 1-.307-.313c0-.173.134-.313.307-.313h.402a.628.628 0 0 1 .229-.228z",fill:r}),n.createElement("path",{d:"M17 54c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H23.992C20.131 61 17 57.858 17 54zm-6 20c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H17.992C14.131 81 11 77.858 11 74zM5 94c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H11.992C8.131 101 5 97.858 5 94z",fill:r,fillOpacity:".1"}),n.createElement("path",{d:"M130 61a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm-6 20a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-2a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm-6 22a7 7 0 1 1 0-14 7 7 0 0 1 0 14z",fill:r}),n.createElement("path",{d:"M117.944 95.189l3.215-3.832a.996.996 0 0 1 1.407-.121c.423.355.475.99.126 1.406l-3.861 4.6a.993.993 0 0 1-1.4.128l-3.078-2.583a.993.993 0 0 1-.116-1.403 1 1 0 0 1 1.401-.13l2.306 1.935zm12-40l3.215-3.832a.996.996 0 0 1 1.407-.121c.423.355.475.99.126 1.406l-3.861 4.6a.993.993 0 0 1-1.4.128l-3.078-2.583a.993.993 0 0 1-.116-1.403 1 1 0 0 1 1.401-.13l2.306 1.935z",fill:"#FFF"}),n.createElement("path",{d:"M25 38.49c0-.823.668-1.49 1.509-1.49H54.77c.833 0 1.788.605 2.139 1.365l3.207 6.942c.348.754-.036 1.365-.86 1.365H26.491c-.824 0-1.491-.665-1.491-1.49V38.49z",fill:"#FFF",stroke:r,strokeWidth:"2"}),n.createElement("path",{d:"M27 40.49c0-.823.668-1.49 1.494-1.49h25.164c.825 0 1.751.62 2.07 1.386l2.869 6.9c.318.766-.096 1.386-.933 1.386H28.51A1.498 1.498 0 0 1 27 47.182V40.49z",fill:"#22A7F0",fillOpacity:".1"}),n.createElement("rect",{fill:"#FFF",height:"53.197",rx:"1.5",stroke:r,strokeWidth:"2",width:"80",x:"25",y:"43"}),n.createElement("path",{d:"M27 82.214c0-.827.657-1.34 1.475-1.185 0 0 3.614 1.268 23.858 1.268 12.585 0 18.165 3.312 25.334 3.312 14.499 0 23.954-4.331 23.954-4.331.762-.31 1.379.115 1.379.936v10.284c0 .827-.68 1.497-1.501 1.497H28.501A1.503 1.503 0 0 1 27 92.498V82.214z",fill:r,fillOpacity:".1"})))},st=(a(1200),function(e){var t=e.canAdd;return n.createElement("div",{className:"metadata-instance-editor-no-instances"},n.createElement(lt,null),n.createElement("p",{className:"metadata-instance-editor-no-instances--call-out"},n.createElement(d.b,q.noMetadata)),t&&n.createElement("p",{className:"metadata-instance-editor-no-instances--how-add-template"},n.createElement(d.b,q.noMetadataAddTemplate)))});function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){ht(e,t,a[t])})}return e}function dt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var yt=function(e){function t(e){var a,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=pt(t).call(this,e),a=!o||"object"!==ct(o)&&"function"!=typeof o?mt(n):o,ht(mt(mt(a)),"onFieldChange",function(e,t){var n=a.props,o=n.canEdit,r=n.onFieldChange;o&&r&&r(e,t,Te)}),ht(mt(mt(a)),"onFieldRemove",function(e){var t=a.props,n=t.canEdit,o=t.onFieldRemove;n&&o&&o(e)}),ht(mt(mt(a)),"onAddFieldToggle",function(){a.setState(function(e){return{isAddFieldVisible:!e.isAddFieldVisible}})}),a.state={isAddFieldVisible:!1,properties:ut({},e.data)},a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,n["PureComponent"]),a=t,(o=[{key:"componentWillReceiveProps",value:function(e){this.setState({isAddFieldVisible:!1,properties:ut({},e.data)})}},{key:"render",value:function(){var e=this,t=this.props.canEdit,a=this.state,o=a.isAddFieldVisible,r=a.properties,i=Object.keys(r),l=t&&(o||0===i.length);return n.createElement(n.Fragment,null,i.map(function(a,l){return n.createElement(it,{key:a,canEdit:t,dataKey:a,dataValue:r[a],isLast:!o&&l===i.length-1,onAdd:e.onAddFieldToggle,onChange:e.onFieldChange,onRemove:e.onFieldRemove})}),!l&&0===i.length&&n.createElement(st,null),l&&n.createElement(at,{isCancellable:0!==i.length,onAdd:this.onFieldChange,onCancel:this.onAddFieldToggle,properties:this.props.data}))}}])&&dt(a.prototype,o),r&&dt(a,r),t}();ht(yt,"defaultProps",{canEdit:!0,data:{}});var vt=yt,bt=a(45),gt=(a(1201),function(e){var t=e.onCancel,a=e.onConfirm,o=e.confirmationMessage;return n.createElement("div",{className:"metadata-instance-confirm-cover"},n.createElement("div",{className:"metadata-instance-confim-container"},n.createElement("p",{className:"metadata-instance-confirm-text"},o),n.createElement("div",{className:"metadata-instance-confirm-buttons"},n.createElement(qe.a,{"data-resin-target":"metadata-confirmcancel",onClick:t,type:"button"},n.createElement(d.b,q.metadataCancel)),n.createElement(bt.a,{"data-resin-target":"metadata-confirmremove",onClick:a,type:"button"},n.createElement(d.b,q.customRemove)))))}),Et=(a(1202),function(e){var t=e.onCancel,a=e.onRemove,o=e.onSave;return n.createElement("div",{className:"metadata-instance-editor-footer"},n.createElement("div",{className:"metadata-instance-editor-footer-delete"},n.createElement(E.a,{"data-resin-target":"metadata-instanceremove",onClick:a,type:"button"},n.createElement(d.b,q.metadataRemoveTemplate))),n.createElement("div",{className:"metadata-instance-editor-footer-save-cancel"},n.createElement(qe.a,{"data-resin-target":"metadata-instancecancel",onClick:t,type:"button"},n.createElement(d.b,q.metadataCancel)),o&&n.createElement(bt.a,{"data-resin-target":"metadata-instancesave",onClick:o,type:"button"},n.createElement(d.b,q.metadataSave))))}),Ot=a(46);a(1203);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function St(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Tt(e,t,a[t])})}return e}function jt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var kt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=t.key,n=t.type;return e[a]=n,e},{})},xt=function(e,t,a){var n=e[t];switch(a){case"float":return parseFloat(n);case"integer":return parseInt(n,10);default:return n}},It=function(e){function t(e){var a,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=Pt(t).call(this,e),a=!r||"object"!==wt(r)&&"function"!=typeof r?Mt(o):r,Tt(Mt(Mt(a)),"onCancel",function(){var e=a.props,t=e.id,n=e.onModification;a.setState(a.getState(a.props)),n&&n(t,!1)}),Tt(Mt(Mt(a)),"onConfirmRemove",function(){a.setState({shouldConfirmRemove:!0})}),Tt(Mt(Mt(a)),"onConfirmCancel",function(){a.setState({shouldConfirmRemove:!1})}),Tt(Mt(Mt(a)),"onRemove",function(){if(a.isEditing()){var e=a.props,t=e.id,n=e.onRemove;n&&(n(t),a.setState({isBusy:!0}))}}),Tt(Mt(Mt(a)),"onSave",function(){var e=a.props,t=e.cascadePolicy,n=e.data,o=e.id,r=e.isDirty,i=e.isCascadingPolicyApplicable,l=e.onSave,s=a.state,c=s.data,u=s.errors,d=s.isCascadingEnabled,p=s.isCascadingOverwritten;a.isEditing()&&r&&l&&!Object.keys(u).length&&(a.setState({isBusy:!0,isEditing:!1,shouldShowCascadeOptions:!1}),l(o,a.createJSONPatch(c,n),i?{canEdit:!!t&&t.canEdit,id:t?t.id:void 0,isEnabled:d,overwrite:p}:void 0,v()(c)))}),Tt(Mt(Mt(a)),"onFieldChange",function(e,t,o){var r=a.state,i=r.data,l=r.errors;if(a.isEditing()&&!h()(i[e],t)){var s=Ae(o,t),c=St({},l),u=v()(i);u[e]=t,s?delete c[e]:c[e]=n.createElement(d.b,q.invalidInput),a.setState({data:u,errors:c},function(){a.setDirty(o)})}}),Tt(Mt(Mt(a)),"onFieldRemove",function(e){if(a.isEditing()){var t=a.state,n=t.data,o=t.errors,r=v()(n),i=St({},o);delete r[e],delete i[e],a.setState({data:r,errors:i},a.setDirty)}}),Tt(Mt(Mt(a)),"onCascadeToggle",function(e){a.props.isCascadingPolicyApplicable&&a.setState({isCascadingEnabled:e,shouldShowCascadeOptions:e},a.setDirty)}),Tt(Mt(Mt(a)),"onCascadeModeChange",function(e){a.props.isCascadingPolicyApplicable&&a.setState({isCascadingOverwritten:e},a.setDirty)}),Tt(Mt(Mt(a)),"renderDeleteMessage",function(e,t){var a;return a=t.templateKey===ke?e?"fileMetadataRemoveCustomTemplateConfirm":"folderMetadataRemoveCustomTemplateConfirm":e?"fileMetadataRemoveTemplateConfirm":"folderMetadataRemoveTemplateConfirm",n.createElement(d.b,Ct({},q[a],{values:{metadataName:t.displayName}}))}),Tt(Mt(Mt(a)),"setDirty",function(e){var t=a.props,n=t.id,o=t.isCascadingPolicyApplicable,r=t.onModification,i=a.state,l=i.data,s=i.isCascadingEnabled,c=i.isCascadingOverwritten,u=!h()(l,a.props.data),d=!1;o&&(d=c||s!==a.isCascadingEnabled(a.props)),r&&r(n,u||d,e)}),Tt(Mt(Mt(a)),"collapsibleRef",n.createRef()),Tt(Mt(Mt(a)),"toggleIsEditing",function(){a.setState(function(e){return{isEditing:!e.isEditing}})}),Tt(Mt(Mt(a)),"renderEditButton",function(){var e=a.props.isDirty,t=a.state.isBusy,o=a.canEdit(),r=a.isEditing(),i=f()("metadata-instance-editor-instance-edit",{"metadata-instance-editor-instance-is-editing":r});return!o||e||t?null:n.createElement(O.a,{position:"top-left",text:n.createElement(d.b,q.metadataEditTooltip)},n.createElement(E.a,{className:i,"data-resin-target":"metadata-instanceedit",onClick:a.toggleIsEditing,type:"button"},n.createElement(P.a,null)))}),a.state=a.getState(e),a.fieldKeyToTypeMap=kt(e.template.fields),a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(t,n["PureComponent"]),a=t,(o=[{key:"componentWillReceiveProps",value:function(e){var t=e.hasError,a=e.isDirty,n=this.state.isEditing;t?this.setState({isBusy:!1,isEditing:!0}):this.props.isDirty&&!a&&(n?this.setState({isBusy:!1}):this.setState({isBusy:!1,isCascadingOverwritten:!1}))}},{key:"componentDidUpdate",value:function(){var e=this.collapsibleRef.current;e&&this.state.shouldConfirmRemove&&Object(N.e)(e,{block:"start",behavior:"smooth"})}},{key:"getState",value:function(e){return{data:v()(e.data),errors:{},isBusy:!1,isCascadingEnabled:this.isCascadingEnabled(e),isCascadingOverwritten:!1,isEditing:!1,shouldConfirmRemove:!1,shouldShowCascadeOptions:!1}}},{key:"getTitle",value:function(){var e=this.props,t=e.cascadePolicy,a=void 0===t?{}:t,o=e.hasError,r=e.isCascadingPolicyApplicable,i=e.template,l=i.templateKey===ke,s=r&&a.id?"cascade":"default";return n.createElement("span",{className:"metadata-instance-editor-instance-title"},n.createElement(S,{type:s}),n.createElement("span",{className:f()("metadata-instance-editor-instance-title-text",{"metadata-instance-editor-instance-has-error":o})},l?n.createElement(d.b,q.customTitle):i.displayName),o&&n.createElement(j.a,{color:w.r}))}},{key:"getConfirmationMessage",value:function(){var e=this.props,t=e.template,a=!e.isCascadingPolicyApplicable;return this.renderDeleteMessage(a,t)}},{key:"isCascadingEnabled",value:function(e){return!!e.cascadePolicy&&!!e.cascadePolicy.id}},{key:"createJSONPatch",value:function(e,t){var a=this,n=[],o=v()(e);return Object.keys(t).forEach(function(e){var r=a.fieldKeyToTypeMap[e],i=xt(t,e,r),l="/".concat(e);if(Object.prototype.hasOwnProperty.call(o,e)){var s=xt(o,e,r);h()(s,i)||(n.push({op:"test",path:l,value:i}),n.push({op:"replace",path:l,value:s}))}else n.push({op:"test",path:l,value:i}),n.push({op:"remove",path:l});delete o[e]}),Object.keys(o).forEach(function(e){var t=a.fieldKeyToTypeMap[e],r=xt(o,e,t);n.push({op:"add",path:"/".concat(e),value:r})}),n}},{key:"canEdit",value:function(){var e=this.props,t=e.canEdit,a=e.onModification,n=e.onRemove,o=e.onSave;return t&&"function"==typeof n&&"function"==typeof o&&"function"==typeof a}},{key:"isEditing",value:function(){var e=this.state.isEditing;return this.canEdit()&&e}},{key:"render",value:function(){var e=this.props,t=e.cascadePolicy,a=void 0===t?{}:t,o=e.isDirty,r=e.isCascadingPolicyApplicable,i=e.isOpen,l=e.template,s=l.fields,c=void 0===s?[]:s,u=this.state,d=u.data,p=u.errors,f=u.isBusy,m=u.isCascadingEnabled,h=u.shouldConfirmRemove,y=u.shouldShowCascadeOptions,v=u.isCascadingOverwritten,E=l.templateKey===ke,O=this.isEditing();if(!l||Le(l))return null;var w=50*(c.length+1);return n.createElement("div",{ref:this.collapsibleRef},n.createElement(b.a,{animationDuration:w,buttonProps:Tt({},Ot.b,"metadata-card"),hasStickyHeader:!0,headerActionItems:this.renderEditButton(),isBordered:!0,isOpen:i,title:this.getTitle()},h&&n.createElement(g.a,{isLoading:f},n.createElement(gt,{confirmationMessage:this.getConfirmationMessage(),onCancel:this.onConfirmCancel,onConfirm:this.onRemove})),!h&&n.createElement(g.a,{isLoading:f},n.createElement("div",{className:"metadata-instance-editor-instance"},r&&n.createElement(W,{canEdit:O&&!!a.canEdit,isCascadingEnabled:m,isCascadingOverwritten:v,isCustomMetadata:E,onCascadeModeChange:this.onCascadeModeChange,onCascadeToggle:this.onCascadeToggle,shouldShowCascadeOptions:y}),E?n.createElement(vt,{canEdit:O,data:d,onFieldChange:this.onFieldChange,onFieldRemove:this.onFieldRemove}):n.createElement(ze,{canEdit:O,data:d,errors:p,onFieldChange:this.onFieldChange,onFieldRemove:this.onFieldRemove,template:l})),O&&n.createElement(Et,{onCancel:this.onCancel,onRemove:this.onConfirmRemove,onSave:o?this.onSave:void 0}))))}}])&&jt(a.prototype,o),r&&jt(a,r),t}();Tt(It,"defaultProps",{data:{},isDirty:!1});var At=It,_t=function(e){var t=e.isCascadingPolicyApplicable,a=void 0!==t&&t,o=e.editors,r=void 0===o?[]:o,i=e.onModification,l=e.onRemove,s=e.onSave;return r.map(function(e){var t=e.isDirty,o=void 0!==t&&t,c=e.instance,u=e.hasError,d=void 0!==u&&u,p=e.template;return n.createElement(At,{canEdit:c.canEdit,cascadePolicy:c.cascadePolicy,data:c.data,hasError:d,id:c.id,isCascadingPolicyApplicable:a,isDirty:o,isOpen:1===r.length,key:"".concat(c.id,"-").concat(p.templateKey),onModification:i,onSave:s,onRemove:l,template:p})})},Rt=a(237),Dt=a(487),Ft=function(e){var t=e.className,a=void 0===t?"icon-search":t,o=e.color,r=void 0===o?w.u:o,i=e.height,l=void 0===i?14:i,s=e.title,c=e.width,u=void 0===c?14:c;return n.createElement(C.a,{className:"icon-search ".concat(a),height:l,title:s,viewBox:"0 0 14 14",width:u},n.createElement("path",{className:"fill-color",d:"M13.7,12.1L11.6,10l-1.1-0.2c0.9-1,1.4-2.4,1.4-3.9c0-3.3-2.7-6-6-6C2.7,0,0,2.7,0,6s2.7,6,6,6 c1.5,0,2.9-0.6,4-1.5l0.2,1l2.1,2.1c0.4,0.4,1,0.4,1.4,0l0,0C14.1,13.1,14.1,12.5,13.7,12.1z M6,10.4c-2.5,0-4.5-2-4.5-4.5 s2-4.5,4.5-4.5s4.5,2,4.5,4.5S8.4,10.4,6,10.4z",fill:r,fillRule:"evenodd"}))},Vt=a(217);a(1204);function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Kt(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function Lt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Zt=Object(d.f)({clearButtonTitle:{id:"boxui.searchForm.clearButtonTitle",defaultMessage:"Clear"},searchButtonTitle:{id:"boxui.searchForm.searchButtonTitle",defaultMessage:"Search"},searchLabel:{id:"boxui.searchForm.searchLabel",defaultMessage:"Search query"}}),Jt=function(e){function t(){var e,a,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=this,o=(e=zt(t)).call.apply(e,[this].concat(i)),a=!o||"object"!==Ht(o)&&"function"!=typeof o?Ut(n):o,Wt(Ut(Ut(a)),"state",{isEmpty:!0}),Wt(Ut(Ut(a)),"onClearHandler",function(e){var t=a.props,n=t.onChange;t.shouldPreventClearEventPropagation&&e.stopPropagation(),a.searchInput&&(a.searchInput.value=""),a.setState({isEmpty:!0}),n&&n("")}),Wt(Ut(Ut(a)),"onChangeHandler",function(e){var t=e.target.value,n=a.props.onChange;a.setState({isEmpty:!t||!t.trim().length}),n&&n(t)}),Wt(Ut(Ut(a)),"onSubmitHandler",function(e){var t=e.target.elements[0].value,n=a.props.onSubmit;n&&n(t,e)}),Wt(Ut(Ut(a)),"setInputRef",function(e){a.searchInput=e,a.props.getSearchInput&&a.props.getSearchInput(a.searchInput)}),a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(t,n["Component"]),a=t,(o=[{key:"componentWillReceiveProps",value:function(e){var t=e.value;void 0===t||t.trim()||this.setState({isEmpty:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.action,o=t.className,r=t.intl,i=t.isLoading,l=t.method,s=t.name,c=t.queryParams,u=t.useClearButton,d=Kt(t,["action","className","intl","isLoading","method","name","queryParams","useClearButton"]),p=this.state.isEmpty,m=X()(d,["getSearchInput","onChange","onSubmit","required","shouldPreventClearEventPropagation"]),h=r.formatMessage,y=f()(o,"search-input-container"),v=f()("search-form",{"is-empty":p,"use-clear-button":u}),b=Object.keys(c).map(function(e,t){return n.createElement("input",{key:t,name:e,type:"hidden",value:c[e]})}),g=Object(Vt.a)(function(){return n.createElement("div",{className:"action-buttons"},n.createElement("button",{type:"button",className:"action-button search-button",title:h(Zt.searchButtonTitle)},n.createElement(Ft,null)),n.createElement("button",{className:"action-button clear-button",onClick:e.onClearHandler,title:h(Zt.clearButtonTitle),type:"button"},n.createElement(Dt.a,null)))});return n.createElement("div",{className:y},n.createElement("form",{action:a,className:v,method:l,onChange:this.onChangeHandler,onSubmit:this.onSubmitHandler,role:"search"},n.createElement("input",Bt({ref:this.setInputRef,"aria-label":h(Zt.searchLabel),autoComplete:"off",className:"search-input",name:s,onChange:function(){},type:"search"},m)),n.createElement(g,{isLoading:i,loadingIndicatorProps:{className:"search-form-loading-indicator"}}),b))}}])&&Lt(a.prototype,o),r&&Lt(a,r),t}();Wt(Jt,"defaultProps",{action:void 0,method:"get",name:"search",queryParams:{},useClearButton:!1});var Qt=Object(d.g)(Jt),$t=a(22),Gt=a(137),Xt=a(182),Yt=a(344);a(1205);function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ra(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ia(){return(ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function la(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var sa=function(e){var t=e.inputProps,a=void 0===t?{}:t,o=la(e,["inputProps"]);return n.createElement(Qt,ia({},a,o,{shouldPreventClearEventPropagation:!0,"data-resin-target":"metadata-templatesearch"}))},ca=function(e,t){return e.filter(function(e){return-1===t.findIndex(function(t){return t.templateKey===e.templateKey&&t.scope===e.scope})})},ua=function(e){function t(e){var a,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=aa(t).call(this,e),a=!r||"object"!==ea(r)&&"function"!=typeof r?oa(o):r,ra(oa(oa(a)),"getDropdown",function(){var e=a.props,t=e.isDropdownBusy,o=e.onAdd,r=e.activeTemplate,i=e.defaultTemplateIcon,l=e.activeTemplateIcon,s=e.templates,c=e.title,u=e.usedTemplates,p=a.state.templates,m=ca(s,u).length>0,h=s.length>0,y=p.length>0,v=null;if(t)v=n.createElement(Gt.b,{className:"metadata-instance-editor-template-message template-dropdown-loading-indicator"});else if(!h||!m||!y){var b={id:""};h?m?y||(b=q.metadataTemplatesNoResults):b=q.metadataTemplatesNoRemainingTemplates:b=q.metadataTemplatesServerHasNoTemplates,v=n.createElement("i",{className:"metadata-instance-editor-template-message"},n.createElement(d.b,b))}var g=p.map(function(e){var t=r&&r.id===e.id,o=f()("metadata-template-dropdown-select-template",{"metadata-template-dropdown-is-selected":t});return n.createElement(re.a,{key:e.id},n.createElement($t.a,{className:o,tabIndex:"-1",type:"button"},t?l:i,a.getTemplateName(e)))});return n.createElement(n.Fragment,null,n.createElement(Rt.a,{className:"metadata-instance-editor-template-dropdown-menu",title:c,isAlwaysOpen:!0,onSelect:function(e){o(p[e])},selector:a.getSelector(),shouldScroll:!0},v?null:g),v)}),ra(oa(oa(a)),"getSelector",function(){var e=a.props.intl,t=a.state.filterText;return n.createElement(sa,{label:"",onChange:a.handleUserInput,placeholder:e.formatMessage(q.metadataTemplateSearchPlaceholder),type:"text",useClearButton:!0,value:t})}),ra(oa(oa(a)),"handleUserInput",function(e){var t=a.props,n=t.templates,o=t.usedTemplates,r=e,i=ca(n,o);a.setState({filterText:r,templates:i.filter(function(e){return(e.templateKey===ke?q.customTitle.defaultMessage:e.displayName).toLowerCase().includes(r.toLowerCase())})})}),ra(oa(oa(a)),"onOpen",function(){var e=a.props,t=e.onDropdownToggle,n=e.templates,o=e.usedTemplates;t&&t(!0),a.setState({isDropdownOpen:!0,filterText:"",templates:ca(n,o)})}),ra(oa(oa(a)),"onClose",function(){var e=a.props.onDropdownToggle;e&&e(!1),a.setState({isDropdownOpen:!1})}),ra(oa(oa(a)),"renderEntryButton",function(){var e=a.props.entryButton,t=a.state.isDropdownOpen,o=f()("lnk",{"is-toggled":t});return e||n.createElement($t.a,{"data-resin-target":"metadata-templateaddmenu",className:o,type:"button"},n.createElement(Yt.a,null,n.createElement(d.b,q.metadataTemplateAdd)))}),a.state={isDropdownOpen:!1,filterText:"",templates:ca(e.templates,e.usedTemplates)},a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(t,n["PureComponent"]),a=t,(o=[{key:"componentWillReceiveProps",value:function(e){this.setState({templates:ca(e.templates,e.usedTemplates)})}},{key:"getTemplateName",value:function(e){return e.templateKey===ke?n.createElement(d.b,ia({className:"template-display-name"},q.customTitle)):n.createElement("div",{className:"template-display-name"},e.displayName)}},{key:"render",value:function(){var e=this.props.className,t=f()("metadata-instance-editor-template-dropdown-flyout",e);return n.createElement(Xt.a,{className:t,closeOnClick:!0,closeOnClickOutside:!0,onClose:this.onClose,onOpen:this.onOpen,position:"bottom-left",shouldDefaultFocus:!0},this.renderEntryButton(),n.createElement(Xt.b,null,this.getDropdown()))}}])&&ta(a.prototype,o),r&&ta(a,r),t}(),da=Object(d.g)(ua),pa=a(80),fa=a(3),ma=a(341),ha=a(342),ya=a(8),va=(a(98),a(343)),ba=a(189),ga=a(190),Ea=a(1118),Oa=a(1117);a(1206);function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Sa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Ta(e,t,a[t])})}return e}function ja(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"MetadataSidebarComponent",function(){return xa});var ka="".concat(ie.Ld,"_").concat(ga.a);Object(ba.b)(ka);var xa=function(e){function t(e){var a,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=Pa(t).call(this,e),a=!o||"object"!==wa(o)&&"function"!=typeof o?Ma(n):o,Ta(Ma(Ma(a)),"state",{isLoading:!1}),Ta(Ma(Ma(a)),"onRemove",function(e){var t=a.props.api,n=a.state.file,o=a.getEditor(e);o&&n&&t.getMetadataAPI(!1).deleteMetadata(n,o.template,function(){return a.onRemoveSuccessHandler(o)},a.onApiError)}),Ta(Ma(Ma(a)),"onAddSuccessHandler",function(e){var t=a.state.editors,n=(void 0===t?[]:t).slice(0);n.push(e),a.setState({editors:n,isLoading:!1})}),Ta(Ma(Ma(a)),"onAdd",function(e){var t=a.props.api,n=a.state.file;n&&(a.setState({isLoading:!0}),t.getMetadataAPI(!1).createMetadata(n,e,a.onAddSuccessHandler,a.onApiError))}),Ta(Ma(Ma(a)),"onSave",function(e,t){var n=a.props.api,o=a.state.file,r=a.getEditor(e);r&&o&&n.getMetadataAPI(!1).updateMetadata(o,r.template,t,function(e){a.replaceEditor(r,e)},function(e,t){a.onSaveErrorHandler(r,e,t)})}),Ta(Ma(Ma(a)),"onModification",function(e,t){var n=a.getEditor(e);if(n){var o=Sa({},n,{isDirty:t});a.replaceEditor(n,o)}}),Ta(Ma(Ma(a)),"fetchMetadataErrorCallback",function(e,t){a.onApiError(e,t,{editors:void 0,error:fa.a.sidebarMetadataFetchingErrorContent,templates:void 0})}),Ta(Ma(Ma(a)),"fetchMetadataSuccessCallback",function(e){var t=e.editors,n=e.templates;a.setState({editors:t.slice(0),error:void 0,isLoading:!1,templates:n.slice(0)})}),Ta(Ma(Ma(a)),"fetchFileErrorCallback",function(e,t){a.onApiError(e,t,{error:fa.a.sidebarFileFetchingErrorContent,file:void 0})}),Ta(Ma(Ma(a)),"fetchFileSuccessCallback",function(e){var t=a.state.file,n=s()(t,ie.Hc,!1),o=s()(e,ie.Hc,!1),r=!t||n!==o?a.fetchMetadata:i.a;a.setState({file:e},r)}),a.props.logger.onReadyMetric({endMarkName:ka}),a}var a,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(t,n["PureComponent"]),a=t,(o=[{key:"componentDidMount",value:function(){this.fetchFile()}},{key:"onApiError",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.props.onError,o=e.status,r=Object(ya.d)(o);this.setState(Ca({error:fa.a.sidebarMetadataEditingErrorContent,isLoading:!1},a)),n(e,t,Ta({error:e},ie.td,r))}},{key:"canEdit",value:function(){var e=this.state.file;return s()(e,ie.Hc,!1)}},{key:"getEditor",value:function(e){var t=this.state.editors;return(void 0===t?[]:t).find(function(t){return t.instance.id===e})}},{key:"onRemoveSuccessHandler",value:function(e){var t=this.state.editors,a=void 0===t?[]:t,n=a.slice(0);n.splice(a.indexOf(e),1),this.setState({editors:n})}},{key:"replaceEditor",value:function(e,t){var a=this.state.editors,n=void 0===a?[]:a,o=n.slice(0);o.splice(n.indexOf(e),1,t),this.setState({editors:o})}},{key:"onSaveErrorHandler",value:function(e,t,a){var n=Sa({},e,{hasError:!0});this.replaceEditor(e,n),this.onApiError(t,a)}},{key:"fetchMetadata",value:function(){var e=this.props,t=e.api,a=e.isFeatureEnabled,n=this.state.file;n&&t.getMetadataAPI(!1).getMetadata(n,this.fetchMetadataSuccessCallback,this.fetchMetadataErrorCallback,a,{refreshCache:!0})}},{key:"fetchFile",value:function(){var e=this.props,t=e.api,a=e.fileId;t.getFileAPI().getFile(a,this.fetchFileSuccessCallback,this.fetchFileErrorCallback,{fields:[ie.uc,ie.Gc],refreshCache:!0})}},{key:"render",value:function(){var e=this.state,t=e.editors,a=e.file,o=e.error,r=e.isLoading,i=e.templates,l=!!a&&!!i&&!!t,s=!o&&!l,c=this.canEdit(),u=l&&c,p=l&&0===t.length;return n.createElement(Ea.a,{actions:u?n.createElement(da,{hasTemplates:i&&0!==i.length,isDropdownBusy:!1,onAdd:this.onAdd,templates:i,usedTemplates:t.map(function(e){return e.template})}):null,className:"bcs-metadata",title:Oa.a.getTitleForView(ie.ce)},o&&n.createElement(Z.a,{title:n.createElement(d.b,fa.a.error)},n.createElement(d.b,o)),s&&n.createElement(pa.a,null),l&&n.createElement(g.a,{className:"metadata-instance-editor",isLoading:r},p?n.createElement(st,{canAdd:c}):n.createElement(_t,{editors:t,onModification:this.onModification,onRemove:this.onRemove,onSave:this.onSave})))}}])&&ja(a.prototype,o),r&&ja(a,r),t}();Ta(xa,"defaultProps",{isFeatureEnabled:!0});t.default=u()([Object(va.a)(ie.Ld),Object(ha.a)(ie.Ld),ma.b])(xa)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2NvbXBvbmVudHMvdGV4dC1pbnB1dC9UZXh0SW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9pY29ucy9nZW5lcmFsL0ljb25FZGl0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2VxdWFsQXJyYXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvY29tcG9uZW50cy9jb2xsYXBzaWJsZS9Db2xsYXBzaWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRXF1YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzRXF1YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzRXF1YWxEZWVwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1NldENhY2hlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldENhY2hlQWRkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldENhY2hlSGFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5U29tZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jYWNoZUhhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19lcXVhbEJ5VGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2V0VG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19lcXVhbE9iamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWFuaW1hdGUtaGVpZ2h0L2xpYi9BbmltYXRlSGVpZ2h0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvaWNvbnMvZ2VuZXJhbC9JY29uTWV0YWRhdGFDb2xvcmVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvY29tcG9uZW50cy90b2dnbGUvVG9nZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvY29tcG9uZW50cy9yYWRpby9SYWRpb0J1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2NvbXBvbmVudHMvcmFkaW8vUmFkaW9Hcm91cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2NvbXBvbmVudHMvcmFkaW8vUmFkaW9Hcm91cEZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvaWNvbnMvZ2VuZXJhbC9JY29uQWxlcnREZWZhdWx0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL21lc3NhZ2VzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL0Nhc2NhZGVQb2xpY3kuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9jb21wb25lbnRzL3RleHQtaW5wdXQvVGV4dElucHV0RmllbGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9mZWF0dXJlcy9tZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3IvZmllbGRzL1RleHRGaWVsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2NvbXBvbmVudHMvc2VsZWN0LWJ1dHRvbi9TZWxlY3RCdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9jb21wb25lbnRzL3NlbGVjdC1maWVsZC9CYXNlU2VsZWN0RmllbGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9jb21wb25lbnRzL3NlbGVjdC1maWVsZC9TaW5nbGVTZWxlY3RGaWVsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ZlYXR1cmVzL21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci9maWVsZHMvRW51bUZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL2ZpZWxkcy9EYXRlRmllbGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9mZWF0dXJlcy9tZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3IvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL2ZpZWxkcy92YWxpZGF0ZUZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL2ZpZWxkcy9GbG9hdEZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL2ZpZWxkcy9JbnRlZ2VyRmllbGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9jb21wb25lbnRzL3NlbGVjdC1maWVsZC9NdWx0aVNlbGVjdEZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL2ZpZWxkcy9NdWx0aVNlbGVjdEZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL2ZpZWxkcy9SZWFkT25seUZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL2ZpZWxkcy9GaWVsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ZlYXR1cmVzL21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci9tZXRhZGF0YVV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9mZWF0dXJlcy9tZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3IvVGVtcGxhdGVkSW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9mZWF0dXJlcy9tZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3IvQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvbk1pbnVzVGhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvblBsdXNUaGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL2ZpZWxkcy9DdXN0b21GaWVsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvbkFkZE1ldGFkYXRhRW1wdHlTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ZlYXR1cmVzL21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci9FbXB0eUNvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9mZWF0dXJlcy9tZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3IvQ3VzdG9tSW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9mZWF0dXJlcy9tZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3IvTWV0YWRhdGFJbnN0YW5jZUNvbmZpcm1EaWFsb2cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9mZWF0dXJlcy9tZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3IvRm9vdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL0luc3RhbmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZmVhdHVyZXMvbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yL0luc3RhbmNlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvblNlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2NvbXBvbmVudHMvc2VhcmNoLWZvcm0vU2VhcmNoRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ZlYXR1cmVzL21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci9UZW1wbGF0ZURyb3Bkb3duLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1zaWRlYmFyL01ldGFkYXRhU2lkZWJhci5qcyJdLCJuYW1lcyI6WyJyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsImNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0IiwibiIsIl9pY29uc19nZW5lcmFsX0ljb25WZXJpZmllZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiX2xhYmVsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfbG9hZGluZ19pbmRpY2F0b3JfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIl90b29sdGlwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJfZXh0ZW5kcyIsIk9iamVjdCIsImFzc2lnbiIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJleGNsdWRlZCIsInNvdXJjZUtleXMiLCJrZXlzIiwiaW5kZXhPZiIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic291cmNlU3ltYm9sS2V5cyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiVGV4dElucHV0IiwiX3JlZiIsIl9yZWYkY2xhc3NOYW1lIiwiY2xhc3NOYW1lIiwiZGVzY3JpcHRpb24iLCJlcnJvciIsImVycm9yUG9zaXRpb24iLCJoaWRlTGFiZWwiLCJoaWRlT3B0aW9uYWxMYWJlbCIsImlucHV0UmVmIiwiaXNMb2FkaW5nIiwiaXNSZXF1aXJlZCIsImlzVmFsaWQiLCJsYWJlbCIsImxhYmVsVG9vbHRpcCIsInJlc3QiLCJjbGFzc2VzIiwic2hvdy1lcnJvciIsInNob3dPcHRpb25hbFRleHQiLCJ0ZXh0IiwidG9vbHRpcCIsImlzU2hvd24iLCJwb3NpdGlvbiIsInRoZW1lIiwicmVmIiwicmVxdWlyZWQiLCJkaXNwbGF5TmFtZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJfYWNjZXNzaWJsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9yZWYkY29sb3IiLCJjb2xvciIsIl9yZWYkaGVpZ2h0IiwiaGVpZ2h0IiwidGl0bGUiLCJfcmVmJHdpZHRoIiwid2lkdGgiLCJjb25jYXQiLCJ2aWV3Qm94IiwiZCIsImZpbGwiLCJTZXRDYWNoZSIsImFycmF5U29tZSIsImNhY2hlSGFzIiwiQ09NUEFSRV9QQVJUSUFMX0ZMQUciLCJDT01QQVJFX1VOT1JERVJFRF9GTEFHIiwibW9kdWxlIiwiZXhwb3J0cyIsImFycmF5Iiwib3RoZXIiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsImVxdWFsRnVuYyIsInN0YWNrIiwiaXNQYXJ0aWFsIiwiYXJyTGVuZ3RoIiwib3RoTGVuZ3RoIiwic3RhY2tlZCIsImdldCIsImluZGV4IiwicmVzdWx0Iiwic2VlbiIsInVuZGVmaW5lZCIsInNldCIsImFyclZhbHVlIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm90aEluZGV4IiwicHVzaCIsImxvZGFzaF9vbWl0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJsb2Rhc2hfb21pdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQiLCJyZWFjdF9hbmltYXRlX2hlaWdodF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwicmVhY3RfYW5pbWF0ZV9oZWlnaHRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0IiwiX2NvbW1vbl92YXJpYWJsZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIl9pY29uc19nZW5lcmFsX0ljb25DYXJldERvd25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyIsIl9wbGFpbl9idXR0b25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyIsIl9zdHlsZXNfdmFyaWFibGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18iLCJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJfZ2V0UHJvdG90eXBlT2YiLCJvIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2RlZmluZVByb3BlcnR5IiwidmFsdWUiLCJDb2xsYXBzaWJsZSIsIl9SZWFjdCRDb21wb25lbnQiLCJfdGhpcyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJfdGhpcyRwcm9wcyIsIm9uT3BlbiIsIm9uQ2xvc2UiLCJzZXRTdGF0ZSIsInByZXZTdGF0ZSIsImlzT3BlbiIsInN0YXRlIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiX2luaGVyaXRzIiwiX3RoaXMkcHJvcHMyIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJfdGhpcyRwcm9wczIkYnV0dG9uUHIiLCJidXR0b25Qcm9wcyIsImNoaWxkcmVuIiwiaXNCb3JkZXJlZCIsImhhc1N0aWNreUhlYWRlciIsImhlYWRlckFjdGlvbkl0ZW1zIiwic2VjdGlvbkNsYXNzTmFtZSIsImlzLW9wZW4iLCJpcy1ib3JkZXJlZCIsImludGVyYWN0aW9uVGFyZ2V0IiwibW9kaWZpZWRCdXR0b25Qcm9wcyIsImJ1dHRvbkNsYXNzTmFtZSIsIm9uQ2xpY2siLCJ0b2dnbGVWaXNpYmlsaXR5IiwidHlwZSIsImEiLCJkdXJhdGlvbiIsImJhc2VJc0VxdWFsIiwiYmFzZUlzRXF1YWxEZWVwIiwiaXNPYmplY3RMaWtlIiwiU3RhY2siLCJlcXVhbEFycmF5cyIsImVxdWFsQnlUYWciLCJlcXVhbE9iamVjdHMiLCJnZXRUYWciLCJpc0FycmF5IiwiaXNCdWZmZXIiLCJpc1R5cGVkQXJyYXkiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJvYmplY3RUYWciLCJvYmplY3QiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIk1hcENhY2hlIiwic2V0Q2FjaGVBZGQiLCJzZXRDYWNoZUhhcyIsInZhbHVlcyIsIl9fZGF0YV9fIiwiYWRkIiwiaGFzIiwiSEFTSF9VTkRFRklORUQiLCJwcmVkaWNhdGUiLCJjYWNoZSIsIlVpbnQ4QXJyYXkiLCJlcSIsIm1hcFRvQXJyYXkiLCJzZXRUb0FycmF5IiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwidGFnIiwiYnl0ZUxlbmd0aCIsImJ5dGVPZmZzZXQiLCJidWZmZXIiLCJuYW1lIiwibWVzc2FnZSIsImNvbnZlcnQiLCJzaXplIiwibWFwIiwiQXJyYXkiLCJmb3JFYWNoIiwiZ2V0QWxsS2V5cyIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwic2tpcEN0b3IiLCJvYmpWYWx1ZSIsIm9iakN0b3IiLCJvdGhDdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsIl9yZWFjdDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3Byb3BUeXBlczIiLCJfY2xhc3NuYW1lczIiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkFOSU1BVElPTl9TVEFURV9DTEFTU0VTIiwiYW5pbWF0aW5nIiwiYW5pbWF0aW5nVXAiLCJhbmltYXRpbmdEb3duIiwiYW5pbWF0aW5nVG9IZWlnaHRaZXJvIiwiYW5pbWF0aW5nVG9IZWlnaHRBdXRvIiwiYW5pbWF0aW5nVG9IZWlnaHRTcGVjaWZpYyIsInN0YXRpYyIsInN0YXRpY0hlaWdodFplcm8iLCJzdGF0aWNIZWlnaHRBdXRvIiwic3RhdGljSGVpZ2h0U3BlY2lmaWMiLCJQUk9QU19UT19PTUlUIiwiaXNOdW1iZXIiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsImlzUGVyY2VudGFnZSIsInNlYXJjaCIsInN1YnN0ciIsInJ1bkNhbGxiYWNrIiwiY2FsbGJhY2siLCJwYXJhbXMiLCJBbmltYXRlSGVpZ2h0IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJvdmVyZmxvdyIsImFuaW1hdGlvblN0YXRlQ2xhc3NlcyIsImdldFN0YXRpY1N0YXRlQ2xhc3NlcyIsInNob3VsZFVzZVRyYW5zaXRpb25zIiwiQ29tcG9uZW50IiwiY29udGVudEVsZW1lbnQiLCJzdHlsZSIsImhpZGVDb250ZW50IiwicHJldlByb3BzIiwiX3RoaXMyIiwiX3Byb3BzIiwiZGVsYXkiLCJvbkFuaW1hdGlvbkVuZCIsIm9uQW5pbWF0aW9uU3RhcnQiLCJfY3giLCJzaG93Q29udGVudCIsImNvbnRlbnRIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ0b3RhbER1cmF0aW9uIiwibmV3SGVpZ2h0IiwidGltZW91dFN0YXRlIiwiaXNDdXJyZW50SGVpZ2h0QXV0byIsInRpbWVvdXRBbmltYXRpb25TdGF0ZUNsYXNzZXMiLCJjbGVhclRpbWVvdXQiLCJ0aW1lb3V0SUQiLCJhbmltYXRpb25DbGFzc2VzVGltZW91dElEIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJfY3gyIiwiX2N4MyIsIl90aGlzMyIsIl9wcm9wczIiLCJhbmltYXRlT3BhY2l0eSIsImFwcGx5SW5saW5lVHJhbnNpdGlvbnMiLCJjb250ZW50Q2xhc3NOYW1lIiwiZWFzaW5nIiwiX3N0YXRlIiwiY29tcG9uZW50U3R5bGUiLCJ0cmFuc2l0aW9uIiwiV2Via2l0VHJhbnNpdGlvbiIsImNvbnRlbnRTdHlsZSIsIm9wYWNpdHkiLCJjb21wb25lbnRDbGFzc2VzIiwiY3JlYXRlRWxlbWVudCIsIl9sZW4iLCJfa2V5IiwicmVzIiwib2JqZWN0S2V5cyIsImFyaWEtaGlkZGVuIiwiZWwiLCJwcm9wVHlwZXMiLCJib29sIiwiYW55Iiwic3RyaW5nIiwibnVtYmVyIiwib25lT2ZUeXBlIiwiZnVuYyIsImRlZmF1bHRQcm9wcyIsImdlbmVyYWxfSWNvbk1ldGFkYXRhQ29sb3JlZCIsInZhcmlhYmxlcyIsInJlYWN0IiwiYWNjZXNzaWJsZV9zdmciLCJmaWxsUnVsZSIsImNvbXBvbmVudHNfdG9nZ2xlX1RvZ2dsZSIsIl9yZWYkaW5wdXRQcm9wcyIsImlucHV0UHJvcHMiLCJpc0Rpc2FibGVkIiwiaXNPbiIsIl9yZWYkaXNUb2dnbGVSaWdodEFsaSIsImlzVG9nZ2xlUmlnaHRBbGlnbmVkIiwib25CbHVyIiwib25DaGFuZ2UiLCJjbGFzc25hbWVzX2RlZmF1bHQiLCJpcy10b2dnbGUtcmlnaHQtYWxpZ25lZCIsInRvZ2dsZUVsZW1lbnRzIiwicmV2ZXJzZSIsImNoZWNrZWQiLCJkaXNhYmxlZCIsIlJhZGlvQnV0dG9uX2V4dGVuZHMiLCJSYWRpb0J1dHRvbl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsIlJhZGlvQnV0dG9uX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJSYWRpb0J1dHRvbl9vbkNoYW5nZVN0dWIiLCJjb21wb25lbnRzX3JhZGlvX1JhZGlvQnV0dG9uIiwiX3JlZiRpc1NlbGVjdGVkIiwiaXNTZWxlY3RlZCIsIl9yZWYkaGlkZUxhYmVsIiwiUmFkaW9Hcm91cF9SYWRpb0dyb3VwIiwiUmFkaW9Hcm91cCIsImV2ZW50IiwiSFRNTElucHV0RWxlbWVudCIsIm9uQ2hhbmdlSGFuZGxlciIsInJhZGlvIiwicmFkaW9fUmFkaW9Hcm91cCIsImdlbmVyYWxfSWNvbkFsZXJ0RGVmYXVsdCIsImlkIiwiY3giLCJjeSIsInIiLCJ4IiwieSIsImZpbHRlclVuaXRzIiwicmFkaXVzIiwib3BlcmF0b3IiLCJpbiIsInN0ZERldmlhdGlvbiIsInRyYW5zZm9ybSIsImZpbHRlciIsInhsaW5rSHJlZiIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwibWV0YWRhdGFfaW5zdGFuY2VfZWRpdG9yX21lc3NhZ2VzIiwiaW5kZXhfZXMiLCJjdXN0b21UaXRsZSIsImRlZmF1bHRNZXNzYWdlIiwiY3VzdG9tQWRkIiwiY3VzdG9tUmVtb3ZlIiwiY3VzdG9tS2V5IiwiY3VzdG9tS2V5UGxhY2Vob2xkZXIiLCJjdXN0b21WYWx1ZSIsImN1c3RvbVZhbHVlUGxhY2Vob2xkZXIiLCJjdXN0b21OZXdGaWVsZCIsImN1c3RvbU5ld0ZpZWxkTWVzc2FnZSIsImN1c3RvbUVycm9yUmVxdWlyZWQiLCJjdXN0b21FcnJvckR1cGxpY2F0ZUtleSIsImN1c3RvbUVycm9ySW50ZXJuYWxLZXkiLCJpbnZhbGlkSW5wdXQiLCJpbnZhbGlkTWV0YWRhdGFGaWVsZFR5cGUiLCJtZXRhZGF0YUVkaXRUb29sdGlwIiwibWV0YWRhdGFGaWVsZE5vVmFsdWUiLCJtZXRhZGF0YUZpZWxkU2VsZWN0VmFsdWUiLCJtZXRhZGF0YUZpZWxkTXVsdGlTZWxlY3RWYWx1ZSIsIm1ldGFkYXRhRmllbGRTZXRWYWx1ZSIsIm1ldGFkYXRhRmllbGRTZXREYXRlIiwibWV0YWRhdGFSZW1vdmVUZW1wbGF0ZSIsImZpbGVNZXRhZGF0YVJlbW92ZVRlbXBsYXRlQ29uZmlybSIsImZvbGRlck1ldGFkYXRhUmVtb3ZlVGVtcGxhdGVDb25maXJtIiwiZmlsZU1ldGFkYXRhUmVtb3ZlQ3VzdG9tVGVtcGxhdGVDb25maXJtIiwiZm9sZGVyTWV0YWRhdGFSZW1vdmVDdXN0b21UZW1wbGF0ZUNvbmZpcm0iLCJtZXRhZGF0YVRlbXBsYXRlU2VhcmNoUGxhY2Vob2xkZXIiLCJtZXRhZGF0YVRlbXBsYXRlQWRkIiwibWV0YWRhdGFUZW1wbGF0ZXNUaXRsZSIsIm1ldGFkYXRhVGVtcGxhdGVzTm9SZXN1bHRzIiwibWV0YWRhdGFUZW1wbGF0ZXNGZXRjaEZhaWxlZCIsIm1ldGFkYXRhVGVtcGxhdGVzTm9SZW1haW5pbmdUZW1wbGF0ZXMiLCJtZXRhZGF0YVRlbXBsYXRlc1NlcnZlckhhc05vVGVtcGxhdGVzIiwibWV0YWRhdGFTYXZlIiwibWV0YWRhdGFDYW5jZWwiLCJtZXRhZGF0YUNhc2NhZGVQb2xpY3lFbmFibGVkSW5mbyIsIm5vTWV0YWRhdGEiLCJub01ldGFkYXRhQWRkVGVtcGxhdGUiLCJlbmFibGVDYXNjYWRlUG9saWN5IiwiYXBwbHlDYXNjYWRlUG9saWN5VGV4dCIsImNhbm5vdEFwcGx5Q2FzY2FkZVBvbGljeVRleHQiLCJjYXNjYWRlUG9saWN5TGVhcm5Nb3JlIiwiY2FzY2FkZVBvbGljeU1vZGVRdWVzdGlvbiIsImNhc2NhZGVQb2xpY3lTa2lwTW9kZSIsImNhc2NhZGVQb2xpY3lPdmVyd3JpdGVNb2RlIiwiYWxsQXR0cmlidXRlc0FyZUhpZGRlbiIsIm5vQXR0cmlidXRlc0ZvclRlbXBsYXRlIiwib3BlcmF0aW9uTm90SW1tZWRpYXRlIiwiQ2FzY2FkZVBvbGljeV9leHRlbmRzIiwiZmVhdHVyZXNfbWV0YWRhdGFfaW5zdGFuY2VfZWRpdG9yX0Nhc2NhZGVQb2xpY3kiLCJjYW5FZGl0IiwiaXNDYXNjYWRpbmdFbmFibGVkIiwiaXNDYXNjYWRpbmdPdmVyd3JpdHRlbiIsImlzQ3VzdG9tTWV0YWRhdGEiLCJvbkNhc2NhZGVUb2dnbGUiLCJvbkNhc2NhZGVNb2RlQ2hhbmdlIiwic2hvdWxkU2hvd0Nhc2NhZGVPcHRpb25zIiwicmVhZE9ubHlTdGF0ZSIsInRhZ05hbWUiLCJlIiwiTGluayIsImhyZWYiLCJtZXRhZGF0YV9pbnN0YW5jZV9lZGl0b3JfZmllbGRzX1RleHRGaWVsZCIsImRhdGFLZXkiLCJkYXRhVmFsdWUiLCJpbnRsIiwiX29uQ2hhbmdlIiwib25SZW1vdmUiLCJfcmVmJHR5cGUiLCJjdXJyZW50VGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJmb3JtYXRNZXNzYWdlIiwiU2VsZWN0QnV0dG9uX2V4dGVuZHMiLCJTZWxlY3RCdXR0b25fb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJTZWxlY3RCdXR0b25fb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImNvbXBvbmVudHNfc2VsZWN0X2J1dHRvbl9TZWxlY3RCdXR0b24iLCJfcmVmJGlzRGlzYWJsZWQiLCJpcy1pbnZhbGlkIiwiQmFzZVNlbGVjdEZpZWxkX3R5cGVvZiIsIkJhc2VTZWxlY3RGaWVsZF9leHRlbmRzIiwiQmFzZVNlbGVjdEZpZWxkX2RlZmluZVByb3BlcnRpZXMiLCJCYXNlU2VsZWN0RmllbGRfZ2V0UHJvdG90eXBlT2YiLCJCYXNlU2VsZWN0RmllbGRfc2V0UHJvdG90eXBlT2YiLCJCYXNlU2VsZWN0RmllbGRfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiQmFzZVNlbGVjdEZpZWxkX2RlZmluZVByb3BlcnR5Iiwic3RvcERlZmF1bHRFdmVudCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiQmFzZVNlbGVjdEZpZWxkX0Jhc2VTZWxlY3RGaWVsZCIsIkJhc2VTZWxlY3RGaWVsZCIsIkJhc2VTZWxlY3RGaWVsZF9jbGFzc0NhbGxDaGVjayIsImFjdGl2ZUl0ZW1JbmRleCIsInNldEFjdGl2ZUl0ZW1JRCIsIml0ZW1FbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhY3RpdmVJdGVtSUQiLCJkb20iLCJzZWxlY3RlZEl0ZW1zIiwic2VsZWN0ZWRJdGVtIiwib25PcHRpb25TZWxlY3QiLCJjbG9zZURyb3Bkb3duIiwib3BlbkRyb3Bkb3duIiwib3B0aW9ucyIsIl90aGlzJHN0YXRlIiwiaXRlbUNvdW50IiwibmV4dEluZGV4Iiwic2V0QWN0aXZlSXRlbSIsInByZXZJbmRleCIsInNlbGVjdE9wdGlvbiIsIm11bHRpcGxlIiwic2VsZWN0TXVsdGlPcHRpb24iLCJzZWxlY3RTaW5nbGVPcHRpb24iLCJkZWZhdWx0VmFsdWUiLCJzZWxlY3RlZFZhbHVlcyIsImhhc0RlZmF1bHRWYWx1ZSIsIml0ZW0iLCJuZXdTZWxlY3RlZFZhbHVlcyIsInNsaWNlIiwic3BsaWNlIiwidG9nZ2xlT3B0aW9uIiwiZGVmYXVsdE9wdGlvbkluZGV4IiwiZmluZEluZGV4Iiwib3B0aW9uIiwiaW5jbHVkZXMiLCJoYW5kbGVDaGFuZ2UiLCJoYW5kbGVPcHRpb25TZWxlY3QiLCJkaXNwbGF5VGV4dCIsImpvaW4iLCJfdGhpcyRzdGF0ZTIiLCJfdGhpcyRwcm9wczMiLCJidXR0b25FbFByb3BzIiwiYnV0dG9uVGV4dCIsInJlbmRlckJ1dHRvblRleHQiLCJvd25LZXlzIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX29iamVjdFNwcmVhZCIsImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsImFyaWEtYXV0b2NvbXBsZXRlIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtb3ducyIsInNlbGVjdEZpZWxkSUQiLCJoYW5kbGVCdXR0b25DbGljayIsIm9uS2V5RG93biIsImhhbmRsZUJ1dHRvbktleURvd24iLCJyb2xlIiwiX3RoaXMkcHJvcHM0Iiwic2VwYXJhdG9ySW5kaWNlcyIsInNlbGVjdE9wdGlvbnMiLCJpdGVtUHJvcHMiLCJvbk1vdXNlRG93biIsIm9uTW91c2VFbnRlciIsImlzQWN0aXZlIiwiZGF0YWxpc3RfaXRlbSIsIkljb25DaGVjayIsInNlcGFyYXRvckluZGV4IiwidW5pcXVlSWRfZGVmYXVsdCIsIkJhc2VTZWxlY3RGaWVsZF9pbmhlcml0cyIsIl90aGlzJHByb3BzNSIsIl90aGlzJHByb3BzNiIsImxpc3Rib3hQcm9wcyIsImhhbmRsZUJsdXIiLCJoYW5kbGVLZXlEb3duIiwicmVuZGVyU2VsZWN0QnV0dG9uIiwiY29uc3RhbnRzIiwiaXMtdmlzaWJsZSIsInJlbmRlclNlbGVjdE9wdGlvbnMiLCJzZWxlY3RfZmllbGRfQmFzZVNlbGVjdEZpZWxkIiwiU2luZ2xlU2VsZWN0RmllbGRfdHlwZW9mIiwiU2luZ2xlU2VsZWN0RmllbGRfZXh0ZW5kcyIsIlNpbmdsZVNlbGVjdEZpZWxkX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiU2luZ2xlU2VsZWN0RmllbGRfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsIlNpbmdsZVNlbGVjdEZpZWxkX2RlZmluZVByb3BlcnRpZXMiLCJTaW5nbGVTZWxlY3RGaWVsZF9nZXRQcm90b3R5cGVPZiIsIlNpbmdsZVNlbGVjdEZpZWxkX3NldFByb3RvdHlwZU9mIiwiU2luZ2xlU2VsZWN0RmllbGRfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwic2VsZWN0X2ZpZWxkX1NpbmdsZVNlbGVjdEZpZWxkIiwiU2luZ2xlU2VsZWN0RmllbGQiLCJfZ2V0UHJvdG90eXBlT2YyIiwiU2luZ2xlU2VsZWN0RmllbGRfY2xhc3NDYWxsQ2hlY2siLCJhcmdzIiwic2VsZWN0ZWRPcHRpb25zIiwiZmllbGRUeXBlIiwiU2luZ2xlU2VsZWN0RmllbGRfaW5oZXJpdHMiLCJzZWxlY3RlZFZhbHVlIiwic2VsZWN0RmllbGRQcm9wcyIsIm9taXRfZGVmYXVsdCIsImlzRmllbGRTZWxlY3RlZCIsIm1ldGFkYXRhX2luc3RhbmNlX2VkaXRvcl9maWVsZHNfRW51bUZpZWxkIiwiX3JlZiRvcHRpb25zIiwiaXNTZWxlY3RhYmxlIiwidW5zaGlmdCIsIkxhYmVsIiwibWV0YWRhdGFfaW5zdGFuY2VfZWRpdG9yX2ZpZWxkc19EYXRlRmllbGQiLCJEYXRlUGlja2VyIiwiZGF0ZUZvcm1hdCIsImRpc3BsYXlGb3JtYXQiLCJkYXkiLCJtb250aCIsInllYXIiLCJkYXRlIiwiaXNvRGF0ZSIsImRhdGV0aW1lIiwiRklFTERfVFlQRV9TVFJJTkciLCJURU1QTEFURV9DVVNUT01fUFJPUEVSVElFUyIsImZsb2F0UmVnZXgiLCJpbnRlZ2VyUmVnZXgiLCJ2YWxpZGF0ZUZpZWxkX2lzVmFsaWRWYWx1ZSIsIm1hdGNoIiwiZmxvYXRWYWxpZGF0b3IiLCJpbnRlZ2VyVmFsaWRhdG9yIiwiZmllbGRzX0Zsb2F0RmllbGQiLCJmaWVsZHNfSW50ZWdlckZpZWxkIiwiTXVsdGlTZWxlY3RGaWVsZF9leHRlbmRzIiwic2VsZWN0X2ZpZWxkX011bHRpU2VsZWN0RmllbGQiLCJyZWFjdF9kZWZhdWx0IiwibWV0YWRhdGFfaW5zdGFuY2VfZWRpdG9yX2ZpZWxkc19NdWx0aVNlbGVjdEZpZWxkIiwiX3JlZjIiLCJSZWFkT25seUZpZWxkX2V4dGVuZHMiLCJtZXRhZGF0YV9pbnN0YW5jZV9lZGl0b3JfZmllbGRzX1JlYWRPbmx5RmllbGQiLCJmaWVsZHNfRmllbGQiLCJpc0hpZGRlbiIsIkVycm9yIiwiSW5saW5lRXJyb3IiLCJtZXRhZGF0YVV0aWwiLCJoaWRkZW4iLCJmZWF0dXJlc19tZXRhZGF0YV9pbnN0YW5jZV9lZGl0b3JfVGVtcGxhdGVkSW5zdGFuY2UiLCJfcmVmJGRhdGEiLCJkYXRhIiwiZXJyb3JzIiwib25GaWVsZENoYW5nZSIsIm9uRmllbGRSZW1vdmUiLCJfdGVtcGxhdGUkZmllbGRzIiwidGVtcGxhdGUiLCJmaWVsZHMiLCJoYXNGaWVsZHMiLCJoYXNWaXNpYmxlRmllbGRzIiwic29tZSIsImZpZWxkIiwic2hvd05vRmllbGRzTWVzc2FnZSIsInNob3dIaWRkZW5GaWVsZHNNZXNzYWdlIiwiQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZF90eXBlb2YiLCJDdXN0b21JbnN0YW5jZU5ld0ZpZWxkX2V4dGVuZHMiLCJDdXN0b21JbnN0YW5jZU5ld0ZpZWxkX2RlZmluZVByb3BlcnRpZXMiLCJDdXN0b21JbnN0YW5jZU5ld0ZpZWxkX2dldFByb3RvdHlwZU9mIiwiQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZF9zZXRQcm90b3R5cGVPZiIsIkN1c3RvbUluc3RhbmNlTmV3RmllbGRfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZF9kZWZpbmVQcm9wZXJ0eSIsIkN1c3RvbUluc3RhbmNlTmV3RmllbGRfQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZCIsIl9SZWFjdCRQdXJlQ29tcG9uZW50IiwiQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZCIsIkN1c3RvbUluc3RhbmNlTmV3RmllbGRfY2xhc3NDYWxsQ2hlY2siLCJvbkFkZCIsInByb3BlcnRpZXMiLCJzdGFydHNXaXRoIiwiQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZF9pbmhlcml0cyIsImF0dHIiLCJpc0NhbmNlbGxhYmxlIiwib25DYW5jZWwiLCJUb29sdGlwIiwidGFiSW5kZXgiLCJJY29uSW5mbyIsIm9uS2V5Q2hhbmdlIiwib25WYWx1ZUNoYW5nZSIsIkJ1dHRvbiIsImRhdGEtcmVzaW4tdGFyZ2V0IiwiY29tbW9uX21lc3NhZ2VzIiwiY2FuY2VsIiwiZmVhdHVyZXNfbWV0YWRhdGFfaW5zdGFuY2VfZWRpdG9yX0N1c3RvbUluc3RhbmNlTmV3RmllbGQiLCJnZW5lcmFsX0ljb25NaW51c1RoaW4iLCJnZW5lcmFsX0ljb25QbHVzVGhpbiIsIm1ldGFkYXRhX2luc3RhbmNlX2VkaXRvcl9maWVsZHNfQ3VzdG9tRmllbGQiLCJpc0xhc3QiLCJhZGRCdG4iLCJhcmlhLWxhYmVsIiwicmVtb3ZlQnRuIiwiQnV0dG9uR3JvdXAiLCJnZW5lcmFsX0ljb25BZGRNZXRhZGF0YUVtcHR5U3RhdGUiLCJmaWxsT3BhY2l0eSIsInJ4IiwiZmVhdHVyZXNfbWV0YWRhdGFfaW5zdGFuY2VfZWRpdG9yX0VtcHR5Q29udGVudCIsImNhbkFkZCIsIkN1c3RvbUluc3RhbmNlX3R5cGVvZiIsIkN1c3RvbUluc3RhbmNlX29iamVjdFNwcmVhZCIsIkN1c3RvbUluc3RhbmNlX2RlZmluZVByb3BlcnR5IiwiQ3VzdG9tSW5zdGFuY2VfZGVmaW5lUHJvcGVydGllcyIsIkN1c3RvbUluc3RhbmNlX2dldFByb3RvdHlwZU9mIiwiQ3VzdG9tSW5zdGFuY2Vfc2V0UHJvdG90eXBlT2YiLCJDdXN0b21JbnN0YW5jZV9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJDdXN0b21JbnN0YW5jZV9DdXN0b21JbnN0YW5jZSIsIkN1c3RvbUluc3RhbmNlIiwiQ3VzdG9tSW5zdGFuY2VfY2xhc3NDYWxsQ2hlY2siLCJpc0FkZEZpZWxkVmlzaWJsZSIsIkN1c3RvbUluc3RhbmNlX2luaGVyaXRzIiwibmV4dFByb3BzIiwiY2FuQWRkRmllbGRzIiwib25BZGRGaWVsZFRvZ2dsZSIsIm1ldGFkYXRhX2luc3RhbmNlX2VkaXRvcl9DdXN0b21JbnN0YW5jZSIsImZlYXR1cmVzX21ldGFkYXRhX2luc3RhbmNlX2VkaXRvcl9NZXRhZGF0YUluc3RhbmNlQ29uZmlybURpYWxvZyIsIm9uQ29uZmlybSIsImNvbmZpcm1hdGlvbk1lc3NhZ2UiLCJQcmltYXJ5QnV0dG9uIiwiZmVhdHVyZXNfbWV0YWRhdGFfaW5zdGFuY2VfZWRpdG9yX0Zvb3RlciIsIm9uU2F2ZSIsIlBsYWluQnV0dG9uIiwiSW5zdGFuY2VfdHlwZW9mIiwiSW5zdGFuY2VfZXh0ZW5kcyIsIkluc3RhbmNlX29iamVjdFNwcmVhZCIsIkluc3RhbmNlX2RlZmluZVByb3BlcnR5IiwiSW5zdGFuY2VfZGVmaW5lUHJvcGVydGllcyIsIkluc3RhbmNlX2dldFByb3RvdHlwZU9mIiwiSW5zdGFuY2Vfc2V0UHJvdG90eXBlT2YiLCJJbnN0YW5jZV9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJjcmVhdGVGaWVsZEtleVRvVHlwZU1hcCIsInJlZHVjZSIsInByZXYiLCJJbnN0YW5jZV9nZXRWYWx1ZSIsInBhcnNlSW50IiwiSW5zdGFuY2VfSW5zdGFuY2UiLCJJbnN0YW5jZSIsIkluc3RhbmNlX2NsYXNzQ2FsbENoZWNrIiwib25Nb2RpZmljYXRpb24iLCJnZXRTdGF0ZSIsInNob3VsZENvbmZpcm1SZW1vdmUiLCJpc0VkaXRpbmciLCJpc0J1c3kiLCJjYXNjYWRlUG9saWN5Iiwib3JpZ2luYWxEYXRhIiwiaXNEaXJ0eSIsImlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSIsImN1cnJlbnREYXRhIiwiY3JlYXRlSlNPTlBhdGNoIiwiaXNFbmFibGVkIiwib3ZlcndyaXRlIiwiY2xvbmVEZWVwX2RlZmF1bHQiLCJpc0VxdWFsX2RlZmF1bHQiLCJmaW5hbEVycm9ycyIsImZpbmFsRGF0YSIsInNldERpcnR5IiwiX3RoaXMkc3RhdGUzIiwiaXNGaWxlIiwidGVtcGxhdGVLZXkiLCJtZXRhZGF0YU5hbWUiLCJfdGhpcyRzdGF0ZTQiLCJoYXNEYXRhQ2hhbmdlZCIsImhhc0Nhc2NhZGluZ0NoYW5nZWQiLCJlZGl0Q2xhc3NOYW1lIiwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWluc3RhbmNlLWlzLWVkaXRpbmciLCJ0b2dnbGVJc0VkaXRpbmciLCJJY29uRWRpdCIsImZpZWxkS2V5VG9UeXBlTWFwIiwiSW5zdGFuY2VfaW5oZXJpdHMiLCJoYXNFcnJvciIsImVsZW1lbnQiLCJjb2xsYXBzaWJsZVJlZiIsImN1cnJlbnQiLCJibG9jayIsImJlaGF2aW9yIiwiX3RoaXMkcHJvcHM1JGNhc2NhZGVQIiwiaXNQcm9wZXJ0aWVzIiwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWluc3RhbmNlLWhhcy1lcnJvciIsIkljb25BbGVydENpcmNsZSIsInJlbmRlckRlbGV0ZU1lc3NhZ2UiLCJvcHMiLCJvcmlnaW5hbFZhbHVlIiwicGF0aCIsIm9wIiwiX3RoaXMkcHJvcHM3IiwiX3RoaXMkcHJvcHM4IiwiX3RoaXMkcHJvcHM4JGNhc2NhZGVQIiwiX3RoaXMkc3RhdGU1IiwiY29tbW9uX3ZhcmlhYmxlcyIsInJlbmRlckVkaXRCdXR0b24iLCJnZXRUaXRsZSIsIkxvYWRpbmdJbmRpY2F0b3JXcmFwcGVyIiwiZ2V0Q29uZmlybWF0aW9uTWVzc2FnZSIsIm9uQ29uZmlybUNhbmNlbCIsIm9uQ29uZmlybVJlbW92ZSIsImZlYXR1cmVzX21ldGFkYXRhX2luc3RhbmNlX2VkaXRvcl9JbnN0YW5jZSIsIm1ldGFkYXRhX2luc3RhbmNlX2VkaXRvcl9JbnN0YW5jZXMiLCJfcmVmJGlzQ2FzY2FkaW5nUG9saWMiLCJfcmVmJGVkaXRvcnMiLCJlZGl0b3JzIiwiX3JlZjIkaXNEaXJ0eSIsIl9yZWYyJGhhc0Vycm9yIiwiZ2VuZXJhbF9JY29uU2VhcmNoIiwiU2VhcmNoRm9ybV90eXBlb2YiLCJTZWFyY2hGb3JtX2V4dGVuZHMiLCJTZWFyY2hGb3JtX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiU2VhcmNoRm9ybV9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiU2VhcmNoRm9ybV9kZWZpbmVQcm9wZXJ0aWVzIiwiU2VhcmNoRm9ybV9nZXRQcm90b3R5cGVPZiIsIlNlYXJjaEZvcm1fc2V0UHJvdG90eXBlT2YiLCJTZWFyY2hGb3JtX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIlNlYXJjaEZvcm1fZGVmaW5lUHJvcGVydHkiLCJTZWFyY2hGb3JtX21lc3NhZ2VzIiwiY2xlYXJCdXR0b25UaXRsZSIsInNlYXJjaEJ1dHRvblRpdGxlIiwic2VhcmNoTGFiZWwiLCJTZWFyY2hGb3JtX1NlYXJjaEZvcm0iLCJTZWFyY2hGb3JtIiwiU2VhcmNoRm9ybV9jbGFzc0NhbGxDaGVjayIsImlzRW1wdHkiLCJzaG91bGRQcmV2ZW50Q2xlYXJFdmVudFByb3BhZ2F0aW9uIiwic2VhcmNoSW5wdXQiLCJ0cmltIiwiZWxlbWVudHMiLCJvblN1Ym1pdCIsImdldFNlYXJjaElucHV0IiwiU2VhcmNoRm9ybV9pbmhlcml0cyIsImFjdGlvbiIsIm1ldGhvZCIsInF1ZXJ5UGFyYW1zIiwidXNlQ2xlYXJCdXR0b24iLCJmb3JtQ2xhc3NOYW1lcyIsImlzLWVtcHR5IiwidXNlLWNsZWFyLWJ1dHRvbiIsImhpZGRlbklucHV0cyIsInBhcmFtIiwiTG9hZGFibGVTZWFyY2hBY3Rpb25zIiwibWFrZUxvYWRhYmxlIiwib25DbGVhckhhbmRsZXIiLCJJY29uQ2xlYXIiLCJvblN1Ym1pdEhhbmRsZXIiLCJzZXRJbnB1dFJlZiIsImF1dG9Db21wbGV0ZSIsImxvYWRpbmdJbmRpY2F0b3JQcm9wcyIsImNvbXBvbmVudHNfc2VhcmNoX2Zvcm1fU2VhcmNoRm9ybSIsIlRlbXBsYXRlRHJvcGRvd25fdHlwZW9mIiwiVGVtcGxhdGVEcm9wZG93bl9kZWZpbmVQcm9wZXJ0aWVzIiwiVGVtcGxhdGVEcm9wZG93bl9nZXRQcm90b3R5cGVPZiIsIlRlbXBsYXRlRHJvcGRvd25fc2V0UHJvdG90eXBlT2YiLCJUZW1wbGF0ZURyb3Bkb3duX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIlRlbXBsYXRlRHJvcGRvd25fZGVmaW5lUHJvcGVydHkiLCJUZW1wbGF0ZURyb3Bkb3duX2V4dGVuZHMiLCJUZW1wbGF0ZURyb3Bkb3duX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiVGVtcGxhdGVEcm9wZG93bl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiVGVtcGxhdGVEcm9wZG93bl9JbnB1dENvbnRhaW5lciIsImdldEF2YWlsYWJsZVRlbXBsYXRlcyIsImFsbFRlbXBsYXRlcyIsInVzZWRUZW1wbGF0ZXMiLCJ1c2VkVGVtcGxhdGUiLCJzY29wZSIsIlRlbXBsYXRlRHJvcGRvd25fVGVtcGxhdGVEcm9wZG93biIsIlRlbXBsYXRlRHJvcGRvd24iLCJUZW1wbGF0ZURyb3Bkb3duX2NsYXNzQ2FsbENoZWNrIiwiaXNEcm9wZG93bkJ1c3kiLCJhY3RpdmVUZW1wbGF0ZSIsImRlZmF1bHRUZW1wbGF0ZUljb24iLCJhY3RpdmVUZW1wbGF0ZUljb24iLCJ0ZW1wbGF0ZXMiLCJoYXNVbnVzZWRUZW1wbGF0ZXMiLCJoYXNUZW1wbGF0ZXMiLCJoYXNSZXN1bHRzIiwiaW5kaWNhdG9yT3JNZXNzYWdlIiwibG9hZGluZ19pbmRpY2F0b3IiLCJyZW5kZXJlZFRlbXBsYXRlcyIsImlzVGVtcGxhdGVTZWxlY3RlZCIsIm1ldGFkYXRhLXRlbXBsYXRlLWRyb3Bkb3duLWlzLXNlbGVjdGVkIiwicGxhaW5fYnV0dG9uIiwiZ2V0VGVtcGxhdGVOYW1lIiwic2VsZWN0b3JfZHJvcGRvd24iLCJpc0Fsd2F5c09wZW4iLCJvblNlbGVjdCIsInNlbGVjdG9yIiwiZ2V0U2VsZWN0b3IiLCJzaG91bGRTY3JvbGwiLCJmaWx0ZXJUZXh0IiwiaGFuZGxlVXNlcklucHV0IiwidXNlcklucHV0IiwidG9Mb3dlckNhc2UiLCJvbkRyb3Bkb3duVG9nZ2xlIiwiaXNEcm9wZG93bk9wZW4iLCJlbnRyeUJ1dHRvbiIsImJ1dHRvblRvZ2dsZUNsYXNzTmFtZSIsImlzLXRvZ2dsZWQiLCJNZW51VG9nZ2xlIiwiVGVtcGxhdGVEcm9wZG93bl9pbmhlcml0cyIsImZseW91dENsYXNzTmFtZSIsImZseW91dCIsImNsb3NlT25DbGljayIsImNsb3NlT25DbGlja091dHNpZGUiLCJzaG91bGREZWZhdWx0Rm9jdXMiLCJyZW5kZXJFbnRyeUJ1dHRvbiIsImdldERyb3Bkb3duIiwiZmVhdHVyZXNfbWV0YWRhdGFfaW5zdGFuY2VfZWRpdG9yX1RlbXBsYXRlRHJvcGRvd24iLCJNZXRhZGF0YVNpZGViYXJfdHlwZW9mIiwiTWV0YWRhdGFTaWRlYmFyX2V4dGVuZHMiLCJNZXRhZGF0YVNpZGViYXJfb2JqZWN0U3ByZWFkIiwiTWV0YWRhdGFTaWRlYmFyX2RlZmluZVByb3BlcnR5IiwiTWV0YWRhdGFTaWRlYmFyX2RlZmluZVByb3BlcnRpZXMiLCJNZXRhZGF0YVNpZGViYXJfZ2V0UHJvdG90eXBlT2YiLCJNZXRhZGF0YVNpZGViYXJfc2V0UHJvdG90eXBlT2YiLCJNZXRhZGF0YVNpZGViYXJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiTWV0YWRhdGFTaWRlYmFyX01ldGFkYXRhU2lkZWJhciIsIk1BUktfTkFNRV9KU19SRUFEWSIsImxvZ2dlcl9jb25zdGFudHMiLCJwZXJmb3JtYW5jZSIsIk1ldGFkYXRhU2lkZWJhciIsIk1ldGFkYXRhU2lkZWJhcl9jbGFzc0NhbGxDaGVjayIsImFwaSIsImZpbGUiLCJlZGl0b3IiLCJnZXRFZGl0b3IiLCJnZXRNZXRhZGF0YUFQSSIsImRlbGV0ZU1ldGFkYXRhIiwib25SZW1vdmVTdWNjZXNzSGFuZGxlciIsIm9uQXBpRXJyb3IiLCJfdGhpcyRzdGF0ZSRlZGl0b3JzIiwiY2xvbmUiLCJjcmVhdGVNZXRhZGF0YSIsIm9uQWRkU3VjY2Vzc0hhbmRsZXIiLCJvbGRFZGl0b3IiLCJ1cGRhdGVNZXRhZGF0YSIsIm5ld0VkaXRvciIsInJlcGxhY2VFZGl0b3IiLCJjb2RlIiwib25TYXZlRXJyb3JIYW5kbGVyIiwiZWxlbWVudHNfY29tbW9uX21lc3NhZ2VzIiwic2lkZWJhck1ldGFkYXRhRmV0Y2hpbmdFcnJvckNvbnRlbnQiLCJzaWRlYmFyRmlsZUZldGNoaW5nRXJyb3JDb250ZW50IiwiY3VycmVudEZpbGUiLCJjdXJyZW50Q2FuVXBsb2FkIiwiZ2V0X2RlZmF1bHQiLCJuZXdDYW5VcGxvYWQiLCJmZXRjaE1ldGFkYXRhIiwibm9vcF9kZWZhdWx0IiwibG9nZ2VyIiwib25SZWFkeU1ldHJpYyIsImVuZE1hcmtOYW1lIiwiTWV0YWRhdGFTaWRlYmFyX2luaGVyaXRzIiwiZmV0Y2hGaWxlIiwibmV3U3RhdGUiLCJvbkVycm9yIiwic3RhdHVzIiwiaXNWYWxpZEVycm9yIiwidXRpbHNfZXJyb3IiLCJzaWRlYmFyTWV0YWRhdGFFZGl0aW5nRXJyb3JDb250ZW50IiwiX3RoaXMkc3RhdGUkZWRpdG9yczIiLCJmaW5kIiwiX3RoaXMkc3RhdGUkZWRpdG9yczMiLCJfdGhpcyRzdGF0ZSRlZGl0b3JzNCIsImlzRmVhdHVyZUVuYWJsZWQiLCJnZXRNZXRhZGF0YSIsImZldGNoTWV0YWRhdGFTdWNjZXNzQ2FsbGJhY2siLCJmZXRjaE1ldGFkYXRhRXJyb3JDYWxsYmFjayIsInJlZnJlc2hDYWNoZSIsImZpbGVJZCIsImdldEZpbGVBUEkiLCJnZXRGaWxlIiwiZmV0Y2hGaWxlU3VjY2Vzc0NhbGxiYWNrIiwiZmV0Y2hGaWxlRXJyb3JDYWxsYmFjayIsInNob3dFZGl0b3IiLCJzaG93TG9hZGluZ0luZGljYXRvciIsInNob3dUZW1wbGF0ZURyb3Bkb3duIiwic2hvd0VtcHR5Q29udGVudCIsIlNpZGViYXJDb250ZW50IiwiYWN0aW9ucyIsIlNpZGViYXJVdGlscyIsImdldFRpdGxlRm9yVmlldyIsIkxvYWRpbmdJbmRpY2F0b3IiLCJmbG93X2RlZmF1bHQiLCJjb21tb25fbG9nZ2VyIiwiZXJyb3JfYm91bmRhcnkiLCJhcGlfY29udGV4dCJdLCJtYXBwaW5ncyI6IjJGQUFBLElBQUFBLEVBQUFDLEVBQUEsR0FBQUMsRUFBQUQsRUFBQSxHQUFBRSxFQUFBRixFQUFBRyxFQUFBRixHQUFBRyxFQUFBSixFQUFBLEtBQUFLLEVBQUFMLEVBQUEsS0FBQU0sRUFBQU4sRUFBQSxLQUFBTyxFQUFBUCxFQUFBLElBQUFBLEVBQUEsZUFBQVEsSUFBbVIsT0FBOVBBLEVBQUFDLE9BQUFDLFFBQUEsU0FBQUMsR0FBZ0QsUUFBQUMsRUFBQSxFQUFnQkEsRUFBQUMsVUFBQUMsT0FBc0JGLElBQUEsQ0FBTyxJQUFBRyxFQUFBRixVQUFBRCxHQUEyQixRQUFBSSxLQUFBRCxFQUEwQk4sT0FBQVEsVUFBQUMsZUFBQUMsS0FBQUosRUFBQUMsS0FBeURMLEVBQUFLLEdBQUFELEVBQUFDLElBQWlDLE9BQUFMLElBQWtCUyxNQUFBQyxLQUFBUixXQUVuUixTQUFBUyxFQUFBUCxFQUFBUSxHQUFxRCxTQUFBUixFQUFBLFNBQStCLElBQThEQyxFQUFBSixFQUE5REQsRUFFcEYsU0FBQUksRUFBQVEsR0FBMEQsU0FBQVIsRUFBQSxTQUErQixJQUF1REMsRUFBQUosRUFBdkRELEVBQUEsR0FBaUJhLEVBQUFmLE9BQUFnQixLQUFBVixHQUFrRCxJQUFBSCxFQUFBLEVBQVlBLEVBQUFZLEVBQUFWLE9BQXVCRixJQUFPSSxFQUFBUSxFQUFBWixHQUFxQlcsRUFBQUcsUUFBQVYsSUFBQSxJ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ekIsT0FDQXN6QixnQkFBQSxFQUNBbE0sTUFBQTdtQixLQUFBNm1CLE1BRUFzTSxZQUVBVixjQUFBMUQsRUFBQTVoQixJQUFBLFNBQUFvcEIsR0FDQSxPQUFBQSxFQUFBN1EsYUFFUyxLQUNUN2tCLFVBQUEsZUFDQThCLE1BQWVvM0IsR0FBQSxFQUFZQyxnQkFBaUIzWSxHQUFBLEtBQ3JDdGdCLEdBQVcyUyxFQUFBLGNBQW9Cc1IsRUFBQSxFQUFXLENBQ2pEcmlCLE1BQWUrUSxFQUFBLGNBQW9CcUQsRUFBQSxFQUFrQndnQixHQUFBLEVBQVF4MkIsUUFDcEQyUyxFQUFBLGNBQW9CcUQsRUFBQSxFQUFnQmhXLElBQUEyNEIsR0FBbUNobUIsRUFBQSxjQUFvQnVtQixHQUFBLEVBQWdCLE1BQUFSLEdBQXVCL2xCLEVBQUEsY0FBb0I2YSxFQUFBLEVBQXVCLENBQ3RMMXRCLFVBQUEsMkJBQ0FPLGFBQ093NEIsRUFBcUJsbUIsRUFBQSxjQUFvQitVLEdBQVksQ0FDNURDLE9BQUF4TyxJQUNXeEcsRUFBQSxjQUFvQmtiLEdBQVMsQ0FDeENHLFVBQ0E3RCxlQUFBbHJCLEtBQUFrckIsZUFDQS9QLFNBQUFuYixLQUFBbWIsU0FDQTZPLE9BQUFocUIsS0FBQWdxQixnQkFqWjhFMkwsR0FBaUJ6dUIsRUFBQXRILFVBQUFnSSxHQUFvQ0MsR0FBa0I4dEIsR0FBaUJ6dUIsRUFBQVcsR0FzWnRLc3VCLEVBdldBLEdBMFdBVCxHQUFnQkssR0FBZSxnQkFDL0JnRCxrQkFBQSxJQUllMTJCLEVBQUEsUUFBQTYzQixJQUFJLENBQUU5NkIsT0FBQSs2QixHQUFBLEVBQUEvNkIsQ0FBV2lpQixHQUFBLElBQTBCamlCLE9BQUFnN0IsR0FBQSxFQUFBaDdCLENBQWtCaWlCLEdBQUEsSUFBMEJnWixHQUFBLEdBQXZGLENBQXdHdEUiLCJmaWxlIjoidmVuZG9yc35tZXRhZGF0YS1zaWRlYmFyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgSWNvblZlcmlmaWVkIGZyb20gJy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvblZlcmlmaWVkJztcbmltcG9ydCBMYWJlbCBmcm9tICcuLi9sYWJlbCc7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvciBmcm9tICcuLi9sb2FkaW5nLWluZGljYXRvcic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuLi90b29sdGlwJztcbmltcG9ydCAnLi9UZXh0SW5wdXQuc2Nzcyc7XG5cbnZhciBUZXh0SW5wdXQgPSBmdW5jdGlvbiBUZXh0SW5wdXQoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgZGVzY3JpcHRpb24gPSBfcmVmLmRlc2NyaXB0aW9uLFxuICAgICAgZXJyb3IgPSBfcmVmLmVycm9yLFxuICAgICAgZXJyb3JQb3NpdGlvbiA9IF9yZWYuZXJyb3JQb3NpdGlvbixcbiAgICAgIGhpZGVMYWJlbCA9IF9yZWYuaGlkZUxhYmVsLFxuICAgICAgaGlkZU9wdGlvbmFsTGFiZWwgPSBfcmVmLmhpZGVPcHRpb25hbExhYmVsLFxuICAgICAgaW5wdXRSZWYgPSBfcmVmLmlucHV0UmVmLFxuICAgICAgaXNMb2FkaW5nID0gX3JlZi5pc0xvYWRpbmcsXG4gICAgICBpc1JlcXVpcmVkID0gX3JlZi5pc1JlcXVpcmVkLFxuICAgICAgaXNWYWxpZCA9IF9yZWYuaXNWYWxpZCxcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIGxhYmVsVG9vbHRpcCA9IF9yZWYubGFiZWxUb29sdGlwLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJjbGFzc05hbWVcIiwgXCJkZXNjcmlwdGlvblwiLCBcImVycm9yXCIsIFwiZXJyb3JQb3NpdGlvblwiLCBcImhpZGVMYWJlbFwiLCBcImhpZGVPcHRpb25hbExhYmVsXCIsIFwiaW5wdXRSZWZcIiwgXCJpc0xvYWRpbmdcIiwgXCJpc1JlcXVpcmVkXCIsIFwiaXNWYWxpZFwiLCBcImxhYmVsXCIsIFwibGFiZWxUb29sdGlwXCJdKTtcblxuICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMoY2xhc3NOYW1lLCAndGV4dC1pbnB1dC1jb250YWluZXInLCB7XG4gICAgJ3Nob3ctZXJyb3InOiAhIWVycm9yXG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIHtcbiAgICBoaWRlTGFiZWw6IGhpZGVMYWJlbCxcbiAgICBzaG93T3B0aW9uYWxUZXh0OiAhaGlkZU9wdGlvbmFsTGFiZWwgJiYgIWlzUmVxdWlyZWQsXG4gICAgdGV4dDogbGFiZWwsXG4gICAgdG9vbHRpcDogbGFiZWxUb29sdGlwXG4gIH0sICEhZGVzY3JpcHRpb24gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ0ZXh0LWlucHV0LWRlc2NyaXB0aW9uXCJcbiAgfSwgZGVzY3JpcHRpb24pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIHtcbiAgICBpc1Nob3duOiAhIWVycm9yLFxuICAgIHBvc2l0aW9uOiBlcnJvclBvc2l0aW9uIHx8ICdtaWRkbGUtcmlnaHQnLFxuICAgIHRleHQ6IGVycm9yIHx8ICcnLFxuICAgIHRoZW1lOiBcImVycm9yXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIF9leHRlbmRzKHtcbiAgICByZWY6IGlucHV0UmVmLFxuICAgIHJlcXVpcmVkOiBpc1JlcXVpcmVkXG4gIH0sIHJlc3QpKSksIGlzTG9hZGluZyAmJiAhaXNWYWxpZCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdJbmRpY2F0b3IsIHtcbiAgICBjbGFzc05hbWU6IFwidGV4dC1pbnB1dC1sb2FkaW5nXCJcbiAgfSksIGlzVmFsaWQgJiYgIWlzTG9hZGluZyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25WZXJpZmllZCwge1xuICAgIGNsYXNzTmFtZTogXCJ0ZXh0LWlucHV0LXZlcmlmaWVkXCJcbiAgfSkpKTtcbn07XG5cblRleHRJbnB1dC5kaXNwbGF5TmFtZSA9ICdUZXh0SW5wdXQnO1xuZXhwb3J0IGRlZmF1bHQgVGV4dElucHV0OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY2Nlc3NpYmxlU1ZHIGZyb20gJy4uL2FjY2Vzc2libGUtc3ZnJztcblxudmFyIEljb25FZGl0ID0gZnVuY3Rpb24gSWNvbkVkaXQoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICcjOTk5JyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDE0IDogX3JlZiRoZWlnaHQsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gMTQgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tZWRpdCBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIixcbiAgICB3aWR0aDogd2lkdGhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmaWxsLWNvbG9yXCIsXG4gICAgZDogXCJNMy4yMSA3Ljg5bDYuNDctNi40OGEyIDIgMCAwIDEgMi44OCAyLjc4aC0uMDVMNiAxMC43MiAzLjIxIDcuODl6TTIuMjQgOWwyLjgzIDIuODNMMS42NyAxM2MtLjUyLjE4LS43OS0uMS0uNjItLjYxelwiLFxuICAgIGZpbGw6IGNvbG9yXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEljb25FZGl0OyIsInZhciBTZXRDYWNoZSA9IHJlcXVpcmUoJy4vX1NldENhY2hlJyksXG4gICAgYXJyYXlTb21lID0gcmVxdWlyZSgnLi9fYXJyYXlTb21lJyksXG4gICAgY2FjaGVIYXMgPSByZXF1aXJlKCcuL19jYWNoZUhhcycpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxdWFsQXJyYXlzO1xuIiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IG9taXQgZnJvbSAnbG9kYXNoL29taXQnO1xuaW1wb3J0IEFuaW1hdGVIZWlnaHQgZnJvbSAncmVhY3QtYW5pbWF0ZS1oZWlnaHQnO1xuaW1wb3J0IHsgUkVTSU5fVEFHX1RBUkdFVCB9IGZyb20gJy4uLy4uL2NvbW1vbi92YXJpYWJsZXMnO1xuaW1wb3J0IEljb25DYXJldERvd24gZnJvbSAnLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uQ2FyZXREb3duJztcbmltcG9ydCBQbGFpbkJ1dHRvbiBmcm9tICcuLi9wbGFpbi1idXR0b24nO1xuaW1wb3J0IHsgbmluZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMvdmFyaWFibGVzJztcbmltcG9ydCAnLi9Db2xsYXBzaWJsZS5zY3NzJztcblxudmFyIENvbGxhcHNpYmxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb2xsYXBzaWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ29sbGFwc2libGUocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sbGFwc2libGUpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQ29sbGFwc2libGUpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJ0b2dnbGVWaXNpYmlsaXR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uT3BlbiA9IF90aGlzJHByb3BzLm9uT3BlbixcbiAgICAgICAgICBvbkNsb3NlID0gX3RoaXMkcHJvcHMub25DbG9zZTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzT3BlbjogIXByZXZTdGF0ZS5pc09wZW5cbiAgICAgICAgfTtcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlzT3BlbiA9IF90aGlzLnN0YXRlLmlzT3BlbjtcblxuICAgICAgICBpZiAoaXNPcGVuICYmIG9uT3Blbikge1xuICAgICAgICAgIG9uT3BlbihfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzT3BlbiAmJiBvbkNsb3NlKSB7XG4gICAgICAgICAgb25DbG9zZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc09wZW46IHByb3BzLmlzT3BlblxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbGxhcHNpYmxlLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGlzT3BlbiA9IHRoaXMuc3RhdGUuaXNPcGVuO1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb24gPSBfdGhpcyRwcm9wczIuYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgX3RoaXMkcHJvcHMyJGJ1dHRvblByID0gX3RoaXMkcHJvcHMyLmJ1dHRvblByb3BzLFxuICAgICAgICAgIGJ1dHRvblByb3BzID0gX3RoaXMkcHJvcHMyJGJ1dHRvblByID09PSB2b2lkIDAgPyB7fSA6IF90aGlzJHByb3BzMiRidXR0b25QcixcbiAgICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzMi5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczIuY2xhc3NOYW1lLFxuICAgICAgICAgIGlzQm9yZGVyZWQgPSBfdGhpcyRwcm9wczIuaXNCb3JkZXJlZCxcbiAgICAgICAgICBoYXNTdGlja3lIZWFkZXIgPSBfdGhpcyRwcm9wczIuaGFzU3RpY2t5SGVhZGVyLFxuICAgICAgICAgIGhlYWRlckFjdGlvbkl0ZW1zID0gX3RoaXMkcHJvcHMyLmhlYWRlckFjdGlvbkl0ZW1zLFxuICAgICAgICAgIHRpdGxlID0gX3RoaXMkcHJvcHMyLnRpdGxlO1xuICAgICAgdmFyIHNlY3Rpb25DbGFzc05hbWUgPSBjbGFzc05hbWVzKCdjb2xsYXBzaWJsZS1jYXJkJywge1xuICAgICAgICAnaXMtb3Blbic6IGlzT3BlblxuICAgICAgfSwge1xuICAgICAgICAnaXMtYm9yZGVyZWQnOiBpc0JvcmRlcmVkXG4gICAgICB9LCBjbGFzc05hbWUpO1xuICAgICAgdmFyIGludGVyYWN0aW9uVGFyZ2V0ID0gYnV0dG9uUHJvcHNbUkVTSU5fVEFHX1RBUkdFVF07XG4gICAgICB2YXIgbW9kaWZpZWRCdXR0b25Qcm9wcyA9IG9taXQoYnV0dG9uUHJvcHMsIFtSRVNJTl9UQUdfVEFSR0VUXSk7XG4gICAgICB2YXIgYnV0dG9uQ2xhc3NOYW1lID0gaGFzU3RpY2t5SGVhZGVyID8gJ2NvbGxhcHNpYmxlLWNhcmQtaGVhZGVyIGhhcy1zdGlja3ktaGVhZGVyJyA6ICdjb2xsYXBzaWJsZS1jYXJkLWhlYWRlcic7XG5cbiAgICAgIGlmIChpbnRlcmFjdGlvblRhcmdldCkge1xuICAgICAgICBtb2RpZmllZEJ1dHRvblByb3BzW1JFU0lOX1RBR19UQVJHRVRdID0gXCJcIi5jb25jYXQoaW50ZXJhY3Rpb25UYXJnZXQpLmNvbmNhdChpc09wZW4gPyAnY29sbGFwc2UnIDogJ2V4cGFuZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogc2VjdGlvbkNsYXNzTmFtZVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogYnV0dG9uQ2xhc3NOYW1lXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWluQnV0dG9uLCBfZXh0ZW5kcyh7fSwgbW9kaWZpZWRCdXR0b25Qcm9wcywge1xuICAgICAgICBjbGFzc05hbWU6IFwiY29sbGFwc2libGUtY2FyZC10aXRsZVwiLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZVZpc2liaWxpdHksXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICAgIH0pLCB0aXRsZSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQ2FyZXREb3duLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjb2xsYXBzaWJsZS1jYXJkLWhlYWRlci1jYXJldFwiLFxuICAgICAgICBjb2xvcjogbmluZXMsXG4gICAgICAgIHdpZHRoOiA4XG4gICAgICB9KSksIGlzT3BlbiAmJiBoZWFkZXJBY3Rpb25JdGVtcyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZUhlaWdodCwge1xuICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgIGhlaWdodDogaXNPcGVuID8gJ2F1dG8nIDogMFxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjb2xsYXBzaWJsZS1jYXJkLWNvbnRlbnRcIlxuICAgICAgfSwgY2hpbGRyZW4pKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbGxhcHNpYmxlO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoQ29sbGFwc2libGUsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgYnV0dG9uUHJvcHM6IHt9LFxuICBjbGFzc05hbWU6ICcnLFxuICBpc09wZW46IHRydWUsXG4gIGFuaW1hdGlvbkR1cmF0aW9uOiAxMDBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDb2xsYXBzaWJsZTsiLCJ2YXIgYmFzZUlzRXF1YWwgPSByZXF1aXJlKCcuL19iYXNlSXNFcXVhbCcpO1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAqIGVxdWl2YWxlbnQuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIG9iamVjdCA9PT0gb3RoZXI7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0VxdWFsO1xuIiwidmFyIGJhc2VJc0VxdWFsRGVlcCA9IHJlcXVpcmUoJy4vX2Jhc2VJc0VxdWFsRGVlcCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICB9XG4gIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc0VxdWFsO1xuIiwidmFyIFN0YWNrID0gcmVxdWlyZSgnLi9fU3RhY2snKSxcbiAgICBlcXVhbEFycmF5cyA9IHJlcXVpcmUoJy4vX2VxdWFsQXJyYXlzJyksXG4gICAgZXF1YWxCeVRhZyA9IHJlcXVpcmUoJy4vX2VxdWFsQnlUYWcnKSxcbiAgICBlcXVhbE9iamVjdHMgPSByZXF1aXJlKCcuL19lcXVhbE9iamVjdHMnKSxcbiAgICBnZXRUYWcgPSByZXF1aXJlKCcuL19nZXRUYWcnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNCdWZmZXIgPSByZXF1aXJlKCcuL2lzQnVmZmVyJyksXG4gICAgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9pc1R5cGVkQXJyYXknKTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICBvYmpJc09iaiA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzRXF1YWxEZWVwO1xuIiwidmFyIE1hcENhY2hlID0gcmVxdWlyZSgnLi9fTWFwQ2FjaGUnKSxcbiAgICBzZXRDYWNoZUFkZCA9IHJlcXVpcmUoJy4vX3NldENhY2hlQWRkJyksXG4gICAgc2V0Q2FjaGVIYXMgPSByZXF1aXJlKCcuL19zZXRDYWNoZUhhcycpO1xuXG4vKipcbiAqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbm1vZHVsZS5leHBvcnRzID0gU2V0Q2FjaGU7XG4iLCIvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRDYWNoZUFkZDtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRDYWNoZUhhcztcbiIsIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlTb21lO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2FjaGVIYXM7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgVWludDhBcnJheSA9IHJlcXVpcmUoJy4vX1VpbnQ4QXJyYXknKSxcbiAgICBlcSA9IHJlcXVpcmUoJy4vZXEnKSxcbiAgICBlcXVhbEFycmF5cyA9IHJlcXVpcmUoJy4vX2VxdWFsQXJyYXlzJyksXG4gICAgbWFwVG9BcnJheSA9IHJlcXVpcmUoJy4vX21hcFRvQXJyYXknKSxcbiAgICBzZXRUb0FycmF5ID0gcmVxdWlyZSgnLi9fc2V0VG9BcnJheScpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJztcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxdWFsQnlUYWc7XG4iLCIvKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFRvQXJyYXk7XG4iLCIvKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFRvQXJyYXk7XG4iLCJ2YXIgZ2V0QWxsS2V5cyA9IHJlcXVpcmUoJy4vX2dldEFsbEtleXMnKTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHRydWU7XG4gIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICB9XG4gIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXF1YWxPYmplY3RzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQU5JTUFUSU9OX1NUQVRFX0NMQVNTRVMgPSB7XG4gIGFuaW1hdGluZzogJ3JhaC1hbmltYXRpbmcnLFxuICBhbmltYXRpbmdVcDogJ3JhaC1hbmltYXRpbmctLXVwJyxcbiAgYW5pbWF0aW5nRG93bjogJ3JhaC1hbmltYXRpbmctLWRvd24nLFxuICBhbmltYXRpbmdUb0hlaWdodFplcm86ICdyYWgtYW5pbWF0aW5nLS10by1oZWlnaHQtemVybycsXG4gIGFuaW1hdGluZ1RvSGVpZ2h0QXV0bzogJ3JhaC1hbmltYXRpbmctLXRvLWhlaWdodC1hdXRvJyxcbiAgYW5pbWF0aW5nVG9IZWlnaHRTcGVjaWZpYzogJ3JhaC1hbmltYXRpbmctLXRvLWhlaWdodC1zcGVjaWZpYycsXG4gIHN0YXRpYzogJ3JhaC1zdGF0aWMnLFxuICBzdGF0aWNIZWlnaHRaZXJvOiAncmFoLXN0YXRpYy0taGVpZ2h0LXplcm8nLFxuICBzdGF0aWNIZWlnaHRBdXRvOiAncmFoLXN0YXRpYy0taGVpZ2h0LWF1dG8nLFxuICBzdGF0aWNIZWlnaHRTcGVjaWZpYzogJ3JhaC1zdGF0aWMtLWhlaWdodC1zcGVjaWZpYydcbn07XG5cbnZhciBQUk9QU19UT19PTUlUID0gWydhbmltYXRlT3BhY2l0eScsICdhbmltYXRpb25TdGF0ZUNsYXNzZXMnLCAnYXBwbHlJbmxpbmVUcmFuc2l0aW9ucycsICdjaGlsZHJlbicsICdjb250ZW50Q2xhc3NOYW1lJywgJ2RlbGF5JywgJ2R1cmF0aW9uJywgJ2Vhc2luZycsICdoZWlnaHQnLCAnb25BbmltYXRpb25FbmQnLCAnb25BbmltYXRpb25TdGFydCddO1xuXG5mdW5jdGlvbiBvbWl0KG9iaikge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwga2V5cyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBrZXlzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmICgha2V5cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlcyA9IHt9O1xuICB2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IG9iamVjdEtleXNbaV07XG5cbiAgICBpZiAoa2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICByZXNba2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59XG5cbi8vIFN0YXJ0IGFuaW1hdGlvbiBoZWxwZXIgdXNpbmcgbmVzdGVkIHJlcXVlc3RBbmltYXRpb25GcmFtZXNcbmZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW9uSGVscGVyKGNhbGxiYWNrKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihuKSB7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG59XG5cbmZ1bmN0aW9uIGlzUGVyY2VudGFnZShoZWlnaHQpIHtcbiAgLy8gUGVyY2VudGFnZSBoZWlnaHRcbiAgcmV0dXJuIHR5cGVvZiBoZWlnaHQgPT09ICdzdHJpbmcnICYmIGhlaWdodC5zZWFyY2goJyUnKSA9PT0gaGVpZ2h0Lmxlbmd0aCAtIDEgJiYgaXNOdW1iZXIoaGVpZ2h0LnN1YnN0cigwLCBoZWlnaHQubGVuZ3RoIC0gMSkpO1xufVxuXG5mdW5jdGlvbiBydW5DYWxsYmFjayhjYWxsYmFjaywgcGFyYW1zKSB7XG4gIGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayhwYXJhbXMpO1xuICB9XG59XG5cbnZhciBBbmltYXRlSGVpZ2h0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFuaW1hdGVIZWlnaHQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFuaW1hdGVIZWlnaHQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQW5pbWF0ZUhlaWdodCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQW5pbWF0ZUhlaWdodC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFuaW1hdGVIZWlnaHQpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICB2YXIgaGVpZ2h0ID0gJ2F1dG8nO1xuICAgIHZhciBvdmVyZmxvdyA9ICd2aXNpYmxlJztcblxuICAgIGlmIChpc051bWJlcihwcm9wcy5oZWlnaHQpKSB7XG4gICAgICBoZWlnaHQgPSBwcm9wcy5oZWlnaHQgPCAwID8gMCA6IHByb3BzLmhlaWdodDtcbiAgICAgIG92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgfSBlbHNlIGlmIChpc1BlcmNlbnRhZ2UocHJvcHMuaGVpZ2h0KSkge1xuICAgICAgaGVpZ2h0ID0gcHJvcHMuaGVpZ2h0O1xuICAgICAgb3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB9XG5cbiAgICBfdGhpcy5hbmltYXRpb25TdGF0ZUNsYXNzZXMgPSBfZXh0ZW5kcyh7fSwgQU5JTUFUSU9OX1NUQVRFX0NMQVNTRVMsIHByb3BzLmFuaW1hdGlvblN0YXRlQ2xhc3Nlcyk7XG5cbiAgICB2YXIgYW5pbWF0aW9uU3RhdGVDbGFzc2VzID0gX3RoaXMuZ2V0U3RhdGljU3RhdGVDbGFzc2VzKGhlaWdodCk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFuaW1hdGlvblN0YXRlQ2xhc3NlczogYW5pbWF0aW9uU3RhdGVDbGFzc2VzLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICBvdmVyZmxvdzogb3ZlcmZsb3csXG4gICAgICBzaG91bGRVc2VUcmFuc2l0aW9uczogZmFsc2VcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBbmltYXRlSGVpZ2h0LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5zdGF0ZS5oZWlnaHQ7XG5cbiAgICAgIC8vIEhpZGUgY29udGVudCBpZiBoZWlnaHQgaXMgMCAodG8gcHJldmVudCB0YWJiaW5nIGludG8gaXQpXG4gICAgICAvLyBDaGVjayBmb3IgY29udGVudEVsZW1lbnQgaXMgYWRkZWQgY2F1c2UgdGhpcyB3b3VsZCBmYWlsIGluIHRlc3RzIChyZWFjdC10ZXN0LXJlbmRlcmVyKVxuICAgICAgLy8gUmVhZCBtb3JlIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9TdGFua28vcmVhY3QtYW5pbWF0ZS1oZWlnaHQvaXNzdWVzLzE3XG5cbiAgICAgIGlmICh0aGlzLmNvbnRlbnRFbGVtZW50ICYmIHRoaXMuY29udGVudEVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgdGhpcy5oaWRlQ29udGVudChoZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRlbGF5ID0gX3Byb3BzLmRlbGF5LFxuICAgICAgICAgIGR1cmF0aW9uID0gX3Byb3BzLmR1cmF0aW9uLFxuICAgICAgICAgIGhlaWdodCA9IF9wcm9wcy5oZWlnaHQsXG4gICAgICAgICAgb25BbmltYXRpb25FbmQgPSBfcHJvcHMub25BbmltYXRpb25FbmQsXG4gICAgICAgICAgb25BbmltYXRpb25TdGFydCA9IF9wcm9wcy5vbkFuaW1hdGlvblN0YXJ0O1xuXG4gICAgICAvLyBDaGVjayBpZiAnaGVpZ2h0JyBwcm9wIGhhcyBjaGFuZ2VkXG5cbiAgICAgIGlmICh0aGlzLmNvbnRlbnRFbGVtZW50ICYmIGhlaWdodCAhPT0gcHJldlByb3BzLmhlaWdodCkge1xuICAgICAgICB2YXIgX2N4O1xuXG4gICAgICAgIC8vIFJlbW92ZSBkaXNwbGF5OiBub25lIGZyb20gdGhlIGNvbnRlbnQgZGl2XG4gICAgICAgIC8vIGlmIGl0IHdhcyBoaWRkZW4gdG8gcHJldmVudCB0YWJiaW5nIGludG8gaXRcbiAgICAgICAgdGhpcy5zaG93Q29udGVudChwcmV2U3RhdGUuaGVpZ2h0KTtcblxuICAgICAgICAvLyBDYWNoZSBjb250ZW50IGhlaWdodFxuICAgICAgICB0aGlzLmNvbnRlbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIHZhciBjb250ZW50SGVpZ2h0ID0gdGhpcy5jb250ZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuY29udGVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnJztcblxuICAgICAgICAvLyBzZXQgdG90YWwgYW5pbWF0aW9uIHRpbWVcbiAgICAgICAgdmFyIHRvdGFsRHVyYXRpb24gPSBkdXJhdGlvbiArIGRlbGF5O1xuXG4gICAgICAgIHZhciBuZXdIZWlnaHQgPSBudWxsO1xuICAgICAgICB2YXIgdGltZW91dFN0YXRlID0ge1xuICAgICAgICAgIGhlaWdodDogbnVsbCwgLy8gaXQgd2lsbCBiZSBhbHdheXMgc2V0IHRvIGVpdGhlciAnYXV0bycgb3Igc3BlY2lmaWMgbnVtYmVyXG4gICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgICAgIH07XG4gICAgICAgIHZhciBpc0N1cnJlbnRIZWlnaHRBdXRvID0gcHJldlN0YXRlLmhlaWdodCA9PT0gJ2F1dG8nO1xuXG4gICAgICAgIGlmIChpc051bWJlcihoZWlnaHQpKSB7XG4gICAgICAgICAgLy8gSWYgbmV3IGhlaWdodCBpcyBhIG51bWJlclxuICAgICAgICAgIG5ld0hlaWdodCA9IGhlaWdodCA8IDAgPyAwIDogaGVpZ2h0O1xuICAgICAgICAgIHRpbWVvdXRTdGF0ZS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNQZXJjZW50YWdlKGhlaWdodCkpIHtcbiAgICAgICAgICBuZXdIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgdGltZW91dFN0YXRlLmhlaWdodCA9IG5ld0hlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiBub3QsIGFuaW1hdGUgdG8gY29udGVudCBoZWlnaHRcbiAgICAgICAgICAvLyBhbmQgdGhlbiByZXNldCB0byBhdXRvXG4gICAgICAgICAgbmV3SGVpZ2h0ID0gY29udGVudEhlaWdodDsgLy8gVE9ETyBzb2x2ZSBjb250ZW50SGVpZ2h0ID0gMFxuICAgICAgICAgIHRpbWVvdXRTdGF0ZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgdGltZW91dFN0YXRlLm92ZXJmbG93ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0N1cnJlbnRIZWlnaHRBdXRvKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyB0aGUgaGVpZ2h0IHRvIGJlIGFuaW1hdGVkIHRvXG4gICAgICAgICAgdGltZW91dFN0YXRlLmhlaWdodCA9IG5ld0hlaWdodDtcblxuICAgICAgICAgIC8vIElmIHByZXZpb3VzIGhlaWdodCB3YXMgJ2F1dG8nXG4gICAgICAgICAgLy8gc2V0IHN0YXJ0aW5nIGhlaWdodCBleHBsaWNpdGx5IHRvIGJlIGFibGUgdG8gdXNlIHRyYW5zaXRpb25cbiAgICAgICAgICBuZXdIZWlnaHQgPSBjb250ZW50SGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQW5pbWF0aW9uIGNsYXNzZXNcbiAgICAgICAgdmFyIGFuaW1hdGlvblN0YXRlQ2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoKF9jeCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2N4LCB0aGlzLmFuaW1hdGlvblN0YXRlQ2xhc3Nlcy5hbmltYXRpbmcsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2N4LCB0aGlzLmFuaW1hdGlvblN0YXRlQ2xhc3Nlcy5hbmltYXRpbmdVcCwgcHJldlByb3BzLmhlaWdodCA9PT0gJ2F1dG8nIHx8IGhlaWdodCA8IHByZXZQcm9wcy5oZWlnaHQpLCBfZGVmaW5lUHJvcGVydHkoX2N4LCB0aGlzLmFuaW1hdGlvblN0YXRlQ2xhc3Nlcy5hbmltYXRpbmdEb3duLCBoZWlnaHQgPT09ICdhdXRvJyB8fCBoZWlnaHQgPiBwcmV2UHJvcHMuaGVpZ2h0KSwgX2RlZmluZVByb3BlcnR5KF9jeCwgdGhpcy5hbmltYXRpb25TdGF0ZUNsYXNzZXMuYW5pbWF0aW5nVG9IZWlnaHRaZXJvLCB0aW1lb3V0U3RhdGUuaGVpZ2h0ID09PSAwKSwgX2RlZmluZVByb3BlcnR5KF9jeCwgdGhpcy5hbmltYXRpb25TdGF0ZUNsYXNzZXMuYW5pbWF0aW5nVG9IZWlnaHRBdXRvLCB0aW1lb3V0U3RhdGUuaGVpZ2h0ID09PSAnYXV0bycpLCBfZGVmaW5lUHJvcGVydHkoX2N4LCB0aGlzLmFuaW1hdGlvblN0YXRlQ2xhc3Nlcy5hbmltYXRpbmdUb0hlaWdodFNwZWNpZmljLCB0aW1lb3V0U3RhdGUuaGVpZ2h0ID4gMCksIF9jeCkpO1xuXG4gICAgICAgIC8vIEFuaW1hdGlvbiBjbGFzc2VzIHRvIGJlIHB1dCBhZnRlciBhbmltYXRpb24gaXMgY29tcGxldGVcbiAgICAgICAgdmFyIHRpbWVvdXRBbmltYXRpb25TdGF0ZUNsYXNzZXMgPSB0aGlzLmdldFN0YXRpY1N0YXRlQ2xhc3Nlcyh0aW1lb3V0U3RhdGUuaGVpZ2h0KTtcblxuICAgICAgICAvLyBTZXQgc3RhcnRpbmcgaGVpZ2h0IGFuZCBhbmltYXRpbmcgY2xhc3Nlc1xuICAgICAgICAvLyBXZSBhcmUgc2FmZSB0byBjYWxsIHNldCBzdGF0ZSBhcyBpdCB3aWxsIG5vdCB0cmlnZ2VyIGluZmluaXRlIGxvb3BcbiAgICAgICAgLy8gYmVjYXVzZSBvZiB0aGUgXCJoZWlnaHQgIT09IHByZXZQcm9wcy5oZWlnaHRcIiBjaGVja1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1kaWQtdXBkYXRlLXNldC1zdGF0ZVxuICAgICAgICAgIGFuaW1hdGlvblN0YXRlQ2xhc3NlczogYW5pbWF0aW9uU3RhdGVDbGFzc2VzLFxuICAgICAgICAgIGhlaWdodDogbmV3SGVpZ2h0LFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAvLyBXaGVuIGFuaW1hdGluZyBmcm9tICdhdXRvJyB3ZSBmaXJzdCBuZWVkIHRvIHNldCBmaXhlZCBoZWlnaHRcbiAgICAgICAgICAvLyB0aGF0IGNoYW5nZSBzaG91bGQgYmUgYW5pbWF0ZWRcbiAgICAgICAgICBzaG91bGRVc2VUcmFuc2l0aW9uczogIWlzQ3VycmVudEhlaWdodEF1dG9cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2xlYXIgdGltZW91dHNcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElEKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYW5pbWF0aW9uQ2xhc3Nlc1RpbWVvdXRJRCk7XG5cbiAgICAgICAgaWYgKGlzQ3VycmVudEhlaWdodEF1dG8pIHtcbiAgICAgICAgICAvLyBXaGVuIGFuaW1hdGluZyBmcm9tICdhdXRvJyB3ZSB1c2UgYSBzaG9ydCB0aW1lb3V0IHRvIHN0YXJ0IGFuaW1hdGlvblxuICAgICAgICAgIC8vIGFmdGVyIHNldHRpbmcgZml4ZWQgaGVpZ2h0IGFib3ZlXG4gICAgICAgICAgdGltZW91dFN0YXRlLnNob3VsZFVzZVRyYW5zaXRpb25zID0gdHJ1ZTtcblxuICAgICAgICAgIHN0YXJ0QW5pbWF0aW9uSGVscGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh0aW1lb3V0U3RhdGUpO1xuXG4gICAgICAgICAgICAvLyBBTklNQVRJT04gU1RBUlRTLCBydW4gYSBjYWxsYmFjayBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIHJ1bkNhbGxiYWNrKG9uQW5pbWF0aW9uU3RhcnQsIHsgbmV3SGVpZ2h0OiB0aW1lb3V0U3RhdGUuaGVpZ2h0IH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gU2V0IHN0YXRpYyBjbGFzc2VzIGFuZCByZW1vdmUgdHJhbnNpdGlvbnMgd2hlbiBhbmltYXRpb24gZW5kc1xuICAgICAgICAgIHRoaXMuYW5pbWF0aW9uQ2xhc3Nlc1RpbWVvdXRJRCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uU3RhdGVDbGFzc2VzOiB0aW1lb3V0QW5pbWF0aW9uU3RhdGVDbGFzc2VzLFxuICAgICAgICAgICAgICBzaG91bGRVc2VUcmFuc2l0aW9uczogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBBTklNQVRJT04gRU5EU1xuICAgICAgICAgICAgLy8gSGlkZSBjb250ZW50IGlmIGhlaWdodCBpcyAwICh0byBwcmV2ZW50IHRhYmJpbmcgaW50byBpdClcbiAgICAgICAgICAgIF90aGlzMi5oaWRlQ29udGVudCh0aW1lb3V0U3RhdGUuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFJ1biBhIGNhbGxiYWNrIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgcnVuQ2FsbGJhY2sob25BbmltYXRpb25FbmQsIHsgbmV3SGVpZ2h0OiB0aW1lb3V0U3RhdGUuaGVpZ2h0IH0pO1xuICAgICAgICAgIH0sIHRvdGFsRHVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFOSU1BVElPTiBTVEFSVFMsIHJ1biBhIGNhbGxiYWNrIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIHJ1bkNhbGxiYWNrKG9uQW5pbWF0aW9uU3RhcnQsIHsgbmV3SGVpZ2h0OiBuZXdIZWlnaHQgfSk7XG5cbiAgICAgICAgICAvLyBTZXQgZW5kIGhlaWdodCwgY2xhc3NlcyBhbmQgcmVtb3ZlIHRyYW5zaXRpb25zIHdoZW4gYW5pbWF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICAgICAgdGhpcy50aW1lb3V0SUQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRpbWVvdXRTdGF0ZS5hbmltYXRpb25TdGF0ZUNsYXNzZXMgPSB0aW1lb3V0QW5pbWF0aW9uU3RhdGVDbGFzc2VzO1xuICAgICAgICAgICAgdGltZW91dFN0YXRlLnNob3VsZFVzZVRyYW5zaXRpb25zID0gZmFsc2U7XG5cbiAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh0aW1lb3V0U3RhdGUpO1xuXG4gICAgICAgICAgICAvLyBBTklNQVRJT04gRU5EU1xuICAgICAgICAgICAgLy8gSWYgaGVpZ2h0IGlzIGF1dG8sIGRvbid0IGhpZGUgdGhlIGNvbnRlbnRcbiAgICAgICAgICAgIC8vIChjYXNlIHdoZW4gZWxlbWVudCBpcyBlbXB0eSwgdGhlcmVmb3JlIGhlaWdodCBpcyAwKVxuICAgICAgICAgICAgaWYgKGhlaWdodCAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICAgIC8vIEhpZGUgY29udGVudCBpZiBoZWlnaHQgaXMgMCAodG8gcHJldmVudCB0YWJiaW5nIGludG8gaXQpXG4gICAgICAgICAgICAgIF90aGlzMi5oaWRlQ29udGVudChuZXdIZWlnaHQpOyAvLyBUT0RPIHNvbHZlIG5ld0hlaWdodCA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJ1biBhIGNhbGxiYWNrIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgcnVuQ2FsbGJhY2sob25BbmltYXRpb25FbmQsIHsgbmV3SGVpZ2h0OiBuZXdIZWlnaHQgfSk7XG4gICAgICAgICAgfSwgdG90YWxEdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElEKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFuaW1hdGlvbkNsYXNzZXNUaW1lb3V0SUQpO1xuICAgICAgdGhpcy50aW1lb3V0SUQgPSBudWxsO1xuICAgICAgdGhpcy5hbmltYXRpb25DbGFzc2VzVGltZW91dElEID0gbnVsbDtcbiAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVDbGFzc2VzID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG93Q29udGVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dDb250ZW50KGhlaWdodCkge1xuICAgICAgaWYgKGhlaWdodCA9PT0gMCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoaWRlQ29udGVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVDb250ZW50KG5ld0hlaWdodCkge1xuICAgICAgaWYgKG5ld0hlaWdodCA9PT0gMCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0U3RhdGljU3RhdGVDbGFzc2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RhdGljU3RhdGVDbGFzc2VzKGhlaWdodCkge1xuICAgICAgdmFyIF9jeDI7XG5cbiAgICAgIHJldHVybiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKChfY3gyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY3gyLCB0aGlzLmFuaW1hdGlvblN0YXRlQ2xhc3Nlcy5zdGF0aWMsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2N4MiwgdGhpcy5hbmltYXRpb25TdGF0ZUNsYXNzZXMuc3RhdGljSGVpZ2h0WmVybywgaGVpZ2h0ID09PSAwKSwgX2RlZmluZVByb3BlcnR5KF9jeDIsIHRoaXMuYW5pbWF0aW9uU3RhdGVDbGFzc2VzLnN0YXRpY0hlaWdodFNwZWNpZmljLCBoZWlnaHQgPiAwKSwgX2RlZmluZVByb3BlcnR5KF9jeDIsIHRoaXMuYW5pbWF0aW9uU3RhdGVDbGFzc2VzLnN0YXRpY0hlaWdodEF1dG8sIGhlaWdodCA9PT0gJ2F1dG8nKSwgX2N4MikpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfY3gzLFxuICAgICAgICAgIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhbmltYXRlT3BhY2l0eSA9IF9wcm9wczIuYW5pbWF0ZU9wYWNpdHksXG4gICAgICAgICAgYXBwbHlJbmxpbmVUcmFuc2l0aW9ucyA9IF9wcm9wczIuYXBwbHlJbmxpbmVUcmFuc2l0aW9ucyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wczIuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzMi5jbGFzc05hbWUsXG4gICAgICAgICAgY29udGVudENsYXNzTmFtZSA9IF9wcm9wczIuY29udGVudENsYXNzTmFtZSxcbiAgICAgICAgICBkdXJhdGlvbiA9IF9wcm9wczIuZHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nID0gX3Byb3BzMi5lYXNpbmcsXG4gICAgICAgICAgZGVsYXkgPSBfcHJvcHMyLmRlbGF5LFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzMi5zdHlsZTtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGhlaWdodCA9IF9zdGF0ZS5oZWlnaHQsXG4gICAgICAgICAgb3ZlcmZsb3cgPSBfc3RhdGUub3ZlcmZsb3csXG4gICAgICAgICAgYW5pbWF0aW9uU3RhdGVDbGFzc2VzID0gX3N0YXRlLmFuaW1hdGlvblN0YXRlQ2xhc3NlcyxcbiAgICAgICAgICBzaG91bGRVc2VUcmFuc2l0aW9ucyA9IF9zdGF0ZS5zaG91bGRVc2VUcmFuc2l0aW9ucztcblxuXG4gICAgICB2YXIgY29tcG9uZW50U3R5bGUgPSBfZXh0ZW5kcyh7fSwgc3R5bGUsIHtcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIG92ZXJmbG93OiBvdmVyZmxvdyB8fCBzdHlsZS5vdmVyZmxvd1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChzaG91bGRVc2VUcmFuc2l0aW9ucyAmJiBhcHBseUlubGluZVRyYW5zaXRpb25zKSB7XG4gICAgICAgIGNvbXBvbmVudFN0eWxlLnRyYW5zaXRpb24gPSAnaGVpZ2h0ICcgKyBkdXJhdGlvbiArICdtcyAnICsgZWFzaW5nICsgJyAnICsgZGVsYXkgKyAnbXMnO1xuXG4gICAgICAgIC8vIEluY2x1ZGUgdHJhbnNpdGlvbiBwYXNzZWQgdGhyb3VnaCBzdHlsZXNcbiAgICAgICAgaWYgKHN0eWxlLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICBjb21wb25lbnRTdHlsZS50cmFuc2l0aW9uID0gc3R5bGUudHJhbnNpdGlvbiArICcsICcgKyBjb21wb25lbnRTdHlsZS50cmFuc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHdlYmtpdCB2ZW5kb3IgcHJlZml4IHN0aWxsIHVzZWQgYnkgb3BlcmEsIGJsYWNrYmVycnkuLi5cbiAgICAgICAgY29tcG9uZW50U3R5bGUuV2Via2l0VHJhbnNpdGlvbiA9IGNvbXBvbmVudFN0eWxlLnRyYW5zaXRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZW50U3R5bGUgPSB7fTtcblxuICAgICAgaWYgKGFuaW1hdGVPcGFjaXR5KSB7XG4gICAgICAgIGNvbnRlbnRTdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgJyArIGR1cmF0aW9uICsgJ21zICcgKyBlYXNpbmcgKyAnICcgKyBkZWxheSArICdtcyc7XG4gICAgICAgIC8vIEFkZCB3ZWJraXQgdmVuZG9yIHByZWZpeCBzdGlsbCB1c2VkIGJ5IG9wZXJhLCBibGFja2JlcnJ5Li4uXG4gICAgICAgIGNvbnRlbnRTdHlsZS5XZWJraXRUcmFuc2l0aW9uID0gY29udGVudFN0eWxlLnRyYW5zaXRpb247XG5cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gMCkge1xuICAgICAgICAgIGNvbnRlbnRTdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgY29tcG9uZW50Q2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoKF9jeDMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jeDMsIGFuaW1hdGlvblN0YXRlQ2xhc3NlcywgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfY3gzLCBjbGFzc05hbWUsIGNsYXNzTmFtZSksIF9jeDMpKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgX2V4dGVuZHMoe30sIG9taXQuYXBwbHkodW5kZWZpbmVkLCBbdGhpcy5wcm9wc10uY29uY2F0KFBST1BTX1RPX09NSVQpKSwge1xuICAgICAgICAgICdhcmlhLWhpZGRlbic6IGhlaWdodCA9PT0gMCxcbiAgICAgICAgICBjbGFzc05hbWU6IGNvbXBvbmVudENsYXNzZXMsXG4gICAgICAgICAgc3R5bGU6IGNvbXBvbmVudFN0eWxlXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGNvbnRlbnRDbGFzc05hbWUsXG4gICAgICAgICAgICBzdHlsZTogY29udGVudFN0eWxlLFxuICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jb250ZW50RWxlbWVudCA9IGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQW5pbWF0ZUhlaWdodDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkFuaW1hdGVIZWlnaHQucHJvcFR5cGVzID0ge1xuICBhbmltYXRlT3BhY2l0eTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBhbmltYXRpb25TdGF0ZUNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBhcHBseUlubGluZVRyYW5zaXRpb25zOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBjb250ZW50Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZHVyYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBkZWxheTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGVhc2luZzogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGhlaWdodDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcl0pLFxuICBvbkFuaW1hdGlvbkVuZDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbkFuaW1hdGlvblN0YXJ0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufTtcblxuQW5pbWF0ZUhlaWdodC5kZWZhdWx0UHJvcHMgPSB7XG4gIGFuaW1hdGVPcGFjaXR5OiBmYWxzZSxcbiAgYW5pbWF0aW9uU3RhdGVDbGFzc2VzOiBBTklNQVRJT05fU1RBVEVfQ0xBU1NFUyxcbiAgYXBwbHlJbmxpbmVUcmFuc2l0aW9uczogdHJ1ZSxcbiAgZHVyYXRpb246IDI1MCxcbiAgZGVsYXk6IDAsXG4gIGVhc2luZzogJ2Vhc2UnLFxuICBzdHlsZToge31cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFuaW1hdGVIZWlnaHQ7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYm94Qmx1ZSwgcHVycGxlUmFpbiB9IGZyb20gJy4uLy4uL3N0eWxlcy92YXJpYWJsZXMnO1xuaW1wb3J0IEFjY2Vzc2libGVTVkcgZnJvbSAnLi4vYWNjZXNzaWJsZS1zdmcnO1xuXG52YXIgSWNvbk1ldGFkYXRhQ29sb3JlZCA9IGZ1bmN0aW9uIEljb25NZXRhZGF0YUNvbG9yZWQoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyAxNiA6IF9yZWYkd2lkdGgsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDE2IDogX3JlZiRoZWlnaHQ7XG4gIHZhciBmaWxsO1xuXG4gIGlmIChjb2xvcikge1xuICAgIGZpbGwgPSBjb2xvcjtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnY2FzY2FkZScpIHtcbiAgICBmaWxsID0gcHVycGxlUmFpbjtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnZGVmYXVsdCcpIHtcbiAgICBmaWxsID0gYm94Qmx1ZTtcbiAgfSBlbHNlIHtcbiAgICBmaWxsID0gYm94Qmx1ZTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY2Vzc2libGVTVkcsIHtcbiAgICBjbGFzc05hbWU6IFwiaWNvbi1tZXRhZGF0YSBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICB3aWR0aDogd2lkdGhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmaWxsLWNvbG9yXCIsXG4gICAgZDogXCJNOCAxNkE4IDggMCAxIDEgOCAwYTggOCAwIDAgMSAwIDE2em0tMi41MTUtNS44NzlMNi4yIDcuMjYzbDEuMzc2IDIuMjAyYS41LjUgMCAwIDAgLjg0OCAwTDkuOCA3LjI2M2wuNzE1IDIuODU4YS41LjUgMCAwIDAgLjk3LS4yNDJsLTEtNGEuNS41IDAgMCAwLS45MDktLjE0NEw4IDguMjU3IDYuNDI0IDUuNzM1YS41LjUgMCAwIDAtLjkxLjE0NGwtMSA0YS41LjUgMCAwIDAgLjk3MS4yNDJ6XCIsXG4gICAgZmlsbDogZmlsbCxcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbk1ldGFkYXRhQ29sb3JlZDsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAnLi9Ub2dnbGUuc2Nzcyc7XG5cbnZhciBUb2dnbGUgPSBmdW5jdGlvbiBUb2dnbGUoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgZGVzY3JpcHRpb24gPSBfcmVmLmRlc2NyaXB0aW9uLFxuICAgICAgX3JlZiRpbnB1dFByb3BzID0gX3JlZi5pbnB1dFByb3BzLFxuICAgICAgaW5wdXRQcm9wcyA9IF9yZWYkaW5wdXRQcm9wcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGlucHV0UHJvcHMsXG4gICAgICBpc0Rpc2FibGVkID0gX3JlZi5pc0Rpc2FibGVkLFxuICAgICAgaXNPbiA9IF9yZWYuaXNPbixcbiAgICAgIF9yZWYkaXNUb2dnbGVSaWdodEFsaSA9IF9yZWYuaXNUb2dnbGVSaWdodEFsaWduZWQsXG4gICAgICBpc1RvZ2dsZVJpZ2h0QWxpZ25lZCA9IF9yZWYkaXNUb2dnbGVSaWdodEFsaSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGlzVG9nZ2xlUmlnaHRBbGksXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgb25CbHVyID0gX3JlZi5vbkJsdXIsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2U7XG4gIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lcygndG9nZ2xlLWNvbnRhaW5lcicsIGNsYXNzTmFtZSwge1xuICAgICdpcy10b2dnbGUtcmlnaHQtYWxpZ25lZCc6IGlzVG9nZ2xlUmlnaHRBbGlnbmVkXG4gIH0pO1xuICB2YXIgdG9nZ2xlRWxlbWVudHMgPSBbUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcInRvZ2dsZS1zaW1wbGUtc3dpdGNoXCIsXG4gICAgY2xhc3NOYW1lOiBcInRvZ2dsZS1zaW1wbGUtc3dpdGNoXCJcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGtleTogXCJ0b2dnbGUtc2ltcGxlLWxhYmVsXCIsXG4gICAgY2xhc3NOYW1lOiBcInRvZ2dsZS1zaW1wbGUtbGFiZWxcIlxuICB9LCBsYWJlbCldO1xuXG4gIGlmIChpc1RvZ2dsZVJpZ2h0QWxpZ25lZCkge1xuICAgIHRvZ2dsZUVsZW1lbnRzID0gdG9nZ2xlRWxlbWVudHMucmV2ZXJzZSgpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlc1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ0b2dnbGUtc2ltcGxlXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIF9leHRlbmRzKHtcbiAgICBjaGVja2VkOiBpc09uLFxuICAgIGNsYXNzTmFtZTogXCJ0b2dnbGUtc2ltcGxlLWlucHV0XCIsXG4gICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgbmFtZTogbmFtZSxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgdHlwZTogXCJjaGVja2JveFwiXG4gIH0sIGlucHV0UHJvcHMpKSwgdG9nZ2xlRWxlbWVudHMpLCBkZXNjcmlwdGlvbiA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ0b2dnbGUtc2ltcGxlLWRlc2NyaXB0aW9uXCJcbiAgfSwgZGVzY3JpcHRpb24pIDogbnVsbCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUb2dnbGU7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL1JhZGlvQnV0dG9uLnNjc3MnOyAvLyBATk9URTogcmVhZG9ubHkgaXMgbm90IGEgdmFsaWQgYXR0cmlidXRlIGZvciBpbnB1dCB0eXBlIHJhZGlvIHNvXG4vLyB0aGlzIGF2b2lkcyB0aGUgcHJvcFR5cGUgZXJyb3IgdGhhdCBcImNoZWNrZWRcIiBpcyBzZXQgd2l0aG91dCBcIm9uQ2hhbmdlXCJcblxudmFyIG9uQ2hhbmdlU3R1YiA9IGZ1bmN0aW9uIG9uQ2hhbmdlU3R1YigpIHt9O1xuXG52YXIgUmFkaW9CdXR0b24gPSBmdW5jdGlvbiBSYWRpb0J1dHRvbihfcmVmKSB7XG4gIHZhciBpc0Rpc2FibGVkID0gX3JlZi5pc0Rpc2FibGVkLFxuICAgICAgX3JlZiRpc1NlbGVjdGVkID0gX3JlZi5pc1NlbGVjdGVkLFxuICAgICAgaXNTZWxlY3RlZCA9IF9yZWYkaXNTZWxlY3RlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGlzU2VsZWN0ZWQsXG4gICAgICBkZXNjcmlwdGlvbiA9IF9yZWYuZGVzY3JpcHRpb24sXG4gICAgICBfcmVmJGhpZGVMYWJlbCA9IF9yZWYuaGlkZUxhYmVsLFxuICAgICAgaGlkZUxhYmVsID0gX3JlZiRoaWRlTGFiZWwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRoaWRlTGFiZWwsXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJpc0Rpc2FibGVkXCIsIFwiaXNTZWxlY3RlZFwiLCBcImRlc2NyaXB0aW9uXCIsIFwiaGlkZUxhYmVsXCIsIFwibGFiZWxcIiwgXCJuYW1lXCIsIFwidmFsdWVcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmFkaW8tY29udGFpbmVyXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmFkaW8tbGFiZWxcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe1xuICAgIGNoZWNrZWQ6IGlzU2VsZWN0ZWQsXG4gICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgbmFtZTogbmFtZSxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VTdHViLFxuICAgIHR5cGU6IFwicmFkaW9cIixcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSwgcmVzdCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogaGlkZUxhYmVsID8gJ2FjY2Vzc2liaWxpdHktaGlkZGVuJyA6ICcnXG4gIH0sIGxhYmVsKSksIGRlc2NyaXB0aW9uID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJhZGlvLWRlc2NyaXB0aW9uXCJcbiAgfSwgZGVzY3JpcHRpb24pIDogbnVsbCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSYWRpb0J1dHRvbjsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJhZGlvQnV0dG9uIGZyb20gJy4vUmFkaW9CdXR0b24nO1xuXG52YXIgUmFkaW9Hcm91cCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUmFkaW9Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmFkaW9Hcm91cChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYWRpb0dyb3VwKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFJhZGlvR3JvdXApLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkNoYW5nZUhhbmRsZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cbiAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB2YWx1ZTogdGFyZ2V0LnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgb25DaGFuZ2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWVcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfSAvLyBAVE9ETzogdGhpbmsgYWJvdXQgYWRkaW5nIGNvbXBvbmVudERpZFVwZGF0ZSBvciBnRFNGUFxuICAvLyB0byB1cGRhdGUgdGhlIGludGVybmFsIHN0YXRlIHZhbHVlIGJhc2VkIG9uIG5ldyBwcm9wcyB2YWx1ZVxuXG5cbiAgX2NyZWF0ZUNsYXNzKFJhZGlvR3JvdXAsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wcy5uYW1lO1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJhZGlvLWdyb3VwIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZUhhbmRsZXJcbiAgICAgIH0sIFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKHJhZGlvKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJhZGlvQnV0dG9uLCB7XG4gICAgICAgICAgZGVzY3JpcHRpb246IHJhZGlvLnByb3BzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIGlzRGlzYWJsZWQ6IHJhZGlvLnByb3BzLmlzRGlzYWJsZWQsXG4gICAgICAgICAgaXNTZWxlY3RlZDogcmFkaW8ucHJvcHMudmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgIGxhYmVsOiByYWRpby5wcm9wcy5sYWJlbCxcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIHZhbHVlOiByYWRpby5wcm9wcy52YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmFkaW9Hcm91cDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KFJhZGlvR3JvdXAsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgY2xhc3NOYW1lOiAnJ1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlvR3JvdXA7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJhZGlvR3JvdXBQcmltaXRpdmUgZnJvbSAnLi9SYWRpb0dyb3VwJztcblxudmFyIFJhZGlvR3JvdXBGaWVsZCA9IGZ1bmN0aW9uIFJhZGlvR3JvdXBGaWVsZChfcmVmKSB7XG4gIHZhciBmaWVsZCA9IF9yZWYuZmllbGQsXG4gICAgICBmb3JtID0gX3JlZi5mb3JtLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJmaWVsZFwiLCBcImZvcm1cIl0pO1xuXG4gIHZhciB2YWx1ZSA9IGZpZWxkLnZhbHVlO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSYWRpb0dyb3VwUHJpbWl0aXZlLCBfZXh0ZW5kcyh7XG4gICAga2V5OiB2YWx1ZVxuICB9LCBmaWVsZCwgcmVzdCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkaW9Hcm91cEZpZWxkOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY2Nlc3NpYmxlU1ZHIGZyb20gJy4uL2FjY2Vzc2libGUtc3ZnJztcblxudmFyIEljb25BbGVydERlZmF1bHQgPSBmdW5jdGlvbiBJY29uQWxlcnREZWZhdWx0KF9yZWYpIHtcbiAgdmFyIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIF9yZWYkY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcmVmJGNvbG9yID09PSB2b2lkIDAgPyAnI0Y3OTMxRCcgOiBfcmVmJGNvbG9yLFxuICAgICAgX3JlZiRoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB2b2lkIDAgPyAyNiA6IF9yZWYkaGVpZ2h0LFxuICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgX3JlZiR3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICB3aWR0aCA9IF9yZWYkd2lkdGggPT09IHZvaWQgMCA/IDI2IDogX3JlZiR3aWR0aDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjZXNzaWJsZVNWRywge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLWFsZXJ0LWRlZmF1bHQgXCIuY29uY2F0KGNsYXNzTmFtZSksXG4gICAgdGl0bGU6IHRpdGxlLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICB2aWV3Qm94OiBcIjAgMCAyNiAyNlwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xuICAgIGlkOiBcImJcIixcbiAgICBjeDogXCI4XCIsXG4gICAgY3k6IFwiOFwiLFxuICAgIHI6IFwiOFwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZmlsdGVyXCIsIHtcbiAgICB4OiBcIi00Ni45JVwiLFxuICAgIHk6IFwiLTQ2LjklXCIsXG4gICAgd2lkdGg6IFwiMTkzLjglXCIsXG4gICAgaGVpZ2h0OiBcIjE5My44JVwiLFxuICAgIGZpbHRlclVuaXRzOiBcIm9iamVjdEJvdW5kaW5nQm94XCIsXG4gICAgaWQ6IFwiYVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmZU1vcnBob2xvZ3lcIiwge1xuICAgIHJhZGl1czogXCIuNVwiLFxuICAgIG9wZXJhdG9yOiBcImRpbGF0ZVwiLFxuICAgIGluOiBcIlNvdXJjZUFscGhhXCIsXG4gICAgcmVzdWx0OiBcInNoYWRvd1NwcmVhZE91dGVyMVwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZmVPZmZzZXRcIiwge1xuICAgIGluOiBcInNoYWRvd1NwcmVhZE91dGVyMVwiLFxuICAgIHJlc3VsdDogXCJzaGFkb3dPZmZzZXRPdXRlcjFcIlxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImZlR2F1c3NpYW5CbHVyXCIsIHtcbiAgICBzdGREZXZpYXRpb246IFwiMlwiLFxuICAgIGluOiBcInNoYWRvd09mZnNldE91dGVyMVwiLFxuICAgIHJlc3VsdDogXCJzaGFkb3dCbHVyT3V0ZXIxXCJcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmZUNvbG9yTWF0cml4XCIsIHtcbiAgICB2YWx1ZXM6IFwiMCAwIDAgMCAwLjczMzI4NTUwMiAwIDAgMCAwIDAuNzMzMjg1NTAyIDAgMCAwIDAgMC43MzMyODU1MDIgMCAwIDAgMC41IDBcIixcbiAgICBpbjogXCJzaGFkb3dCbHVyT3V0ZXIxXCJcbiAgfSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoNSA1KVwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidXNlXCIsIHtcbiAgICBmaWxsOiBcIiMwMDBcIixcbiAgICBmaWx0ZXI6IFwidXJsKCNhKVwiLFxuICAgIHhsaW5rSHJlZjogXCIjYlwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidXNlXCIsIHtcbiAgICBmaWxsOiBjb2xvcixcbiAgICB4bGlua0hyZWY6IFwiI2JcIlxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTguMDQ3IDQuNzA2djQuMTExXCIsXG4gICAgc3Ryb2tlOiBcIiNGRkZcIixcbiAgICBzdHJva2VXaWR0aDogXCIxLjQxMlwiLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIHtcbiAgICBmaWxsOiBcIiNGRkZcIixcbiAgICBjeDogXCI4LjA0N1wiLFxuICAgIGN5OiBcIjExLjI5NFwiLFxuICAgIHI6IFwiMVwiXG4gIH0pKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJY29uQWxlcnREZWZhdWx0OyIsImltcG9ydCB7IGRlZmluZU1lc3NhZ2VzIH0gZnJvbSAncmVhY3QtaW50bCc7XG52YXIgbWVzc2FnZXMgPSBkZWZpbmVNZXNzYWdlcyh7XG4gIGN1c3RvbVRpdGxlOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuY3VzdG9tVGl0bGVcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiQ3VzdG9tIE1ldGFkYXRhXCJcbiAgfSxcbiAgY3VzdG9tQWRkOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuY3VzdG9tQWRkXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIkFkZFwiXG4gIH0sXG4gIGN1c3RvbVJlbW92ZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmN1c3RvbVJlbW92ZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJSZW1vdmVcIlxuICB9LFxuICBjdXN0b21LZXk6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5jdXN0b21LZXlcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiS2V5XCJcbiAgfSxcbiAgY3VzdG9tS2V5UGxhY2Vob2xkZXI6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5jdXN0b21LZXlQbGFjZWhvbGRlclwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJlLmcuIE9yZGVyIE51bWJlclwiXG4gIH0sXG4gIGN1c3RvbVZhbHVlOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuY3VzdG9tVmFsdWVcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiVmFsdWVcIlxuICB9LFxuICBjdXN0b21WYWx1ZVBsYWNlaG9sZGVyOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuY3VzdG9tVmFsdWVQbGFjZWhvbGRlclwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJlLmcuIDQyXCJcbiAgfSxcbiAgY3VzdG9tTmV3RmllbGQ6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5jdXN0b21OZXdGaWVsZFwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJOZXcgRmllbGRcIlxuICB9LFxuICBjdXN0b21OZXdGaWVsZE1lc3NhZ2U6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5jdXN0b21OZXdGaWVsZE1lc3NhZ2VcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiQWRkIGEgY3VzdG9tIG1ldGFkYXRhIGZpZWxkLiBPdGhlciBwZW9wbGUgd2lsbCBiZSBhYmxlIHRvIHNlZSBhbmQgc2VhcmNoIGZvciB0aGlzIGZpZWxkLlwiXG4gIH0sXG4gIGN1c3RvbUVycm9yUmVxdWlyZWQ6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5jdXN0b21FcnJvclJlcXVpcmVkXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIkEga2V5IGlzIHJlcXVpcmVkLlwiXG4gIH0sXG4gIGN1c3RvbUVycm9yRHVwbGljYXRlS2V5OiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuY3VzdG9tRXJyb3JEdXBsaWNhdGVLZXlcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiQSBmaWVsZCB3aXRoIHRoYXQga2V5IGFscmVhZHkgZXhpc3RzLlwiXG4gIH0sXG4gIGN1c3RvbUVycm9ySW50ZXJuYWxLZXk6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5jdXN0b21FcnJvckludGVybmFsS2V5XCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIktleXMgY2Fubm90IGJlZ2luIHdpdGggYSAkLlwiXG4gIH0sXG4gIGludmFsaWRJbnB1dDoge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmludmFsaWRWYWx1ZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJJbnZhbGlkIElucHV0IVwiXG4gIH0sXG4gIGludmFsaWRNZXRhZGF0YUZpZWxkVHlwZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmludmFsaWRNZXRhZGF0YUZpZWxkVHlwZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJJbnZhbGlkIG1ldGFkYXRhIGZpZWxkIHR5cGUhXCJcbiAgfSxcbiAgbWV0YWRhdGFFZGl0VG9vbHRpcDoge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmVkaXRUb29sdGlwXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIkVkaXQgTWV0YWRhdGFcIlxuICB9LFxuICBtZXRhZGF0YUZpZWxkTm9WYWx1ZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmZpZWxkTm9WYWx1ZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJObyBWYWx1ZVwiXG4gIH0sXG4gIG1ldGFkYXRhRmllbGRTZWxlY3RWYWx1ZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmZpZWxkU2VsZWN0VmFsdWVcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiU2VsZWN0IFZhbHVlXCJcbiAgfSxcbiAgbWV0YWRhdGFGaWVsZE11bHRpU2VsZWN0VmFsdWU6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5maWVsZE11bHRpU2VsZWN0VmFsdWVcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiU2VsZWN0IFZhbHVlc1wiXG4gIH0sXG4gIG1ldGFkYXRhRmllbGRTZXRWYWx1ZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmZpZWxkU2V0VmFsdWVcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiU2V0IFZhbHVlXCJcbiAgfSxcbiAgbWV0YWRhdGFGaWVsZFNldERhdGU6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5maWVsZFNldERhdGVcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiU2V0IERhdGVcIlxuICB9LFxuICBtZXRhZGF0YVJlbW92ZVRlbXBsYXRlOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IucmVtb3ZlVGVtcGxhdGVcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiUmVtb3ZlXCJcbiAgfSxcbiAgZmlsZU1ldGFkYXRhUmVtb3ZlVGVtcGxhdGVDb25maXJtOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuZmlsZU1ldGFkYXRhUmVtb3ZlVGVtcGxhdGVDb25maXJtXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgXFxcInttZXRhZGF0YU5hbWV9XFxcIiBhbmQgYWxsIG9mIGl0cyB2YWx1ZXMgZnJvbSB0aGlzIGZpbGU/XCJcbiAgfSxcbiAgZm9sZGVyTWV0YWRhdGFSZW1vdmVUZW1wbGF0ZUNvbmZpcm06IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5mb2xkZXJNZXRhZGF0YVJlbW92ZVRlbXBsYXRlQ29uZmlybVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIFxcXCJ7bWV0YWRhdGFOYW1lfVxcXCIgYW5kIGFsbCBvZiBpdHMgdmFsdWVzPyBBbnkgbWV0YWRhdGEgdGVtcGxhdGUgdmFsdWVzIGFscmVhZHkgYXBwbGllZCB0byBmaWxlcyBpbiB0aGlzIGZvbGRlciB3aWxsIG5vdCBiZSBkZWxldGVkLlwiXG4gIH0sXG4gIGZpbGVNZXRhZGF0YVJlbW92ZUN1c3RvbVRlbXBsYXRlQ29uZmlybToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmZpbGVNZXRhZGF0YVJlbW92ZUN1c3RvbVRlbXBsYXRlQ29uZmlybVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY3VzdG9tIG1ldGFkYXRhIGFuZCBhbGwgb2YgaXRzIHZhbHVlcyBmcm9tIHRoaXMgZmlsZT9cIlxuICB9LFxuICBmb2xkZXJNZXRhZGF0YVJlbW92ZUN1c3RvbVRlbXBsYXRlQ29uZmlybToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmZvbGRlck1ldGFkYXRhUmVtb3ZlQ3VzdG9tVGVtcGxhdGVDb25maXJtXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjdXN0b20gbWV0YWRhdGEgYW5kIGFsbCBvZiBpdHMgdmFsdWVzPyBBbnkgbWV0YWRhdGEgdGVtcGxhdGUgdmFsdWVzIGFscmVhZHkgYXBwbGllZCB0byBmaWxlcyBpbiB0aGlzIGZvbGRlciB3aWxsIG5vdCBiZSBkZWxldGVkLlwiXG4gIH0sXG4gIG1ldGFkYXRhVGVtcGxhdGVTZWFyY2hQbGFjZWhvbGRlcjoge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLnRlbXBsYXRlU2VhcmNoUGxhY2Vob2xkZXJcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiU2VhcmNoIGFsbCB0ZW1wbGF0ZXNcIlxuICB9LFxuICBtZXRhZGF0YVRlbXBsYXRlQWRkOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IudGVtcGxhdGVBZGRcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiQWRkXCJcbiAgfSxcbiAgbWV0YWRhdGFUZW1wbGF0ZXNUaXRsZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLnRlbXBsYXRlc1RpdGxlXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIlRlbXBsYXRlc1wiXG4gIH0sXG4gIG1ldGFkYXRhVGVtcGxhdGVzTm9SZXN1bHRzOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IudGVtcGxhdGVzTm9SZXN1bHRzXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIk5vIFJlc3VsdHNcIlxuICB9LFxuICBtZXRhZGF0YVRlbXBsYXRlc0ZldGNoRmFpbGVkOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IudGVtcGxhdGVzRmV0Y2hGYWlsZWRcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiU29ycnkhIFdlIGNvdWxkIG5vdCBmZXRjaCB0ZW1wbGF0ZXMuIFBsZWFzZSBjb250YWN0IHlvdXIgYWRtaW5pc3RyYXRvclwiXG4gIH0sXG4gIG1ldGFkYXRhVGVtcGxhdGVzTm9SZW1haW5pbmdUZW1wbGF0ZXM6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci50ZW1wbGF0ZXNOb1JlbWFpbmluZ1RlbXBsYXRlc1wiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJBbGwgdGVtcGxhdGVzIGhhdmUgYmVlbiBhZGRlZFwiXG4gIH0sXG4gIG1ldGFkYXRhVGVtcGxhdGVzU2VydmVySGFzTm9UZW1wbGF0ZXM6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci50ZW1wbGF0ZXNTZXJ2ZXJIYXNOb1RlbXBsYXRlc1wiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJaZXJvIHRlbXBsYXRlc1wiXG4gIH0sXG4gIG1ldGFkYXRhU2F2ZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLm1ldGFkYXRhU2F2ZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJTYXZlXCJcbiAgfSxcbiAgbWV0YWRhdGFDYW5jZWw6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5tZXRhZGF0YUNhbmNlbFwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJDYW5jZWxcIlxuICB9LFxuICBtZXRhZGF0YUNhc2NhZGVQb2xpY3lFbmFibGVkSW5mbzoge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLm1ldGFkYXRhQ2FzY2FkZVBvbGljeUVuYWJsZWRJbmZvXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIlRoaXMgdGVtcGxhdGUgYW5kIGl0cyB2YWx1ZXMgYXJlIGJlaW5nIGNhc2NhZGVkIHRvIGFsbCBpdGVtcyBpbiB0aGlzIGZvbGRlciBhbmQgaXRzIHN1YmZvbGRlcnMuXCJcbiAgfSxcbiAgbm9NZXRhZGF0YToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLm5vTWV0YWRhdGFcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiTm8gTWV0YWRhdGEgQXBwbGllZFwiXG4gIH0sXG4gIG5vTWV0YWRhdGFBZGRUZW1wbGF0ZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLm5vTWV0YWRhdGFBZGRUZW1wbGF0ZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJDbGljayAnQWRkJyBpbiB0aGUgdG9wIHJpZ2h0IHRvIGFkZCBtZXRhZGF0YSB0byB0aGlzIGl0ZW1cIlxuICB9LFxuICBlbmFibGVDYXNjYWRlUG9saWN5OiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuZW5hYmxlQ2FzY2FkZVBvbGljeVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJFbmFibGUgQ2FzY2FkZSBQb2xpY3lcIlxuICB9LFxuICBhcHBseUNhc2NhZGVQb2xpY3lUZXh0OiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuYXBwbHlDYXNjYWRlUG9saWN5VGV4dFwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJBcHBseSB0ZW1wbGF0ZSBhbmQgaXRzIHZhbHVlcyB0byBhbGwgbmV3IGFuZCBleGlzdGluZyBpdGVtcyBpbiB0aGlzIGZvbGRlciBhbmQgaXRzIHN1YmZvbGRlcnMuXCJcbiAgfSxcbiAgY2Fubm90QXBwbHlDYXNjYWRlUG9saWN5VGV4dDoge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmNhbm5vdEFwcGx5Q2FzY2FkZVBvbGljeVRleHRcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiQ2FzY2FkZSBwb2xpY3kgY2Fubm90IGJlIGFwcGxpZWQgdG8gY3VzdG9tIG1ldGFkYXRhIGF0IHRoaXMgdGltZS5cIlxuICB9LFxuICBjYXNjYWRlUG9saWN5TGVhcm5Nb3JlOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3IuY2FzY2FkZVBvbGljeUxlYXJuTW9yZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJMZWFybiBtb3JlXCJcbiAgfSxcbiAgY2FzY2FkZVBvbGljeU1vZGVRdWVzdGlvbjoge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLmNhc2NhZGVQb2xpY3lNb2RlUXVlc3Rpb25cIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiSW4gdGhlIGNhc2Ugb2YgY29uZmxpY3RzIHdoZW4gYXBwbHlpbmcgdGhpcyB0ZW1wbGF0ZSBhbmQgaXRzIHZhbHVlcyB0byBleGlzdGluZyBpdGVtcywgd2hhdCB3b3VsZCB5b3UgbGlrZSB0byBkbz8gVGhpcyBpcyBhIG9uZSB0aW1lIGFjdGlvbi5cIlxuICB9LFxuICBjYXNjYWRlUG9saWN5U2tpcE1vZGU6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5jYXNjYWRlUG9saWN5U2tpcE1vZGVcIixcbiAgICBcImRlZmF1bHRNZXNzYWdlXCI6IFwiU2tpcCBhbmQga2VlcCBhbGwgZXhpc3RpbmcgdGVtcGxhdGUgdmFsdWVzXCJcbiAgfSxcbiAgY2FzY2FkZVBvbGljeU92ZXJ3cml0ZU1vZGU6IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5jYXNjYWRlUG9saWN5T3ZlcndyaXRlTW9kZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJPdmVyd3JpdGUgYWxsIGV4aXN0aW5nIHRlbXBsYXRlIHZhbHVlc1wiXG4gIH0sXG4gIGFsbEF0dHJpYnV0ZXNBcmVIaWRkZW46IHtcbiAgICBcImlkXCI6IFwiYm94dWkubWV0YWRhdGFJbnN0YW5jZUVkaXRvci5hbGxBdHRyaWJ1dGVzQXJlSGlkZGVuXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIkFsbCBhdHRyaWJ1dGVzIGluIHRoaXMgdGVtcGxhdGUgaGF2ZSBiZWVuIGhpZGRlbi5cIlxuICB9LFxuICBub0F0dHJpYnV0ZXNGb3JUZW1wbGF0ZToge1xuICAgIFwiaWRcIjogXCJib3h1aS5tZXRhZGF0YUluc3RhbmNlRWRpdG9yLm5vQXR0cmlidXRlc0ZvclRlbXBsYXRlXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIlRoZXJlIGFyZSBubyBhdHRyaWJ1dGVzIGluIHRoaXMgdGVtcGxhdGUuXCJcbiAgfSxcbiAgb3BlcmF0aW9uTm90SW1tZWRpYXRlOiB7XG4gICAgXCJpZFwiOiBcImJveHVpLm1ldGFkYXRhSW5zdGFuY2VFZGl0b3Iub3BlcmF0aW9uTm90SW1tZWRpYXRlXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBpbW1lZGlhdGUgYW5kIG1heSB0YWtlIHNvbWUgdGltZS5cIlxuICB9XG59KTtcbmV4cG9ydCBkZWZhdWx0IG1lc3NhZ2VzOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBUb2dnbGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy90b2dnbGUnO1xuaW1wb3J0IHsgUmFkaW9CdXR0b24sIFJhZGlvR3JvdXAgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3JhZGlvJztcbmltcG9ydCBMaW5rIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbGluay9MaW5rJztcbmltcG9ydCBJY29uQWxlcnREZWZhdWx0IGZyb20gJy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbkFsZXJ0RGVmYXVsdCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgJy4vQ2FzY2FkZVBvbGljeS5zY3NzJztcbnZhciBDT01NVU5JVFlfTElOSyA9ICdodHRwczovL2NvbW11bml0eS5ib3guY29tL3Q1L09yZ2FuaXppbmctYW5kLVRyYWNraW5nLUNvbnRlbnQvTWV0YWRhdGEvdGEtcC8zMDc2NSc7XG5cbnZhciBDYXNjYWRlUG9saWN5ID0gZnVuY3Rpb24gQ2FzY2FkZVBvbGljeShfcmVmKSB7XG4gIHZhciBjYW5FZGl0ID0gX3JlZi5jYW5FZGl0LFxuICAgICAgaXNDYXNjYWRpbmdFbmFibGVkID0gX3JlZi5pc0Nhc2NhZGluZ0VuYWJsZWQsXG4gICAgICBpc0Nhc2NhZGluZ092ZXJ3cml0dGVuID0gX3JlZi5pc0Nhc2NhZGluZ092ZXJ3cml0dGVuLFxuICAgICAgaXNDdXN0b21NZXRhZGF0YSA9IF9yZWYuaXNDdXN0b21NZXRhZGF0YSxcbiAgICAgIG9uQ2FzY2FkZVRvZ2dsZSA9IF9yZWYub25DYXNjYWRlVG9nZ2xlLFxuICAgICAgb25DYXNjYWRlTW9kZUNoYW5nZSA9IF9yZWYub25DYXNjYWRlTW9kZUNoYW5nZSxcbiAgICAgIHNob3VsZFNob3dDYXNjYWRlT3B0aW9ucyA9IF9yZWYuc2hvdWxkU2hvd0Nhc2NhZGVPcHRpb25zO1xuICB2YXIgcmVhZE9ubHlTdGF0ZSA9IGlzQ2FzY2FkaW5nRW5hYmxlZCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1jYXNjYWRlLW5vdGljZVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMubWV0YWRhdGFDYXNjYWRlUG9saWN5RW5hYmxlZEluZm8pKSA6IG51bGw7XG4gIHJldHVybiBjYW5FZGl0ID8gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1ldGFkYXRhLWNhc2NhZGUtZWRpdG9yXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1ldGFkYXRhLWNhc2NhZGUtZW5hYmxlXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIF9leHRlbmRzKHtcbiAgICB0YWdOYW1lOiBcInN0cm9uZ1wiXG4gIH0sIG1lc3NhZ2VzLmVuYWJsZUNhc2NhZGVQb2xpY3kpKSwgIWlzQ3VzdG9tTWV0YWRhdGEgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUb2dnbGUsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtY2FzY2FkZS10b2dnbGUgXCIuY29uY2F0KGlzQ2FzY2FkaW5nRW5hYmxlZCA/ICdjYXNjYWRlLW9uJyA6ICdjYXNjYWRlLW9mZicpLFxuICAgIGlzT246IGlzQ2FzY2FkaW5nRW5hYmxlZCxcbiAgICBsYWJlbDogXCJcIixcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgcmV0dXJuIG9uQ2FzY2FkZVRvZ2dsZShlLnRhcmdldC5jaGVja2VkKTtcbiAgICB9XG4gIH0pKSwgIWlzQ3VzdG9tTWV0YWRhdGEgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2FzY2FkZS1wb2xpY3ktdGV4dFwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuYXBwbHlDYXNjYWRlUG9saWN5VGV4dCksIFwiXFx4QTBcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgY2xhc3NOYW1lOiBcImNhc2NhZGUtcG9saWN5LWxlYXJubW9yZS1saW5rXCIsXG4gICAgaHJlZjogQ09NTVVOSVRZX0xJTkssXG4gICAgdGFyZ2V0OiBcIl9ibGFua1wiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuY2FzY2FkZVBvbGljeUxlYXJuTW9yZSkpKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5jYW5ub3RBcHBseUNhc2NhZGVQb2xpY3lUZXh0KSkpKSwgc2hvdWxkU2hvd0Nhc2NhZGVPcHRpb25zICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1jYXNjYWRlLWVkaXRvclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1jYXNjYWRpbmctbW9kZVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuY2FzY2FkZVBvbGljeU1vZGVRdWVzdGlvbiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1vcGVyYXRpb24tbm90LWltbWVkaWF0ZVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkFsZXJ0RGVmYXVsdCwgbnVsbCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMub3BlcmF0aW9uTm90SW1tZWRpYXRlKSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJhZGlvR3JvdXAsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtY2FzY2FkaW5nLW9wdGlvbnNcIixcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgcmV0dXJuIG9uQ2FzY2FkZU1vZGVDaGFuZ2UoZS50YXJnZXQudmFsdWUgPT09ICdvdmVyd3JpdGUnKTtcbiAgICB9LFxuICAgIHZhbHVlOiBpc0Nhc2NhZGluZ092ZXJ3cml0dGVuID8gJ292ZXJ3cml0ZScgOiAnc2tpcCdcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChSYWRpb0J1dHRvbiwge1xuICAgIGxhYmVsOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmNhc2NhZGVQb2xpY3lTa2lwTW9kZSksXG4gICAgdmFsdWU6IFwic2tpcFwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJhZGlvQnV0dG9uLCB7XG4gICAgbGFiZWw6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuY2FzY2FkZVBvbGljeU92ZXJ3cml0ZU1vZGUpLFxuICAgIHZhbHVlOiBcIm92ZXJ3cml0ZVwiXG4gIH0pKSkpKSA6IHJlYWRPbmx5U3RhdGU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDYXNjYWRlUG9saWN5OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBnZXRQcm9wIGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IFRleHRJbnB1dFByaW1pdGl2ZSBmcm9tICcuL1RleHRJbnB1dCc7XG5cbnZhciBUZXh0SW5wdXRGaWVsZCA9IGZ1bmN0aW9uIFRleHRJbnB1dEZpZWxkKF9yZWYpIHtcbiAgdmFyIGZpZWxkID0gX3JlZi5maWVsZCxcbiAgICAgIGZvcm0gPSBfcmVmLmZvcm0sXG4gICAgICBpbm5lclJlZiA9IF9yZWYuaW5uZXJSZWYsXG4gICAgICBpc1JlcXVpcmVkID0gX3JlZi5pc1JlcXVpcmVkLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJmaWVsZFwiLCBcImZvcm1cIiwgXCJpbm5lclJlZlwiLCBcImlzUmVxdWlyZWRcIl0pO1xuXG4gIHZhciBuYW1lID0gZmllbGQubmFtZTtcbiAgdmFyIGVycm9ycyA9IGZvcm0uZXJyb3JzLFxuICAgICAgdG91Y2hlZCA9IGZvcm0udG91Y2hlZDtcbiAgdmFyIGlzVG91Y2hlZCA9IGdldFByb3AodG91Y2hlZCwgbmFtZSk7XG4gIHZhciBlcnJvciA9IGlzVG91Y2hlZCA/IGdldFByb3AoZXJyb3JzLCBuYW1lKSA6IG51bGw7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dFByaW1pdGl2ZSwgX2V4dGVuZHMoe30sIGZpZWxkLCByZXN0LCB7XG4gICAgaW5wdXRSZWY6IGlubmVyUmVmLFxuICAgIGVycm9yOiBlcnJvcixcbiAgICBoaWRlT3B0aW9uYWxMYWJlbDogaXNSZXF1aXJlZFxuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUZXh0SW5wdXRGaWVsZDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpbmplY3RJbnRsIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgVGV4dElucHV0IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvdGV4dC1pbnB1dCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vbWVzc2FnZXMnO1xuaW1wb3J0ICcuL1RleHRGaWVsZC5zY3NzJztcblxudmFyIFRleHRGaWVsZCA9IGZ1bmN0aW9uIFRleHRGaWVsZChfcmVmKSB7XG4gIHZhciBkYXRhS2V5ID0gX3JlZi5kYXRhS2V5LFxuICAgICAgZGF0YVZhbHVlID0gX3JlZi5kYXRhVmFsdWUsXG4gICAgICBkaXNwbGF5TmFtZSA9IF9yZWYuZGlzcGxheU5hbWUsXG4gICAgICBkZXNjcmlwdGlvbiA9IF9yZWYuZGVzY3JpcHRpb24sXG4gICAgICBlcnJvciA9IF9yZWYuZXJyb3IsXG4gICAgICBpbnRsID0gX3JlZi5pbnRsLFxuICAgICAgX29uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIG9uUmVtb3ZlID0gX3JlZi5vblJlbW92ZSxcbiAgICAgIF9yZWYkdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgIHR5cGUgPSBfcmVmJHR5cGUgPT09IHZvaWQgMCA/ICd0ZXh0JyA6IF9yZWYkdHlwZTtcbiAgdmFyIHZhbHVlID0gJyc7XG5cbiAgaWYgKHR5cGVvZiBkYXRhVmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdmFsdWUgPSBkYXRhVmFsdWU7XG4gIH0gZWxzZSBpZiAoZGF0YVZhbHVlKSB7XG4gICAgdmFsdWUgPSBkYXRhVmFsdWU7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWZpZWxkLXRleHRcIixcbiAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgZXJyb3I6IGVycm9yLFxuICAgIGhpZGVPcHRpb25hbExhYmVsOiB0cnVlLFxuICAgIGxhYmVsOiBkaXNwbGF5TmFtZSxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcblxuICAgICAgaWYgKGN1cnJlbnRUYXJnZXQudmFsdWUpIHtcbiAgICAgICAgX29uQ2hhbmdlKGRhdGFLZXksIGN1cnJlbnRUYXJnZXQudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25SZW1vdmUoZGF0YUtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwbGFjZWhvbGRlcjogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLm1ldGFkYXRhRmllbGRTZXRWYWx1ZSksXG4gICAgdHlwZTogdHlwZSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBUZXh0RmllbGQgYXMgVGV4dEZpZWxkQmFzZSB9O1xuZXhwb3J0IGRlZmF1bHQgaW5qZWN0SW50bChUZXh0RmllbGQpOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi4vdG9vbHRpcCc7XG5pbXBvcnQgJy4vU2VsZWN0QnV0dG9uLnNjc3MnO1xuXG52YXIgU2VsZWN0QnV0dG9uID0gZnVuY3Rpb24gU2VsZWN0QnV0dG9uKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIGVycm9yID0gX3JlZi5lcnJvcixcbiAgICAgIF9yZWYkaXNEaXNhYmxlZCA9IF9yZWYuaXNEaXNhYmxlZCxcbiAgICAgIGlzRGlzYWJsZWQgPSBfcmVmJGlzRGlzYWJsZWQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpc0Rpc2FibGVkLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImVycm9yXCIsIFwiaXNEaXNhYmxlZFwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwge1xuICAgIGlzU2hvd246ICEhZXJyb3IsXG4gICAgcG9zaXRpb246IFwibWlkZGxlLXJpZ2h0XCIsXG4gICAgdGV4dDogZXJyb3IsXG4gICAgdGhlbWU6IFwiZXJyb3JcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NOYW1lLCAnc2VsZWN0LWJ1dHRvbicsIHtcbiAgICAgICdpcy1pbnZhbGlkJzogISFlcnJvclxuICAgIH0pLFxuICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgcmVzdCksIGNoaWxkcmVuKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RCdXR0b247IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgdW5pcXVlSWQgZnJvbSAnbG9kYXNoL3VuaXF1ZUlkJztcbmltcG9ydCB7IHNjcm9sbEludG9WaWV3IH0gZnJvbSAnLi4vLi4vdXRpbHMvZG9tJztcbmltcG9ydCBJY29uQ2hlY2sgZnJvbSAnLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uQ2hlY2snO1xuaW1wb3J0IFNlbGVjdEJ1dHRvbiBmcm9tICcuLi9zZWxlY3QtYnV0dG9uJztcbmltcG9ydCBEYXRhbGlzdEl0ZW0gZnJvbSAnLi4vZGF0YWxpc3QtaXRlbSc7XG5pbXBvcnQgeyBPVkVSTEFZX1dSQVBQRVJfQ0xBU1MgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0ICcuL1NlbGVjdEZpZWxkLnNjc3MnO1xuXG5mdW5jdGlvbiBzdG9wRGVmYXVsdEV2ZW50KGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVPcHRpb24ob3B0aW9ucywgdmFsdWUpIHtcbiAgdmFyIGluZGV4ID0gb3B0aW9ucy5pbmRleE9mKHZhbHVlKTtcblxuICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgb3B0aW9ucy5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn1cblxudmFyIEJhc2VTZWxlY3RGaWVsZCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQmFzZVNlbGVjdEZpZWxkLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBCYXNlU2VsZWN0RmllbGQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZVNlbGVjdEZpZWxkKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEJhc2VTZWxlY3RGaWVsZCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInNldEFjdGl2ZUl0ZW1cIiwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFjdGl2ZUl0ZW1JbmRleDogaW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIF90aGlzLnNldEFjdGl2ZUl0ZW1JRChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzZXRBY3RpdmVJdGVtSURcIiwgZnVuY3Rpb24gKGlkKSB7XG4gICAgICB2YXIgaXRlbUVsID0gaWQgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgOiBudWxsO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFjdGl2ZUl0ZW1JRDogaWRcbiAgICAgIH0pO1xuXG4gICAgICBzY3JvbGxJbnRvVmlldyhpdGVtRWwpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImhhbmRsZUNoYW5nZVwiLCBmdW5jdGlvbiAoc2VsZWN0ZWRJdGVtcykge1xuICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cbiAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICBvbkNoYW5nZShzZWxlY3RlZEl0ZW1zKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJoYW5kbGVPcHRpb25TZWxlY3RcIiwgZnVuY3Rpb24gKHNlbGVjdGVkSXRlbSkge1xuICAgICAgdmFyIG9uT3B0aW9uU2VsZWN0ID0gX3RoaXMucHJvcHMub25PcHRpb25TZWxlY3Q7XG5cbiAgICAgIGlmIChvbk9wdGlvblNlbGVjdCkge1xuICAgICAgICBvbk9wdGlvblNlbGVjdChzZWxlY3RlZEl0ZW0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImhhbmRsZUJ1dHRvbkNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5pc09wZW4pIHtcbiAgICAgICAgX3RoaXMuY2xvc2VEcm9wZG93bigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMub3BlbkRyb3Bkb3duKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiaGFuZGxlQnV0dG9uS2V5RG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBhY3RpdmVJdGVtSW5kZXggPSBfdGhpcy5zdGF0ZS5hY3RpdmVJdGVtSW5kZXg7IC8vIElmIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc2VsZWN0IGRyb3Bkb3duLCBkb24ndCBjbG9zZSBvbiBzcGFjZS9lbnRlciAoaS5lLiBwcmV2ZW50IGNsaWNrIGV2ZW50KVxuXG4gICAgICBpZiAoKGV2ZW50LmtleSA9PT0gJyAnIHx8IGV2ZW50LmtleSA9PT0gJ0VudGVyJykgJiYgYWN0aXZlSXRlbUluZGV4ICE9PSAtMSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImhhbmRsZUJsdXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlzT3BlbiA9IF90aGlzLnN0YXRlLmlzT3BlbjtcblxuICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICBfdGhpcy5jbG9zZURyb3Bkb3duKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiaGFuZGxlS2V5RG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMucHJvcHMub3B0aW9ucztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGFjdGl2ZUl0ZW1JbmRleCA9IF90aGlzJHN0YXRlLmFjdGl2ZUl0ZW1JbmRleCxcbiAgICAgICAgICBpc09wZW4gPSBfdGhpcyRzdGF0ZS5pc09wZW47XG4gICAgICB2YXIgaXRlbUNvdW50ID0gb3B0aW9ucy5sZW5ndGg7XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgc3RvcERlZmF1bHRFdmVudChldmVudCk7XG5cbiAgICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICB2YXIgbmV4dEluZGV4ID0gYWN0aXZlSXRlbUluZGV4ID09PSBpdGVtQ291bnQgLSAxID8gLTEgOiBhY3RpdmVJdGVtSW5kZXggKyAxO1xuXG4gICAgICAgICAgICBfdGhpcy5zZXRBY3RpdmVJdGVtKG5leHRJbmRleCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLm9wZW5Ecm9wZG93bigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgIHN0b3BEZWZhdWx0RXZlbnQoZXZlbnQpO1xuXG4gICAgICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFjdGl2ZUl0ZW1JbmRleCA9PT0gLTEgPyBpdGVtQ291bnQgLSAxIDogYWN0aXZlSXRlbUluZGV4IC0gMTtcblxuICAgICAgICAgICAgX3RoaXMuc2V0QWN0aXZlSXRlbShwcmV2SW5kZXgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5vcGVuRHJvcGRvd24oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdFbnRlcic6XG4gICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgIGlmIChhY3RpdmVJdGVtSW5kZXggIT09IC0xICYmIGlzT3Blbikge1xuICAgICAgICAgICAgc3RvcERlZmF1bHRFdmVudChldmVudCk7XG5cbiAgICAgICAgICAgIF90aGlzLnNlbGVjdE9wdGlvbihhY3RpdmVJdGVtSW5kZXgpOyAvLyBFbnRlciBhbHdheXMgY2xvc2VzIGRyb3Bkb3duIChldmVuIGZvciBtdWx0aXNlbGVjdClcblxuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgIF90aGlzLmNsb3NlRHJvcGRvd24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAgIHN0b3BEZWZhdWx0RXZlbnQoZXZlbnQpO1xuXG4gICAgICAgICAgICBfdGhpcy5jbG9zZURyb3Bkb3duKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIG5vIGRlZmF1bHRcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvcGVuRHJvcGRvd25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5pc09wZW4pIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzT3BlbjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJjbG9zZURyb3Bkb3duXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5pc09wZW4pIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGl2ZUl0ZW1JRDogbnVsbCxcbiAgICAgICAgICBhY3RpdmVJdGVtSW5kZXg6IC0xLFxuICAgICAgICAgIGlzT3BlbjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwic2VsZWN0T3B0aW9uXCIsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIG11bHRpcGxlID0gX3RoaXMucHJvcHMubXVsdGlwbGU7XG5cbiAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICBfdGhpcy5zZWxlY3RNdWx0aU9wdGlvbihpbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZWxlY3RTaW5nbGVPcHRpb24oaW5kZXgpO1xuXG4gICAgICAgIF90aGlzLmNsb3NlRHJvcGRvd24oKTsgLy8gQ2xvc2UgZHJvcGRvd24gZm9yIHNpbmdsZSBzZWxlY3QgZmllbGRzXG5cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzZWxlY3RNdWx0aU9wdGlvblwiLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IF90aGlzJHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICBvcHRpb25zID0gX3RoaXMkcHJvcHMub3B0aW9ucyxcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlcyA9IF90aGlzJHByb3BzLnNlbGVjdGVkVmFsdWVzO1xuICAgICAgdmFyIGhhc0RlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZSAhPSBudWxsOyAvLyBDaGVja3MgaWYgbm90IHVuZGVmaW5lZCBvciBudWxsXG5cbiAgICAgIHZhciBpdGVtID0gb3B0aW9uc1tpbmRleF07IC8vIElmIHdlIGFyZSBhbHJlYWR5IHVzaW5nIHRoZSBkZWZhdWx0IG9wdGlvbiwganVzdCByZXR1cm4gd2l0aG91dCBmaXJpbmcgb25DaGFuZ2VcblxuICAgICAgaWYgKGhhc0RlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUgPT09IGl0ZW0udmFsdWUpIHtcbiAgICAgICAgX3RoaXMuc2VsZWN0U2luZ2xlT3B0aW9uKGluZGV4KTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIENvcHkgdGhlIGFycmF5IHNvIHdlIGNhbiBmcmVlbHkgbW9kaWZ5IGl0XG5cblxuICAgICAgdmFyIG5ld1NlbGVjdGVkVmFsdWVzID0gc2VsZWN0ZWRWYWx1ZXMuc2xpY2UoMCk7XG4gICAgICB0b2dnbGVPcHRpb24obmV3U2VsZWN0ZWRWYWx1ZXMsIGl0ZW0udmFsdWUpOyAvLyBBcHBseSBjb25zdHJhaW50cyBpZiBhIGRlZmF1bHRWYWx1ZSBpcyBzcGVjaWZpZWRcblxuICAgICAgaWYgKGhhc0RlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgZGVmYXVsdE9wdGlvbkluZGV4ID0gb3B0aW9ucy5maW5kSW5kZXgoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgIHJldHVybiBvcHRpb24udmFsdWUgPT09IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRlZmF1bHRPcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBpZiAobmV3U2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBJZiBub3RoaW5nIGlzIHNlbGVjdGVkLCB3ZSBzaG91bGQgc2VsZWN0IHRoZSBkZWZhdWx0IG9wdGlvblxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0U2luZ2xlT3B0aW9uKGRlZmF1bHRPcHRpb25JbmRleCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobmV3U2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID4gMSAmJiBuZXdTZWxlY3RlZFZhbHVlcy5pbmNsdWRlcyhkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGRlZmF1bHQgb3B0aW9uIGZyb20gdGhlIHNlbGVjdGVkIHZhbHVlcyB3aGVuIG1vcmUgdGhhbiBvbmUgdGhpbmcgaXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG5ld1NlbGVjdGVkVmFsdWVzLnNwbGljZShkZWZhdWx0T3B0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBGaXJlIG9uY2hhbmdlIGV2ZW50IHdpdGggc2VsZWN0ZWQgaXRlbXNcblxuXG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uob3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3U2VsZWN0ZWRWYWx1ZXMuaW5jbHVkZXMob3B0aW9uLnZhbHVlKTtcbiAgICAgIH0pKTtcblxuICAgICAgX3RoaXMuaGFuZGxlT3B0aW9uU2VsZWN0KGl0ZW0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInJlbmRlckJ1dHRvblRleHRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9wdGlvbnMgPSBfdGhpcyRwcm9wczIub3B0aW9ucyxcbiAgICAgICAgICBwbGFjZWhvbGRlciA9IF90aGlzJHByb3BzMi5wbGFjZWhvbGRlcixcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlcyA9IF90aGlzJHByb3BzMi5zZWxlY3RlZFZhbHVlcyxcbiAgICAgICAgICB0aXRsZSA9IF90aGlzJHByb3BzMi50aXRsZTtcbiAgICAgIHZhciBzZWxlY3RlZEl0ZW1Db3VudCA9IHNlbGVjdGVkVmFsdWVzLmxlbmd0aDsgLy8gV2hlbiB0aGVyZSBhcmUgbm8gb3B0aW9ucyBzZWxlY3RlZCwgcmVuZGVyIHBsYWNlaG9sZGVyXG5cbiAgICAgIGlmIChzZWxlY3RlZEl0ZW1Db3VudCA9PT0gMCAmJiBwbGFjZWhvbGRlcikge1xuICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXI7XG4gICAgICB9IC8vIFVzZXItc3BlY2lmaWVkIHRpdGxlIHdoZW4gb3B0aW9ucyBhcmUgc2VsZWN0ZWRcblxuXG4gICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgfSAvLyBBdXRvLWdlbmVyYXRlIGJ1dHRvbiB0aXRsZSBiYXNlZCBvbiBzZWxlY3RlZCBvcHRpb25zXG5cblxuICAgICAgdmFyIHNlbGVjdGVkT3B0aW9ucyA9IG9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkVmFsdWVzLmluY2x1ZGVzKG9wdGlvbi52YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzZWxlY3RlZE9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbi5kaXNwbGF5VGV4dDtcbiAgICAgIH0pLmpvaW4oJywgJyk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwicmVuZGVyU2VsZWN0QnV0dG9uXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTIgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhY3RpdmVJdGVtSUQgPSBfdGhpcyRzdGF0ZTIuYWN0aXZlSXRlbUlELFxuICAgICAgICAgIGlzT3BlbiA9IF90aGlzJHN0YXRlMi5pc09wZW47XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYnV0dG9uRWxQcm9wcyA9IF90aGlzJHByb3BzMy5idXR0b25Qcm9wcyxcbiAgICAgICAgICBpc0Rpc2FibGVkID0gX3RoaXMkcHJvcHMzLmlzRGlzYWJsZWQsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMzLmNsYXNzTmFtZSxcbiAgICAgICAgICBlcnJvciA9IF90aGlzJHByb3BzMy5lcnJvcjtcblxuICAgICAgdmFyIGJ1dHRvblRleHQgPSBfdGhpcy5yZW5kZXJCdXR0b25UZXh0KCk7XG5cbiAgICAgIHZhciBidXR0b25Qcm9wcyA9IF9vYmplY3RTcHJlYWQoe30sIGJ1dHRvbkVsUHJvcHMsIHtcbiAgICAgICAgJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCc6IGFjdGl2ZUl0ZW1JRCxcbiAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxuICAgICAgICAnYXJpYS1leHBhbmRlZCc6IGlzT3BlbixcbiAgICAgICAgJ2FyaWEtb3ducyc6IF90aGlzLnNlbGVjdEZpZWxkSUQsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICBvbkNsaWNrOiBfdGhpcy5oYW5kbGVCdXR0b25DbGljayxcbiAgICAgICAgb25LZXlEb3duOiBfdGhpcy5oYW5kbGVCdXR0b25LZXlEb3duLFxuICAgICAgICAvLyBATk9URTogVGVjaG5pY2FsbHksIG9ubHkgdGV4dCBpbnB1dHMgc2hvdWxkIGJlIGNvbWJvLWJveGVzIGJ1dCBBUklBIHNwZWNzIGRvIG5vdCBjb3ZlciBjdXN0b20gc2VsZWN0IGRyb3Bkb3duc1xuICAgICAgICByb2xlOiAnY29tYm9ib3gnLFxuICAgICAgICB0aXRsZTogYnV0dG9uVGV4dFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdEJ1dHRvbiwgX2V4dGVuZHMoe30sIGJ1dHRvblByb3BzLCB7XG4gICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgfSksIGJ1dHRvblRleHQpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInJlbmRlclNlbGVjdE9wdGlvbnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9wdGlvbnMgPSBfdGhpcyRwcm9wczQub3B0aW9ucyxcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlcyA9IF90aGlzJHByb3BzNC5zZWxlY3RlZFZhbHVlcyxcbiAgICAgICAgICBzZXBhcmF0b3JJbmRpY2VzID0gX3RoaXMkcHJvcHM0LnNlcGFyYXRvckluZGljZXM7XG4gICAgICB2YXIgYWN0aXZlSXRlbUluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlSXRlbUluZGV4O1xuICAgICAgdmFyIHNlbGVjdE9wdGlvbnMgPSBvcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGRpc3BsYXlUZXh0ID0gaXRlbS5kaXNwbGF5VGV4dCxcbiAgICAgICAgICAgIHZhbHVlID0gaXRlbS52YWx1ZTtcbiAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBzZWxlY3RlZFZhbHVlcy5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgICAgIHZhciBpdGVtUHJvcHMgPSB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnc2VsZWN0LW9wdGlvbicsXG4gICAgICAgICAga2V5OiBpbmRleCxcblxuICAgICAgICAgIC8qIHByZXZlbnREZWZhdWx0IG9uIGNsaWNrIHRvIHByZXZlbnQgd3JhcHBpbmcgbGFiZWwgZnJvbSByZS10cmlnZ2VyaW5nIHRoZSBzZWxlY3QgYnV0dG9uICovXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0T3B0aW9uKGluZGV4KTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLyogcHJldmVudERlZmF1bHQgb24gbW91c2Vkb3duIHNvIGJsdXIgZG9lc24ndCBoYXBwZW4gYmVmb3JlIGNsaWNrICovXG4gICAgICAgICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Nb3VzZUVudGVyOiBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRBY3RpdmVJdGVtKGluZGV4KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldEFjdGl2ZUl0ZW1JRDogX3RoaXMuc2V0QWN0aXZlSXRlbUlEXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSBhY3RpdmVJdGVtSW5kZXgpIHtcbiAgICAgICAgICBpdGVtUHJvcHMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB9IC8vIFRoZSBiZWxvdyBhY3R1YWxseSBkb2VzIGhhdmUgYSBrZXksIGJ1dCBlc2xpbnQgY2FuJ3QgY2F0Y2ggdGhhdFxuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0L2pzeC1rZXkgKi9cblxuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KERhdGFsaXN0SXRlbSwgaXRlbVByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwic2VsZWN0LW9wdGlvbi1jaGVjay1pY29uXCJcbiAgICAgICAgfSwgaXNTZWxlY3RlZCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkNoZWNrLCB7XG4gICAgICAgICAgaGVpZ2h0OiAxNixcbiAgICAgICAgICB3aWR0aDogMTZcbiAgICAgICAgfSkgOiBudWxsKSwgZGlzcGxheVRleHQpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L2pzeC1rZXkgKi9cbiAgICAgIH0pO1xuICAgICAgc2VwYXJhdG9ySW5kaWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzZXBhcmF0b3JJbmRleCwgaW5kZXgpIHtcbiAgICAgICAgc2VsZWN0T3B0aW9ucy5zcGxpY2Uoc2VwYXJhdG9ySW5kZXggKyBpbmRleCwgMCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgICBrZXk6IFwic2VwYXJhdG9yXCIuY29uY2F0KHNlcGFyYXRvckluZGV4KSxcbiAgICAgICAgICByb2xlOiBcInNlcGFyYXRvclwiXG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNlbGVjdE9wdGlvbnM7XG4gICAgfSk7XG5cbiAgICBfdGhpcy5zZWxlY3RGaWVsZElEID0gdW5pcXVlSWQoJ3NlbGVjdGZpZWxkJyk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmVJdGVtSUQ6IG51bGwsXG4gICAgICBhY3RpdmVJdGVtSW5kZXg6IC0xLFxuICAgICAgaXNPcGVuOiBmYWxzZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJhc2VTZWxlY3RGaWVsZCwgW3tcbiAgICBrZXk6IFwic2VsZWN0U2luZ2xlT3B0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFNpbmdsZU9wdGlvbihpbmRleCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgb3B0aW9ucyA9IF90aGlzJHByb3BzNS5vcHRpb25zLFxuICAgICAgICAgIHNlbGVjdGVkVmFsdWVzID0gX3RoaXMkcHJvcHM1LnNlbGVjdGVkVmFsdWVzO1xuICAgICAgdmFyIGl0ZW0gPSBvcHRpb25zW2luZGV4XTsgLy8gSWYgaXRlbSBub3QgcHJldmlvdXNseSBzZWxlY3RlZCwgZmlyZSBjaGFuZ2UgaGFuZGxlclxuXG4gICAgICBpZiAoIXNlbGVjdGVkVmFsdWVzLmluY2x1ZGVzKGl0ZW0udmFsdWUpKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKFtpdGVtXSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGFuZGxlT3B0aW9uU2VsZWN0KGl0ZW0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHM2LmNsYXNzTmFtZSxcbiAgICAgICAgICBtdWx0aXBsZSA9IF90aGlzJHByb3BzNi5tdWx0aXBsZTtcbiAgICAgIHZhciBpc09wZW4gPSB0aGlzLnN0YXRlLmlzT3BlbjsgLy8gQFRPRE86IE5lZWQgaW52YXJpYW50cyBvbiBzcGVjaWZpYyBjb25kaXRpb25zLlxuICAgICAgLy8gMSkgIyBvZiBvcHRpb25zIHNob3VsZCBiZSBub24temVyb1xuICAgICAgLy8gMikgc2VsZWN0ZWRWYWx1ZXMsIGlmIGRlZmluZWQsIHNob3VsZCBhbGwgZXhpc3QgaW4gb3B0aW9uc1xuICAgICAgLy8gMykgZGVmYXVsdFZhbHVlLCBpZiBkZWZpbmVkLCBzaG91bGQgZXhpc3QgaW4gb3B0aW9uc1xuICAgICAgLy8gNCkgZGVmYXVsdFZhbHVlLCBpZiBkZWZpbmVkLCBzaG91bGQgbWVhbiBzZWxlY3RlZFZhbHVlcyBpcyBuZXZlciBlbXB0eVxuICAgICAgLy8gNSkgZGVmYXVsdFZhbHVlLCBpZiBkZWZpbmVkLCBjYW5ub3QgYmUgc2VsZWN0ZWQgaW4gYWRkaXRpb24gdG8gb3RoZXIgb3B0aW9ucyAobXVzdCBiZSBleGNsdXNpdmUpXG5cbiAgICAgIHZhciBsaXN0Ym94UHJvcHMgPSB7fTtcblxuICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgIGxpc3Rib3hQcm9wc1snYXJpYS1tdWx0aXNlbGVjdGFibGUnXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L25vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9uc1xuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NOYW1lLCAnc2VsZWN0LWNvbnRhaW5lcicpLFxuICAgICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzZWxlY3QtZmllbGRcIlxuICAgICAgICB9LCB0aGlzLnJlbmRlclNlbGVjdEJ1dHRvbigpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoT1ZFUkxBWV9XUkFQUEVSX0NMQVNTLCB7XG4gICAgICAgICAgICAnaXMtdmlzaWJsZSc6IGlzT3BlblxuICAgICAgICAgIH0pXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm92ZXJsYXlcIixcbiAgICAgICAgICBpZDogdGhpcy5zZWxlY3RGaWVsZElELFxuICAgICAgICAgIHJvbGU6IFwibGlzdGJveFwiXG4gICAgICAgIH0sIGxpc3Rib3hQcm9wcyksIHRoaXMucmVuZGVyU2VsZWN0T3B0aW9ucygpKSkpKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQmFzZVNlbGVjdEZpZWxkO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoQmFzZVNlbGVjdEZpZWxkLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGJ1dHRvblByb3BzOiB7fSxcbiAgaXNEaXNhYmxlZDogZmFsc2UsXG4gIG11bHRpcGxlOiBmYWxzZSxcbiAgb3B0aW9uczogW10sXG4gIHNlbGVjdGVkVmFsdWVzOiBbXSxcbiAgc2VwYXJhdG9ySW5kaWNlczogW11cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXNlU2VsZWN0RmllbGQ7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBvbWl0IGZyb20gJ2xvZGFzaC9vbWl0JztcbmltcG9ydCBCYXNlU2VsZWN0RmllbGQgZnJvbSAnLi9CYXNlU2VsZWN0RmllbGQnO1xuXG52YXIgU2luZ2xlU2VsZWN0RmllbGQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFNpbmdsZVNlbGVjdEZpZWxkLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTaW5nbGVTZWxlY3RGaWVsZCgpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaW5nbGVTZWxlY3RGaWVsZCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihTaW5nbGVTZWxlY3RGaWVsZCkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImhhbmRsZUNoYW5nZVwiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgIGZpZWxkVHlwZSA9IF90aGlzJHByb3BzLmZpZWxkVHlwZTsgLy8gVGhlcmUgc2hvdWxkIG9ubHkgZXZlciBiZSAxIHNlbGVjdGVkIGl0ZW1cblxuICAgICAgaWYgKG9uQ2hhbmdlICYmIHNlbGVjdGVkT3B0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgb25DaGFuZ2Uoc2VsZWN0ZWRPcHRpb25zWzBdLCBmaWVsZFR5cGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNpbmdsZVNlbGVjdEZpZWxkLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaXNEaXNhYmxlZCA9IF90aGlzJHByb3BzMi5pc0Rpc2FibGVkLFxuICAgICAgICAgIHNlbGVjdGVkVmFsdWUgPSBfdGhpcyRwcm9wczIuc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgICBwbGFjZWhvbGRlciA9IF90aGlzJHByb3BzMi5wbGFjZWhvbGRlcixcbiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzMiwgW1wiaXNEaXNhYmxlZFwiLCBcInNlbGVjdGVkVmFsdWVcIiwgXCJwbGFjZWhvbGRlclwiXSk7IC8vIEBUT0RPOiBJbnZhcmlhbnQgdGVzdGluZ1xuICAgICAgLy8gMSkgc2VsZWN0ZWRWYWx1ZSBpcyByZXF1aXJlZCB0byBiZSBjb250YWluZWQgaW4gdGhlIG9wdGlvbnNcbiAgICAgIC8vIDIpICMgb2Ygb3B0aW9ucyBzaG91bGQgYmUgbm9uLXplcm9cbiAgICAgIC8vIE1ha2Ugc3VyZSB0byBvbWl0IHBhc3NlZCBwcm9wcyB0aGF0IGNvdWxkIGJlIGludGVycHJldGVkIGluY29ycmVjdGx5IGJ5IHRoZSBiYXNlIGNvbXBvbmVudFxuXG5cbiAgICAgIHZhciBzZWxlY3RGaWVsZFByb3BzID0gb21pdChyZXN0LCBbJ2RlZmF1bHRWYWx1ZScsICdtdWx0aXBsZScsICdvbkNoYW5nZSddKTsgLy8gSWYgc2VsZWN0ZWRWYWx1ZSBpcyBwYXNzZWQgaW4sIG1hcCBpdCB0byB0aGUgbXVsdGkgc2VsZWN0ZWQgZXF1aXZhbGVudFxuXG4gICAgICB2YXIgaXNGaWVsZFNlbGVjdGVkID0gc2VsZWN0ZWRWYWx1ZSAhPT0gbnVsbDtcbiAgICAgIHNlbGVjdEZpZWxkUHJvcHMuc2VsZWN0ZWRWYWx1ZXMgPSAhaXNGaWVsZFNlbGVjdGVkID8gW10gOiBbc2VsZWN0ZWRWYWx1ZV07XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCYXNlU2VsZWN0RmllbGQsIF9leHRlbmRzKHtcbiAgICAgICAgY2xhc3NOYW1lOiAhaXNGaWVsZFNlbGVjdGVkICYmIHBsYWNlaG9sZGVyID8gJ3BsYWNlaG9sZGVyJyA6ICcnLFxuICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlclxuICAgICAgfSwgc2VsZWN0RmllbGRQcm9wcykpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTaW5nbGVTZWxlY3RGaWVsZDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgU2luZ2xlU2VsZWN0RmllbGQ7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW5qZWN0SW50bCB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IExhYmVsIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvbGFiZWwvTGFiZWwnO1xuaW1wb3J0IFNpbmdsZVNlbGVjdEZpZWxkIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvc2VsZWN0LWZpZWxkL1NpbmdsZVNlbGVjdEZpZWxkJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9tZXNzYWdlcyc7XG5pbXBvcnQgJy4vRW51bUZpZWxkLnNjc3MnO1xuXG52YXIgRW51bUZpZWxkID0gZnVuY3Rpb24gRW51bUZpZWxkKF9yZWYpIHtcbiAgdmFyIGRhdGFLZXkgPSBfcmVmLmRhdGFLZXksXG4gICAgICBkYXRhVmFsdWUgPSBfcmVmLmRhdGFWYWx1ZSxcbiAgICAgIGRpc3BsYXlOYW1lID0gX3JlZi5kaXNwbGF5TmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uID0gX3JlZi5kZXNjcmlwdGlvbixcbiAgICAgIGludGwgPSBfcmVmLmludGwsXG4gICAgICBfb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgb25SZW1vdmUgPSBfcmVmLm9uUmVtb3ZlLFxuICAgICAgX3JlZiRvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgb3B0aW9ucyA9IF9yZWYkb3B0aW9ucyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJG9wdGlvbnM7XG4gIHZhciBzZWxlY3RPcHRpb25zID0gb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICBkaXNwbGF5VGV4dDogb3B0aW9uLmtleSxcbiAgICAgIHZhbHVlOiBvcHRpb24ua2V5LFxuICAgICAgaXNTZWxlY3RhYmxlOiB0cnVlXG4gICAgfTtcbiAgfSk7XG4gIHZhciBkZWZhdWx0VmFsdWUgPSBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMubWV0YWRhdGFGaWVsZFNlbGVjdFZhbHVlKTtcbiAgc2VsZWN0T3B0aW9ucy51bnNoaWZ0KHtcbiAgICBkaXNwbGF5VGV4dDogZGVmYXVsdFZhbHVlLFxuICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgaXNTZWxlY3RhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3ItZmllbGQtZW51bVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIHtcbiAgICB0ZXh0OiBkaXNwbGF5TmFtZVxuICB9LCAhIWRlc2NyaXB0aW9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWZpZWxkLWVudW0tZGVzY1wiXG4gIH0sIGRlc2NyaXB0aW9uKSwgUmVhY3QuY3JlYXRlRWxlbWVudChTaW5nbGVTZWxlY3RGaWVsZCwge1xuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShvcHRpb24pIHtcbiAgICAgIGlmIChvcHRpb24uaXNTZWxlY3RhYmxlKSB7XG4gICAgICAgIF9vbkNoYW5nZShkYXRhS2V5LCBvcHRpb24udmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChvblJlbW92ZSkge1xuICAgICAgICBvblJlbW92ZShkYXRhS2V5KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9wdGlvbnM6IHNlbGVjdE9wdGlvbnMsXG4gICAgc2VsZWN0ZWRWYWx1ZTogLy8gQ29uZGl0aW9uYWwgdG8gbWFrZSBmbG93IGhhcHB5LCBkYXRhVmFsdWUgc2hvdWxkIG5ldmVyIGJlIGFuIGFycmF5XG4gICAgQXJyYXkuaXNBcnJheShkYXRhVmFsdWUpID8gZGF0YVZhbHVlLmpvaW4oJywgJykgOiBkYXRhVmFsdWUgfHwgZGVmYXVsdFZhbHVlXG4gIH0pKSk7XG59O1xuXG5leHBvcnQgeyBFbnVtRmllbGQgYXMgRW51bUZpZWxkQmFzZSB9O1xuZXhwb3J0IGRlZmF1bHQgaW5qZWN0SW50bChFbnVtRmllbGQpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGluamVjdEludGwgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBEYXRlUGlja2VyIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvZGF0ZS1waWNrZXInO1xuaW1wb3J0IHsgY29udmVydElTT1N0cmluZ1RvVVRDRGF0ZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RhdGV0aW1lJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9tZXNzYWdlcyc7XG5pbXBvcnQgJy4vRGF0ZUZpZWxkLnNjc3MnO1xuXG52YXIgRGF0ZUZpZWxkID0gZnVuY3Rpb24gRGF0ZUZpZWxkKF9yZWYpIHtcbiAgdmFyIGRhdGFLZXkgPSBfcmVmLmRhdGFLZXksXG4gICAgICBkYXRhVmFsdWUgPSBfcmVmLmRhdGFWYWx1ZSxcbiAgICAgIGRpc3BsYXlOYW1lID0gX3JlZi5kaXNwbGF5TmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uID0gX3JlZi5kZXNjcmlwdGlvbixcbiAgICAgIGludGwgPSBfcmVmLmludGwsXG4gICAgICBfb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgb25SZW1vdmUgPSBfcmVmLm9uUmVtb3ZlO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEYXRlUGlja2VyLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1ldGFkYXRhLWluc3RhbmNlLWVkaXRvci1maWVsZC1kYXRlXCIsXG4gICAgZGF0ZUZvcm1hdDogXCJ1dGNJU09TdHJpbmdcIixcbiAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgZGlzcGxheUZvcm1hdDoge1xuICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgfSxcbiAgICBoaWRlT3B0aW9uYWxMYWJlbDogdHJ1ZSxcbiAgICBsYWJlbDogZGlzcGxheU5hbWUsXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGRhdGUsIGlzb0RhdGUpIHtcbiAgICAgIGlmIChpc29EYXRlKSB7XG4gICAgICAgIF9vbkNoYW5nZShkYXRhS2V5LCBpc29EYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uUmVtb3ZlKGRhdGFLZXkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcGxhY2Vob2xkZXI6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5tZXRhZGF0YUZpZWxkU2V0RGF0ZSksXG4gICAgdmFsdWU6IHR5cGVvZiBkYXRhVmFsdWUgPT09ICdzdHJpbmcnID8gY29udmVydElTT1N0cmluZ1RvVVRDRGF0ZShkYXRhVmFsdWUpIDogdW5kZWZpbmVkXG4gIH0pO1xufTtcblxuZXhwb3J0IHsgRGF0ZUZpZWxkIGFzIERhdGVGaWVsZEJhc2UgfTtcbmV4cG9ydCBkZWZhdWx0IGluamVjdEludGwoRGF0ZUZpZWxkKTsiLCJleHBvcnQgdmFyIEZJRUxEX1RZUEVfREFURSA9ICdkYXRlJztcbmV4cG9ydCB2YXIgRklFTERfVFlQRV9FTlVNID0gJ2VudW0nO1xuZXhwb3J0IHZhciBGSUVMRF9UWVBFX0lOVEVHRVIgPSAnaW50ZWdlcic7XG5leHBvcnQgdmFyIEZJRUxEX1RZUEVfRkxPQVQgPSAnZmxvYXQnO1xuZXhwb3J0IHZhciBGSUVMRF9UWVBFX01VTFRJU0VMRUNUID0gJ211bHRpU2VsZWN0JztcbmV4cG9ydCB2YXIgRklFTERfVFlQRV9TVFJJTkcgPSAnc3RyaW5nJztcbmV4cG9ydCB2YXIgVEVNUExBVEVfQ1VTVE9NX1BST1BFUlRJRVMgPSAncHJvcGVydGllcyc7XG5leHBvcnQgdmFyIEpTT05fUEFUQ0hfT1BfQUREID0gJ2FkZCc7XG5leHBvcnQgdmFyIEpTT05fUEFUQ0hfT1BfUkVNT1ZFID0gJ3JlbW92ZSc7XG5leHBvcnQgdmFyIEpTT05fUEFUQ0hfT1BfUkVQTEFDRSA9ICdyZXBsYWNlJztcbmV4cG9ydCB2YXIgSlNPTl9QQVRDSF9PUF9URVNUID0gJ3Rlc3QnOyIsImltcG9ydCB7IEZJRUxEX1RZUEVfRkxPQVQsIEZJRUxEX1RZUEVfSU5URUdFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG52YXIgZmxvYXRSZWdleCA9IC9eWy0rXT9bMC05XSpcXC4/WzAtOV0qJC87XG52YXIgaW50ZWdlclJlZ2V4ID0gL15bLStdP1swLTldKyQvO1xuXG52YXIgZmxvYXRWYWxpZGF0b3IgPSBmdW5jdGlvbiBmbG9hdFZhbGlkYXRvcih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZS5tYXRjaChmbG9hdFJlZ2V4KTtcbn07XG5cbnZhciBpbnRlZ2VyVmFsaWRhdG9yID0gZnVuY3Rpb24gaW50ZWdlclZhbGlkYXRvcih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZS5tYXRjaChpbnRlZ2VyUmVnZXgpO1xufTtcblxudmFyIGlzVmFsaWRWYWx1ZSA9IGZ1bmN0aW9uIGlzVmFsaWRWYWx1ZSh0eXBlLCB2YWx1ZSkge1xuICBpZiAodHlwZSA9PT0gRklFTERfVFlQRV9GTE9BVCAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZsb2F0VmFsaWRhdG9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSBGSUVMRF9UWVBFX0lOVEVHRVIgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBpbnRlZ2VyVmFsaWRhdG9yKHZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnRcblxuXG5leHBvcnQgeyBpc1ZhbGlkVmFsdWUgfTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJy4vVGV4dEZpZWxkJztcbmltcG9ydCB7IGlzVmFsaWRWYWx1ZSB9IGZyb20gJy4vdmFsaWRhdGVGaWVsZCc7XG5cbnZhciBGbG9hdEZpZWxkID0gZnVuY3Rpb24gRmxvYXRGaWVsZChfcmVmKSB7XG4gIHZhciBkYXRhS2V5ID0gX3JlZi5kYXRhS2V5LFxuICAgICAgZGF0YVZhbHVlID0gX3JlZi5kYXRhVmFsdWUsXG4gICAgICBkaXNwbGF5TmFtZSA9IF9yZWYuZGlzcGxheU5hbWUsXG4gICAgICBkZXNjcmlwdGlvbiA9IF9yZWYuZGVzY3JpcHRpb24sXG4gICAgICBlcnJvciA9IF9yZWYuZXJyb3IsXG4gICAgICBfb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgb25SZW1vdmUgPSBfcmVmLm9uUmVtb3ZlLFxuICAgICAgdHlwZSA9IF9yZWYudHlwZTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEZpZWxkLCB7XG4gICAgZGF0YUtleTogZGF0YUtleSxcbiAgICBkYXRhVmFsdWU6IGRhdGFWYWx1ZSxcbiAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgZGlzcGxheU5hbWU6IGRpc3BsYXlOYW1lLFxuICAgIGVycm9yOiBlcnJvcixcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzVmFsaWRWYWx1ZSh0eXBlLCB2YWx1ZSkpIHtcbiAgICAgICAgX29uQ2hhbmdlKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25SZW1vdmU6IG9uUmVtb3ZlXG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmxvYXRGaWVsZDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJy4vVGV4dEZpZWxkJztcbmltcG9ydCB7IGlzVmFsaWRWYWx1ZSB9IGZyb20gJy4vdmFsaWRhdGVGaWVsZCc7XG5cbnZhciBJbnRlZ2VyRmllbGQgPSBmdW5jdGlvbiBJbnRlZ2VyRmllbGQoX3JlZikge1xuICB2YXIgZGF0YUtleSA9IF9yZWYuZGF0YUtleSxcbiAgICAgIGRhdGFWYWx1ZSA9IF9yZWYuZGF0YVZhbHVlLFxuICAgICAgZGlzcGxheU5hbWUgPSBfcmVmLmRpc3BsYXlOYW1lLFxuICAgICAgZGVzY3JpcHRpb24gPSBfcmVmLmRlc2NyaXB0aW9uLFxuICAgICAgZXJyb3IgPSBfcmVmLmVycm9yLFxuICAgICAgX29uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIG9uUmVtb3ZlID0gX3JlZi5vblJlbW92ZSxcbiAgICAgIHR5cGUgPSBfcmVmLnR5cGU7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRGaWVsZCwge1xuICAgIGRhdGFLZXk6IGRhdGFLZXksXG4gICAgZGF0YVZhbHVlOiBkYXRhVmFsdWUsXG4gICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSxcbiAgICBlcnJvcjogZXJyb3IsXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc1ZhbGlkVmFsdWUodHlwZSwgdmFsdWUpKSB7XG4gICAgICAgIF9vbkNoYW5nZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uUmVtb3ZlOiBvblJlbW92ZVxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEludGVnZXJGaWVsZDsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJhc2VTZWxlY3RGaWVsZCBmcm9tICcuL0Jhc2VTZWxlY3RGaWVsZCc7XG5cbnZhciBNdWx0aVNlbGVjdEZpZWxkID0gZnVuY3Rpb24gTXVsdGlTZWxlY3RGaWVsZChfcmVmKSB7XG4gIHZhciByZXN0ID0gX2V4dGVuZHMoe30sIF9yZWYpO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJhc2VTZWxlY3RGaWVsZCwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICBtdWx0aXBsZTogdHJ1ZVxuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNdWx0aVNlbGVjdEZpZWxkOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBMYWJlbCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2xhYmVsL0xhYmVsJztcbmltcG9ydCBNdWx0aVNlbGVjdCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL3NlbGVjdC1maWVsZC9NdWx0aVNlbGVjdEZpZWxkJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9tZXNzYWdlcyc7XG5pbXBvcnQgJy4vTXVsdGlTZWxlY3RGaWVsZC5zY3NzJztcblxudmFyIE11bHRpU2VsZWN0RmllbGQgPSBmdW5jdGlvbiBNdWx0aVNlbGVjdEZpZWxkKF9yZWYpIHtcbiAgdmFyIGRhdGFLZXkgPSBfcmVmLmRhdGFLZXksXG4gICAgICBkYXRhVmFsdWUgPSBfcmVmLmRhdGFWYWx1ZSxcbiAgICAgIGRpc3BsYXlOYW1lID0gX3JlZi5kaXNwbGF5TmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uID0gX3JlZi5kZXNjcmlwdGlvbixcbiAgICAgIF9vbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICBvblJlbW92ZSA9IF9yZWYub25SZW1vdmUsXG4gICAgICBfcmVmJG9wdGlvbnMgPSBfcmVmLm9wdGlvbnMsXG4gICAgICBvcHRpb25zID0gX3JlZiRvcHRpb25zID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkb3B0aW9ucztcbiAgdmFyIHBsYWNlaG9sZGVyID0gUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5tZXRhZGF0YUZpZWxkTXVsdGlTZWxlY3RWYWx1ZSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWZpZWxkLW11bHRpLXNlbGVjdFwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIHtcbiAgICB0ZXh0OiBkaXNwbGF5TmFtZVxuICB9LCAhIWRlc2NyaXB0aW9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWZpZWxkLW11bHRpLXNlbGVjdC1kZXNjXCJcbiAgfSwgZGVzY3JpcHRpb24pLCBSZWFjdC5jcmVhdGVFbGVtZW50KE11bHRpU2VsZWN0LCB7XG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgaWYgKHNlbGVjdGVkT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgX29uQ2hhbmdlKGRhdGFLZXksIHNlbGVjdGVkT3B0aW9ucy5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblJlbW92ZShkYXRhS2V5KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9wdGlvbnM6IG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpc3BsYXlUZXh0OiBvcHRpb24ua2V5LFxuICAgICAgICB2YWx1ZTogb3B0aW9uLmtleVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgc2VsZWN0ZWRWYWx1ZXM6IGRhdGFWYWx1ZVxuICB9KSkpO1xufTtcblxuZXhwb3J0IHsgTXVsdGlTZWxlY3RGaWVsZCBhcyBNdWx0aVNlbGVjdEZpZWxkQmFzZSB9O1xuZXhwb3J0IGRlZmF1bHQgTXVsdGlTZWxlY3RGaWVsZDsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlLCBGb3JtYXR0ZWREYXRlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgeyBjb252ZXJ0SVNPU3RyaW5nVG9VVENEYXRlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGF0ZXRpbWUnO1xuaW1wb3J0IHsgRklFTERfVFlQRV9EQVRFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9tZXNzYWdlcyc7XG5pbXBvcnQgJy4vUmVhZE9ubHlGaWVsZC5zY3NzJztcblxudmFyIFJlYWRPbmx5RmllbGQgPSBmdW5jdGlvbiBSZWFkT25seUZpZWxkKF9yZWYpIHtcbiAgdmFyIGRhdGFWYWx1ZSA9IF9yZWYuZGF0YVZhbHVlLFxuICAgICAgZGVzY3JpcHRpb24gPSBfcmVmLmRlc2NyaXB0aW9uLFxuICAgICAgZGlzcGxheU5hbWUgPSBfcmVmLmRpc3BsYXlOYW1lLFxuICAgICAgdHlwZSA9IF9yZWYudHlwZTtcbiAgdmFyIHZhbHVlID0gUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBfZXh0ZW5kcyh7XG4gICAgdGFnTmFtZTogXCJpXCJcbiAgfSwgbWVzc2FnZXMubWV0YWRhdGFGaWVsZE5vVmFsdWUpKTtcblxuICBpZiAoZGF0YVZhbHVlIHx8IHR5cGVvZiBkYXRhVmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhVmFsdWUgPT09ICdzdHJpbmcnICYmIHR5cGUgPT09IEZJRUxEX1RZUEVfREFURSkge1xuICAgICAgdmFsdWUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZERhdGUsIHtcbiAgICAgICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICAgICAgbW9udGg6IFwibG9uZ1wiLFxuICAgICAgICB2YWx1ZTogY29udmVydElTT1N0cmluZ1RvVVRDRGF0ZShkYXRhVmFsdWUpLFxuICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIlxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGFWYWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gZGF0YVZhbHVlLmpvaW4oJywgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gZGF0YVZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGxcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3ItZmllbGQtcmVhZC1vbmx5XCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImR0XCIsIG51bGwsIGRpc3BsYXlOYW1lKSwgISFkZXNjcmlwdGlvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaVwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1ldGFkYXRhLWluc3RhbmNlLWVkaXRvci1maWVsZC1yZWFkLW9ubHktZGVzY1wiXG4gIH0sIGRlc2NyaXB0aW9uKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRkXCIsIG51bGwsIHZhbHVlKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFkT25seUZpZWxkOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBJbmxpbmVFcnJvciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2lubGluZS1lcnJvci9JbmxpbmVFcnJvcic7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJy4vVGV4dEZpZWxkJztcbmltcG9ydCBFbnVtRmllbGQgZnJvbSAnLi9FbnVtRmllbGQnO1xuaW1wb3J0IERhdGVGaWVsZCBmcm9tICcuL0RhdGVGaWVsZCc7XG5pbXBvcnQgRmxvYXRGaWVsZCBmcm9tICcuL0Zsb2F0RmllbGQnO1xuaW1wb3J0IEludGVnZXJGaWVsZCBmcm9tICcuL0ludGVnZXJGaWVsZCc7XG5pbXBvcnQgTXVsdGlTZWxlY3RGaWVsZCBmcm9tICcuL011bHRpU2VsZWN0RmllbGQnO1xuaW1wb3J0IFJlYWRPbmx5RmllbGQgZnJvbSAnLi9SZWFkT25seUZpZWxkJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBGSUVMRF9UWVBFX0VOVU0sIEZJRUxEX1RZUEVfRkxPQVQsIEZJRUxEX1RZUEVfSU5URUdFUiwgRklFTERfVFlQRV9TVFJJTkcsIEZJRUxEX1RZUEVfREFURSwgRklFTERfVFlQRV9NVUxUSVNFTEVDVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbnZhciBGaWVsZCA9IGZ1bmN0aW9uIEZpZWxkKF9yZWYpIHtcbiAgdmFyIGRhdGFLZXkgPSBfcmVmLmRhdGFLZXksXG4gICAgICBkYXRhVmFsdWUgPSBfcmVmLmRhdGFWYWx1ZSxcbiAgICAgIGRpc3BsYXlOYW1lID0gX3JlZi5kaXNwbGF5TmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uID0gX3JlZi5kZXNjcmlwdGlvbixcbiAgICAgIGVycm9yID0gX3JlZi5lcnJvcixcbiAgICAgIGlzSGlkZGVuID0gX3JlZi5pc0hpZGRlbixcbiAgICAgIGNhbkVkaXQgPSBfcmVmLmNhbkVkaXQsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICBvblJlbW92ZSA9IF9yZWYub25SZW1vdmUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgdHlwZSA9IF9yZWYudHlwZTtcblxuICBpZiAoaXNIaWRkZW4pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICghY2FuRWRpdCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWRPbmx5RmllbGQsIHtcbiAgICAgIGRhdGFWYWx1ZTogZGF0YVZhbHVlLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgZGlzcGxheU5hbWU6IGRpc3BsYXlOYW1lLFxuICAgICAgdHlwZTogdHlwZVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCFvbkNoYW5nZSB8fCAhb25SZW1vdmUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05lZWQgdG8gaGF2ZSBvbkNoYW5nZSBhbmQgb25SZW1vdmUnKTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgRklFTERfVFlQRV9TVFJJTkc6XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0RmllbGQsIHtcbiAgICAgICAgZGF0YUtleTogZGF0YUtleSxcbiAgICAgICAgZGF0YVZhbHVlOiBkYXRhVmFsdWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgZGlzcGxheU5hbWU6IGRpc3BsYXlOYW1lLFxuICAgICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICAgIG9uUmVtb3ZlOiBvblJlbW92ZVxuICAgICAgfSk7XG5cbiAgICBjYXNlIEZJRUxEX1RZUEVfRkxPQVQ6XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChGbG9hdEZpZWxkLCB7XG4gICAgICAgIGRhdGFLZXk6IGRhdGFLZXksXG4gICAgICAgIGRhdGFWYWx1ZTogZGF0YVZhbHVlLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICAgIG9uUmVtb3ZlOiBvblJlbW92ZSxcbiAgICAgICAgdHlwZTogdHlwZVxuICAgICAgfSk7XG5cbiAgICBjYXNlIEZJRUxEX1RZUEVfSU5URUdFUjpcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEludGVnZXJGaWVsZCwge1xuICAgICAgICBkYXRhS2V5OiBkYXRhS2V5LFxuICAgICAgICBkYXRhVmFsdWU6IGRhdGFWYWx1ZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICAgIHR5cGU6IHR5cGVcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBGSUVMRF9UWVBFX0VOVU06XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChFbnVtRmllbGQsIHtcbiAgICAgICAgZGF0YUtleTogZGF0YUtleSxcbiAgICAgICAgZGF0YVZhbHVlOiBkYXRhVmFsdWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgZGlzcGxheU5hbWU6IGRpc3BsYXlOYW1lLFxuICAgICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICAgIG9uUmVtb3ZlOiBvblJlbW92ZSxcbiAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgfSk7XG5cbiAgICBjYXNlIEZJRUxEX1RZUEVfTVVMVElTRUxFQ1Q6XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChNdWx0aVNlbGVjdEZpZWxkLCB7XG4gICAgICAgIGRhdGFLZXk6IGRhdGFLZXksXG4gICAgICAgIGRhdGFWYWx1ZTogZGF0YVZhbHVlLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBGSUVMRF9UWVBFX0RBVEU6XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEYXRlRmllbGQsIHtcbiAgICAgICAgZGF0YUtleTogZGF0YUtleSxcbiAgICAgICAgZGF0YVZhbHVlOiBkYXRhVmFsdWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgZGlzcGxheU5hbWU6IGRpc3BsYXlOYW1lLFxuICAgICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICAgIG9uUmVtb3ZlOiBvblJlbW92ZVxuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5saW5lRXJyb3IsIHtcbiAgICAgICAgdGl0bGU6IHR5cGVcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuaW52YWxpZE1ldGFkYXRhRmllbGRUeXBlKSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZpZWxkOyIsInZhciBpc0hpZGRlbiA9IGZ1bmN0aW9uIGlzSGlkZGVuKG9iaikge1xuICByZXR1cm4gISFvYmouaXNIaWRkZW4gfHwgISFvYmouaGlkZGVuO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNIaWRkZW47IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IEZpZWxkIGZyb20gJy4vZmllbGRzL0ZpZWxkJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCBpc0hpZGRlbiBmcm9tICcuL21ldGFkYXRhVXRpbCc7XG5pbXBvcnQgJy4vVGVtcGxhdGVkSW5zdGFuY2Uuc2Nzcyc7XG5cbnZhciBUZW1wbGF0ZWRJbnN0YW5jZSA9IGZ1bmN0aW9uIFRlbXBsYXRlZEluc3RhbmNlKF9yZWYpIHtcbiAgdmFyIGNhbkVkaXQgPSBfcmVmLmNhbkVkaXQsXG4gICAgICBfcmVmJGRhdGEgPSBfcmVmLmRhdGEsXG4gICAgICBkYXRhID0gX3JlZiRkYXRhID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkZGF0YSxcbiAgICAgIGVycm9ycyA9IF9yZWYuZXJyb3JzLFxuICAgICAgb25GaWVsZENoYW5nZSA9IF9yZWYub25GaWVsZENoYW5nZSxcbiAgICAgIG9uRmllbGRSZW1vdmUgPSBfcmVmLm9uRmllbGRSZW1vdmUsXG4gICAgICB0ZW1wbGF0ZSA9IF9yZWYudGVtcGxhdGU7XG4gIHZhciBfdGVtcGxhdGUkZmllbGRzID0gdGVtcGxhdGUuZmllbGRzLFxuICAgICAgZmllbGRzID0gX3RlbXBsYXRlJGZpZWxkcyA9PT0gdm9pZCAwID8gW10gOiBfdGVtcGxhdGUkZmllbGRzO1xuICB2YXIgaGFzRmllbGRzID0gZmllbGRzLmxlbmd0aCA+IDA7XG4gIHZhciBoYXNWaXNpYmxlRmllbGRzID0gaGFzRmllbGRzICYmIGZpZWxkcy5zb21lKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHJldHVybiAhaXNIaWRkZW4oZmllbGQpO1xuICB9KTtcbiAgdmFyIHNob3dOb0ZpZWxkc01lc3NhZ2UgPSAhaGFzRmllbGRzO1xuICB2YXIgc2hvd0hpZGRlbkZpZWxkc01lc3NhZ2UgPSBoYXNGaWVsZHMgJiYgIWhhc1Zpc2libGVGaWVsZHM7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBoYXNWaXNpYmxlRmllbGRzICYmIGZpZWxkcy5tYXAoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmllbGQsIHtcbiAgICAgIGtleTogZmllbGQuaWQsXG4gICAgICBjYW5FZGl0OiBjYW5FZGl0LFxuICAgICAgZGF0YUtleTogZmllbGQua2V5LFxuICAgICAgZGF0YVZhbHVlOiBkYXRhW2ZpZWxkLmtleV0sXG4gICAgICBkZXNjcmlwdGlvbjogZmllbGQuZGVzY3JpcHRpb24sXG4gICAgICBkaXNwbGF5TmFtZTogZmllbGQuZGlzcGxheU5hbWUsXG4gICAgICBlcnJvcjogZXJyb3JzW2ZpZWxkLmtleV0sXG4gICAgICBpc0hpZGRlbjogaXNIaWRkZW4oZmllbGQpIC8vIENoZWNraW5nIGJvdGggaXNIaWRkZW4gYW5kIGhpZGRlbiBhdHRyaWJ1dGVzIGR1ZSB0byBkaWZmZXJlbmNlcyBpbiBWMiBhbmQgVjMgQVBJc1xuICAgICAgLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGNhbkVkaXQgJiYgb25GaWVsZENoYW5nZSkge1xuICAgICAgICAgIG9uRmllbGRDaGFuZ2Uoa2V5LCB2YWx1ZSwgZmllbGQudHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoa2V5KSB7XG4gICAgICAgIGlmIChjYW5FZGl0ICYmIG9uRmllbGRSZW1vdmUpIHtcbiAgICAgICAgICBvbkZpZWxkUmVtb3ZlKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiBmaWVsZC5vcHRpb25zLFxuICAgICAgdHlwZTogZmllbGQudHlwZVxuICAgIH0pO1xuICB9KSwgc2hvd0hpZGRlbkZpZWxkc01lc3NhZ2UgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImF0dHJpYnV0ZXMtaGlkZGVuLW1lc3NhZ2VcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmFsbEF0dHJpYnV0ZXNBcmVIaWRkZW4pKSwgc2hvd05vRmllbGRzTWVzc2FnZSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm8tYXR0cmlidXRlcy1tZXNzYWdlXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5ub0F0dHJpYnV0ZXNGb3JUZW1wbGF0ZSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRlbXBsYXRlZEluc3RhbmNlOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlLCBpbmplY3RJbnRsIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYnV0dG9uL0J1dHRvbic7XG5pbXBvcnQgVGV4dElucHV0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdGV4dC1pbnB1dC9UZXh0SW5wdXQnO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi4vLi4vY29tcG9uZW50cy90b29sdGlwL1Rvb2x0aXAnO1xuaW1wb3J0IGNvbW1vbk1lc3NhZ2VzIGZyb20gJy4uLy4uL2NvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgSWNvbkluZm8gZnJvbSAnLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uSW5mbyc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgJy4vQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZC5zY3NzJztcblxudmFyIEN1c3RvbUluc3RhbmNlTmV3RmllbGQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDdXN0b21JbnN0YW5jZU5ld0ZpZWxkLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZCgpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDdXN0b21JbnN0YW5jZU5ld0ZpZWxkKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKEN1c3RvbUluc3RhbmNlTmV3RmllbGQpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBrZXk6ICcnLFxuICAgICAgdmFsdWU6ICcnLFxuICAgICAgZXJyb3I6ICcnXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25LZXlDaGFuZ2VcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBfdGhpcy5vbkNoYW5nZShldmVudCwgJ2tleScpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uVmFsdWVDaGFuZ2VcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBfdGhpcy5vbkNoYW5nZShldmVudCwgJ3ZhbHVlJyk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25BZGRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAga2V5ID0gX3RoaXMkc3RhdGUua2V5LFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkc3RhdGUudmFsdWU7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkFkZCA9IF90aGlzJHByb3BzLm9uQWRkLFxuICAgICAgICAgIHByb3BlcnRpZXMgPSBfdGhpcyRwcm9wcy5wcm9wZXJ0aWVzO1xuXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGVycm9yOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmN1c3RvbUVycm9yRHVwbGljYXRlS2V5KVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5LnN0YXJ0c1dpdGgoJyQnKSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZXJyb3I6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuY3VzdG9tRXJyb3JJbnRlcm5hbEtleSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSkge1xuICAgICAgICBvbkFkZChrZXksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBlcnJvcjogUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5jdXN0b21FcnJvclJlcXVpcmVkKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDdXN0b21JbnN0YW5jZU5ld0ZpZWxkLCBbe1xuICAgIGtleTogXCJvbkNoYW5nZVwiLFxuXG4gICAgLyoqXG4gICAgICogQ29tbW9uIGNoYW5nZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHIgLSBrZXkgb3IgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCwgYXR0cikge1xuICAgICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgICBlcnJvcjogJydcbiAgICAgIH0sIGF0dHIsIGN1cnJlbnRUYXJnZXQudmFsdWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlIGhhbmRsZXIgZm9yIHRoZSBrZXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGludGwgPSBfdGhpcyRwcm9wczIuaW50bCxcbiAgICAgICAgICBpc0NhbmNlbGxhYmxlID0gX3RoaXMkcHJvcHMyLmlzQ2FuY2VsbGFibGUsXG4gICAgICAgICAgb25DYW5jZWwgPSBfdGhpcyRwcm9wczIub25DYW5jZWw7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBrZXkgPSBfdGhpcyRzdGF0ZTIua2V5LFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkc3RhdGUyLnZhbHVlLFxuICAgICAgICAgIGVycm9yID0gX3RoaXMkc3RhdGUyLmVycm9yO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY3VzdG9tLW5ldy1maWVsZFwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImN1c3RvbS1uZXctZmllbGQtaGVhZGVyXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgX2V4dGVuZHMoe1xuICAgICAgICB0YWdOYW1lOiBcImg1XCJcbiAgICAgIH0sIG1lc3NhZ2VzLmN1c3RvbU5ld0ZpZWxkKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwge1xuICAgICAgICB0ZXh0OiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmN1c3RvbU5ld0ZpZWxkTWVzc2FnZSlcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICB0YWJJbmRleDogXCItMVwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25JbmZvLCB7XG4gICAgICAgIGNvbG9yOiBcIiM3NzdcIixcbiAgICAgICAgaGVpZ2h0OiAxOCxcbiAgICAgICAgd2lkdGg6IDE4XG4gICAgICB9KSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHtcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICBpc1JlcXVpcmVkOiB0cnVlLFxuICAgICAgICBsYWJlbDogUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5jdXN0b21LZXkpLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbktleUNoYW5nZSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5jdXN0b21LZXlQbGFjZWhvbGRlciksXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICB2YWx1ZToga2V5XG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHtcbiAgICAgICAgaGlkZU9wdGlvbmFsTGFiZWw6IHRydWUsXG4gICAgICAgIGxhYmVsOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmN1c3RvbVZhbHVlKSxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25WYWx1ZUNoYW5nZSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5jdXN0b21WYWx1ZVBsYWNlaG9sZGVyKSxcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY3VzdG9tLW5ldy1maWVsZC1hY3Rpb25zXCJcbiAgICAgIH0sIGlzQ2FuY2VsbGFibGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBcIm1ldGFkYXRhLWN1c3RvbWZpZWxkY2FuY2VsXCIsXG4gICAgICAgIG9uQ2xpY2s6IG9uQ2FuY2VsLFxuICAgICAgICB0eXBlOiBcImJ1dHRvblwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIGNvbW1vbk1lc3NhZ2VzLmNhbmNlbCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFwibWV0YWRhdGEtY3VzdG9tZmllbGRhZGRcIixcbiAgICAgICAgb25DbGljazogdGhpcy5vbkFkZCxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5jdXN0b21BZGQpKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDdXN0b21JbnN0YW5jZU5ld0ZpZWxkO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZCBhcyBDdXN0b21JbnN0YW5jZU5ld0ZpZWxkQmFzZSB9O1xuZXhwb3J0IGRlZmF1bHQgaW5qZWN0SW50bChDdXN0b21JbnN0YW5jZU5ld0ZpZWxkKTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uTWludXNUaGluID0gZnVuY3Rpb24gSWNvbk1pbnVzVGhpbihfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gJyMyMjInIDogX3JlZiRjb2xvcixcbiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gMSA6IF9yZWYkaGVpZ2h0LFxuICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgX3JlZiR3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICB3aWR0aCA9IF9yZWYkd2lkdGggPT09IHZvaWQgMCA/IDkgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tbWludXMtdGhpbiBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdmlld0JveDogXCIwIDAgOSAxXCIsXG4gICAgd2lkdGg6IHdpZHRoXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZmlsbC1jb2xvclwiLFxuICAgIGQ6IFwiTTAgMGg5djFIMHpcIixcbiAgICBmaWxsOiBjb2xvcixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbk1pbnVzVGhpbjsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uUGx1c1RoaW4gPSBmdW5jdGlvbiBJY29uUGx1c1RoaW4oX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICcjMjIyJyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDkgOiBfcmVmJGhlaWdodCxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyA5IDogX3JlZiR3aWR0aDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjZXNzaWJsZVNWRywge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLXBsdXMtdGhpbiBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdmlld0JveDogXCIwIDAgOSA5XCIsXG4gICAgd2lkdGg6IHdpZHRoXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZmlsbC1jb2xvclwiLFxuICAgIGQ6IFwiTTUgNFYwSDR2NEgwdjFoNHY0aDFWNWg0VjRINXpcIixcbiAgICBmaWxsOiBjb2xvcixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvblBsdXNUaGluOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGluamVjdEludGwgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9idXR0b24vQnV0dG9uJztcbmltcG9ydCBCdXR0b25Hcm91cCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2J1dHRvbi1ncm91cC9CdXR0b25Hcm91cCc7XG5pbXBvcnQgSWNvbk1pbnVzIGZyb20gJy4uLy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbk1pbnVzVGhpbic7XG5pbXBvcnQgSWNvblBsdXMgZnJvbSAnLi4vLi4vLi4vaWNvbnMvZ2VuZXJhbC9JY29uUGx1c1RoaW4nO1xuaW1wb3J0IEZpZWxkIGZyb20gJy4vRmllbGQnO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uL21lc3NhZ2VzJztcbmltcG9ydCAnLi9DdXN0b21GaWVsZC5zY3NzJztcbnZhciBDT0xPUl85OTkgPSAnIzk5OSc7XG5cbnZhciBDdXN0b21GaWVsZCA9IGZ1bmN0aW9uIEN1c3RvbUZpZWxkKF9yZWYpIHtcbiAgdmFyIGludGwgPSBfcmVmLmludGwsXG4gICAgICBjYW5FZGl0ID0gX3JlZi5jYW5FZGl0LFxuICAgICAgaXNMYXN0ID0gX3JlZi5pc0xhc3QsXG4gICAgICBkYXRhS2V5ID0gX3JlZi5kYXRhS2V5LFxuICAgICAgZGF0YVZhbHVlID0gX3JlZi5kYXRhVmFsdWUsXG4gICAgICBvbkFkZCA9IF9yZWYub25BZGQsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICBvblJlbW92ZSA9IF9yZWYub25SZW1vdmU7XG4gIHZhciBhZGRCdG4gPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIFwiYXJpYS1sYWJlbFwiOiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuY3VzdG9tQWRkKSxcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFwibWV0YWRhdGEtY3VzdG9tZmllbGRuZXdcIixcbiAgICBvbkNsaWNrOiBvbkFkZCxcbiAgICB0eXBlOiBcImJ1dHRvblwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvblBsdXMsIHtcbiAgICBjb2xvcjogQ09MT1JfOTk5XG4gIH0pKTtcbiAgdmFyIHJlbW92ZUJ0biA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgXCJhcmlhLWxhYmVsXCI6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5jdXN0b21SZW1vdmUpLFxuICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogXCJtZXRhZGF0YS1jdXN0b21maWVsZHJlbW92ZVwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICBpZiAob25SZW1vdmUpIHtcbiAgICAgICAgb25SZW1vdmUoZGF0YUtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0eXBlOiBcImJ1dHRvblwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbk1pbnVzLCB7XG4gICAgY29sb3I6IENPTE9SXzk5OVxuICB9KSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWZpZWxkLWN1c3RvbVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmllbGQsIHtcbiAgICBjYW5FZGl0OiBjYW5FZGl0LFxuICAgIGRhdGFLZXk6IGRhdGFLZXksXG4gICAgZGF0YVZhbHVlOiBkYXRhVmFsdWUsXG4gICAgZGlzcGxheU5hbWU6IGRhdGFLZXksXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlIC8vIEN1c3RvbSBtZXRhZGF0YSBkb2Vzbid0IGFsbG93IHJlbW92aW5nIG9mIHByb3BzIGlmIHRoZSB2YWx1ZSBpcyBlbXB0aWVkIG91dCwgbGVhdmUgaXQgYXMgZW1wdHkgc3RyaW5nXG4gICAgLFxuICAgIG9uUmVtb3ZlOiBmdW5jdGlvbiBvblJlbW92ZShrZXkpIHtcbiAgICAgIHJldHVybiBvbkNoYW5nZShrZXksICcnKTtcbiAgICB9LFxuICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgfSksIGNhbkVkaXQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1ldGFkYXRhLWluc3RhbmNlLWVkaXRvci1maWVsZC1jdXN0b20tYWN0aW9uc1wiXG4gIH0sIGlzTGFzdCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uR3JvdXAsIG51bGwsIHJlbW92ZUJ0biwgYWRkQnRuKSA6IHJlbW92ZUJ0bikpO1xufTtcblxuZXhwb3J0IHsgQ3VzdG9tRmllbGQgYXMgQ3VzdG9tRmllbGRCYXNlIH07XG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKEN1c3RvbUZpZWxkKTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uQWRkTWV0YWRhdGFFbXB0eVN0YXRlID0gZnVuY3Rpb24gSWNvbkFkZE1ldGFkYXRhRW1wdHlTdGF0ZShfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gJyMwMDYxRDUnIDogX3JlZiRjb2xvcixcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyAxNDAgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tYWRkLW1ldGFkYXRhLWVtcHR5LXN0YXRlIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAxNDAgMTA1XCIsXG4gICAgd2lkdGg6IHdpZHRoXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTkyIDEuMTM0Vi40OTJhLjUwMS41MDEgMCAwIDEgMS0uMDAydi42NDRjLjE1Mi4wODguMjc4LjIxNC4zNjYuMzY2aC42NDRhLjUuNSAwIDAgMSAuNDkuNWMwIC4yNzYtLjIxNS41LS40OS41aC0uNjQ0YTEuMDA1IDEuMDA1IDAgMCAxLS4zNjYuMzY2di42NDRhLjUuNSAwIDAgMS0uNS40OS41MDYuNTA2IDAgMCAxLS41LS41MDV2LS42MjlhMS4wMDUgMS4wMDUgMCAwIDEtLjM2Ni0uMzY2aC0uNjQ0YS41LjUgMCAwIDEtLjQ5LS41YzAtLjI3Ni4yMTUtLjUuNDktLjVoLjY0NGMuMDg4LS4xNTIuMjE0LS4yNzguMzY2LS4zNjZ6bS05MC41IDgzLjV2LS42NDJhLjUwMS41MDEgMCAwIDEgMS0uMDAydi42NDRjLjE1Mi4wODguMjc4LjIxNC4zNjYuMzY2aC42NDRhLjUuNSAwIDAgMSAuNDkuNWMwIC4yNzYtLjIxNS41LS40OS41aC0uNjQ0YTEuMDA1IDEuMDA1IDAgMCAxLS4zNjYuMzY2di42NDRhLjUuNSAwIDAgMS0uNS40OS41MDYuNTA2IDAgMCAxLS41LS41MDV2LS42MjlBMS4wMDUgMS4wMDUgMCAwIDEgMS4xMzQgODZILjQ5YS41LjUgMCAwIDEtLjQ5LS41YzAtLjI3Ni4yMTUtLjUuNDktLjVoLjY0NGMuMDg4LS4xNTIuMjE0LS4yNzguMzY2LS4zNjZ6bTEzNiA1LjV2LS42NDJhLjUwMS41MDEgMCAwIDEgMS0uMDAydi42NDRjLjE1Mi4wODguMjc4LjIxNC4zNjYuMzY2aC42NDRhLjUuNSAwIDAgMSAuNDkuNWMwIC4yNzYtLjIxNS41LS40OS41aC0uNjQ0YTEuMDA1IDEuMDA1IDAgMCAxLS4zNjYuMzY2di42NDRhLjUuNSAwIDAgMS0uNS40OS41MDYuNTA2IDAgMCAxLS41LS41MDV2LS42MjlhMS4wMDUgMS4wMDUgMCAwIDEtLjM2Ni0uMzY2aC0uNjQ0YS41LjUgMCAwIDEtLjQ5LS41YzAtLjI3Ni4yMTUtLjUuNDktLjVoLjY0NGMuMDg4LS4xNTIuMjE0LS4yNzguMzY2LS4zNjZ6bS0yOS03OHYtLjY0MmEuNTAxLjUwMSAwIDAgMSAxLS4wMDJ2LjY0NGMuMTUyLjA4OC4yNzguMjE0LjM2Ni4zNjZoLjY0NGEuNS41IDAgMCAxIC40OS41YzAgLjI3Ni0uMjE1LjUtLjQ5LjVoLS42NDRhMS4wMDUgMS4wMDUgMCAwIDEtLjM2Ni4zNjZ2LjY0NGEuNS41IDAgMCAxLS41LjQ5LjUwNi41MDYgMCAwIDEtLjUtLjUwNXYtLjYyOWExLjAwNSAxLjAwNSAwIDAgMS0uMzY2LS4zNjZoLS42NDRhLjUuNSAwIDAgMS0uNDktLjVjMC0uMjc2LjIxNS0uNS40OS0uNWguNjQ0Yy4wODgtLjE1Mi4yMTQtLjI3OC4zNjYtLjM2NnptLTgwIDMuNXYtLjY0MmEuNTAxLjUwMSAwIDAgMSAxLS4wMDJ2LjY0NGMuMTUyLjA4OC4yNzguMjE0LjM2Ni4zNjZoLjY0NGEuNS41IDAgMCAxIC40OS41YzAgLjI3Ni0uMjE1LjUtLjQ5LjVoLS42NDRhMS4wMDUgMS4wMDUgMCAwIDEtLjM2Ni4zNjZ2LjY0NGEuNS41IDAgMCAxLS41LjQ5LjUwNi41MDYgMCAwIDEtLjUtLjUwNXYtLjYyOWExLjAwNSAxLjAwNSAwIDAgMS0uMzY2LS4zNjZoLS42NDRhLjUuNSAwIDAgMS0uNDktLjVjMC0uMjc2LjIxNS0uNS40OS0uNWguNjQ0Yy4wODgtLjE1Mi4yMTQtLjI3OC4zNjYtLjM2NnptLTUuNTYzIDguMDc1di0uNDAyYS4zMTMuMzEzIDAgMCAxIC42MjUgMHYuNDAyYS42MjguNjI4IDAgMCAxIC4yMy4yMjloLjQwMWMuMTcgMCAuMzA3LjE0NC4zMDcuMzEyYS4zMDguMzA4IDAgMCAxLS4zMDcuMzEzaC0uNDAyYS42MjguNjI4IDAgMCAxLS4yMjkuMjI4di40MDJhLjMxMy4zMTMgMCAwIDEtLjYyNS4wMDR2LS40MDZhLjYyOC42MjggMCAwIDEtLjIyOC0uMjI5aC0uNDAyQS4zMTMuMzEzIDAgMCAxIDIyIDI0LjI1YzAtLjE3My4xMzQtLjMxMy4zMDctLjMxM2guNDAyYS42MjguNjI4IDAgMCAxIC4yMjktLjIyOHptLTExLjUgNzl2LS40MDJhLjMxMy4zMTMgMCAwIDEgLjYyNiAwdi40MDJhLjYyOC42MjggMCAwIDEgLjIyOC4yMjhoLjQwMmMuMTcgMCAuMzA3LjE0NS4zMDcuMzEzYS4zMDguMzA4IDAgMCAxLS4zMDcuMzEzaC0uNDAyYS42MjguNjI4IDAgMCAxLS4yMjkuMjI4di40MDJhLjMxMy4zMTMgMCAwIDEtLjYyNC4wMDR2LS40MDZhLjYyOC42MjggMCAwIDEtLjIzLS4yMjhoLS40MDFhLjMxMy4zMTMgMCAwIDEtLjMwNy0uMzEzYzAtLjE3My4xMzQtLjMxMy4zMDctLjMxM2guNDAyYS42MjguNjI4IDAgMCAxIC4yMjktLjIyOHpcIixcbiAgICBmaWxsOiBjb2xvclxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE3IDU0YzAtMy44NjYgMy4xMzMtNyA2Ljk5Mi03aDEwNi4wMTZjMy44NjEgMCA2Ljk5MiAzLjE0MiA2Ljk5MiA3IDAgMy44NjYtMy4xMzMgNy02Ljk5MiA3SDIzLjk5MkMyMC4xMzEgNjEgMTcgNTcuODU4IDE3IDU0em0tNiAyMGMwLTMuODY2IDMuMTMzLTcgNi45OTItN2gxMDYuMDE2YzMuODYxIDAgNi45OTIgMy4xNDIgNi45OTIgNyAwIDMuODY2LTMuMTMzIDctNi45OTIgN0gxNy45OTJDMTQuMTMxIDgxIDExIDc3Ljg1OCAxMSA3NHpNNSA5NGMwLTMuODY2IDMuMTMzLTcgNi45OTItN2gxMDYuMDE2YzMuODYxIDAgNi45OTIgMy4xNDIgNi45OTIgNyAwIDMuODY2LTMuMTMzIDctNi45OTIgN0gxMS45OTJDOC4xMzEgMTAxIDUgOTcuODU4IDUgOTR6XCIsXG4gICAgZmlsbDogY29sb3IsXG4gICAgZmlsbE9wYWNpdHk6IFwiLjFcIlxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEzMCA2MWE3IDcgMCAxIDEgMC0xNCA3IDcgMCAwIDEgMCAxNHptLTYgMjBhNyA3IDAgMSAxIDAtMTQgNyA3IDAgMCAxIDAgMTR6bTAtMmE1IDUgMCAxIDAgMC0xMCA1IDUgMCAwIDAgMCAxMHptLTYgMjJhNyA3IDAgMSAxIDAtMTQgNyA3IDAgMCAxIDAgMTR6XCIsXG4gICAgZmlsbDogY29sb3JcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMTcuOTQ0IDk1LjE4OWwzLjIxNS0zLjgzMmEuOTk2Ljk5NiAwIDAgMSAxLjQwNy0uMTIxYy40MjMuMzU1LjQ3NS45OS4xMjYgMS40MDZsLTMuODYxIDQuNmEuOTkzLjk5MyAwIDAgMS0xLjQuMTI4bC0zLjA3OC0yLjU4M2EuOTkzLjk5MyAwIDAgMS0uMTE2LTEuNDAzIDEgMSAwIDAgMSAxLjQwMS0uMTNsMi4zMDYgMS45MzV6bTEyLTQwbDMuMjE1LTMuODMyYS45OTYuOTk2IDAgMCAxIDEuNDA3LS4xMjFjLjQyMy4zNTUuNDc1Ljk5LjEyNiAxLjQwNmwtMy44NjEgNC42YS45OTMuOTkzIDAgMCAxLTEuNC4xMjhsLTMuMDc4LTIuNTgzYS45OTMuOTkzIDAgMCAxLS4xMTYtMS40MDMgMSAxIDAgMCAxIDEuNDAxLS4xM2wyLjMwNiAxLjkzNXpcIixcbiAgICBmaWxsOiBcIiNGRkZcIlxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTI1IDM4LjQ5YzAtLjgyMy42NjgtMS40OSAxLjUwOS0xLjQ5SDU0Ljc3Yy44MzMgMCAxLjc4OC42MDUgMi4xMzkgMS4zNjVsMy4yMDcgNi45NDJjLjM0OC43NTQtLjAzNiAxLjM2NS0uODYgMS4zNjVIMjYuNDkxYy0uODI0IDAtMS40OTEtLjY2NS0xLjQ5MS0xLjQ5VjM4LjQ5elwiLFxuICAgIGZpbGw6IFwiI0ZGRlwiLFxuICAgIHN0cm9rZTogY29sb3IsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjcgNDAuNDljMC0uODIzLjY2OC0xLjQ5IDEuNDk0LTEuNDloMjUuMTY0Yy44MjUgMCAxLjc1MS42MiAyLjA3IDEuMzg2bDIuODY5IDYuOWMuMzE4Ljc2Ni0uMDk2IDEuMzg2LS45MzMgMS4zODZIMjguNTFBMS40OTggMS40OTggMCAwIDEgMjcgNDcuMTgyVjQwLjQ5elwiLFxuICAgIGZpbGw6IFwiIzIyQTdGMFwiLFxuICAgIGZpbGxPcGFjaXR5OiBcIi4xXCJcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICBmaWxsOiBcIiNGRkZcIixcbiAgICBoZWlnaHQ6IFwiNTMuMTk3XCIsXG4gICAgcng6IFwiMS41XCIsXG4gICAgc3Ryb2tlOiBjb2xvcixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgd2lkdGg6IFwiODBcIixcbiAgICB4OiBcIjI1XCIsXG4gICAgeTogXCI0M1wiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjcgODIuMjE0YzAtLjgyNy42NTctMS4zNCAxLjQ3NS0xLjE4NSAwIDAgMy42MTQgMS4yNjggMjMuODU4IDEuMjY4IDEyLjU4NSAwIDE4LjE2NSAzLjMxMiAyNS4zMzQgMy4zMTIgMTQuNDk5IDAgMjMuOTU0LTQuMzMxIDIzLjk1NC00LjMzMS43NjItLjMxIDEuMzc5LjExNSAxLjM3OS45MzZ2MTAuMjg0YzAgLjgyNy0uNjggMS40OTctMS41MDEgMS40OTdIMjguNTAxQTEuNTAzIDEuNTAzIDAgMCAxIDI3IDkyLjQ5OFY4Mi4yMTR6XCIsXG4gICAgZmlsbDogY29sb3IsXG4gICAgZmlsbE9wYWNpdHk6IFwiLjFcIlxuICB9KSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbkFkZE1ldGFkYXRhRW1wdHlTdGF0ZTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgSWNvbkFkZE1ldGFkYXRhRW1wdHlTdGF0ZSBmcm9tICcuLi8uLi9pY29ucy9nZW5lcmFsL0ljb25BZGRNZXRhZGF0YUVtcHR5U3RhdGUnO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0ICcuL0VtcHR5Q29udGVudC5zY3NzJztcblxudmFyIEVtcHR5Q29udGVudCA9IGZ1bmN0aW9uIEVtcHR5Q29udGVudChfcmVmKSB7XG4gIHZhciBjYW5BZGQgPSBfcmVmLmNhbkFkZDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3Itbm8taW5zdGFuY2VzXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQWRkTWV0YWRhdGFFbXB0eVN0YXRlLCBudWxsKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3Itbm8taW5zdGFuY2VzLS1jYWxsLW91dFwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMubm9NZXRhZGF0YSkpLCBjYW5BZGQgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3Itbm8taW5zdGFuY2VzLS1ob3ctYWRkLXRlbXBsYXRlXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5ub01ldGFkYXRhQWRkVGVtcGxhdGUpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBFbXB0eUNvbnRlbnQ7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEN1c3RvbU5ld0ZpZWxkIGZyb20gJy4vQ3VzdG9tSW5zdGFuY2VOZXdGaWVsZCc7XG5pbXBvcnQgQ3VzdG9tRmllbGQgZnJvbSAnLi9maWVsZHMvQ3VzdG9tRmllbGQnO1xuaW1wb3J0IEVtcHR5Q29udGVudCBmcm9tICcuL0VtcHR5Q29udGVudCc7XG5pbXBvcnQgeyBGSUVMRF9UWVBFX1NUUklORyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxudmFyIEN1c3RvbUluc3RhbmNlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ3VzdG9tSW5zdGFuY2UsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDdXN0b21JbnN0YW5jZShwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDdXN0b21JbnN0YW5jZSk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDdXN0b21JbnN0YW5jZSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uRmllbGRDaGFuZ2VcIiwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNhbkVkaXQgPSBfdGhpcyRwcm9wcy5jYW5FZGl0LFxuICAgICAgICAgIG9uRmllbGRDaGFuZ2UgPSBfdGhpcyRwcm9wcy5vbkZpZWxkQ2hhbmdlO1xuXG4gICAgICBpZiAoY2FuRWRpdCAmJiBvbkZpZWxkQ2hhbmdlKSB7XG4gICAgICAgIG9uRmllbGRDaGFuZ2Uoa2V5LCB2YWx1ZSwgRklFTERfVFlQRV9TVFJJTkcpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uRmllbGRSZW1vdmVcIiwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNhbkVkaXQgPSBfdGhpcyRwcm9wczIuY2FuRWRpdCxcbiAgICAgICAgICBvbkZpZWxkUmVtb3ZlID0gX3RoaXMkcHJvcHMyLm9uRmllbGRSZW1vdmU7XG5cbiAgICAgIGlmIChjYW5FZGl0ICYmIG9uRmllbGRSZW1vdmUpIHtcbiAgICAgICAgb25GaWVsZFJlbW92ZShrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uQWRkRmllbGRUb2dnbGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzQWRkRmllbGRWaXNpYmxlOiAhcHJldlN0YXRlLmlzQWRkRmllbGRWaXNpYmxlXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaXNBZGRGaWVsZFZpc2libGU6IGZhbHNlLFxuICAgICAgcHJvcGVydGllczogX29iamVjdFNwcmVhZCh7fSwgcHJvcHMuZGF0YSlcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDdXN0b21JbnN0YW5jZSwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzQWRkRmllbGRWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgcHJvcGVydGllczogX29iamVjdFNwcmVhZCh7fSwgbmV4dFByb3BzLmRhdGEpXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcy91cGRhdGVzIGEgbmV3IG1ldGFkYXRhIGtleSB2YWx1ZSBwYWlyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gbWV0YWRhdGEga2V5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gbWV0YWRhdGEgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgY2FuRWRpdCA9IHRoaXMucHJvcHMuY2FuRWRpdDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgaXNBZGRGaWVsZFZpc2libGUgPSBfdGhpcyRzdGF0ZS5pc0FkZEZpZWxkVmlzaWJsZSxcbiAgICAgICAgICBwcm9wZXJ0aWVzID0gX3RoaXMkc3RhdGUucHJvcGVydGllcztcbiAgICAgIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKTtcbiAgICAgIHZhciBjYW5BZGRGaWVsZHMgPSBjYW5FZGl0ICYmIChpc0FkZEZpZWxkVmlzaWJsZSB8fCBmaWVsZHMubGVuZ3RoID09PSAwKTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBmaWVsZHMubWFwKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbUZpZWxkLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgY2FuRWRpdDogY2FuRWRpdCxcbiAgICAgICAgICBkYXRhS2V5OiBrZXksXG4gICAgICAgICAgZGF0YVZhbHVlOiBwcm9wZXJ0aWVzW2tleV0sXG4gICAgICAgICAgaXNMYXN0OiAhaXNBZGRGaWVsZFZpc2libGUgJiYgaW5kZXggPT09IGZpZWxkcy5sZW5ndGggLSAxLFxuICAgICAgICAgIG9uQWRkOiBfdGhpczIub25BZGRGaWVsZFRvZ2dsZSxcbiAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLm9uRmllbGRDaGFuZ2UsXG4gICAgICAgICAgb25SZW1vdmU6IF90aGlzMi5vbkZpZWxkUmVtb3ZlXG4gICAgICAgIH0pO1xuICAgICAgfSksICFjYW5BZGRGaWVsZHMgJiYgZmllbGRzLmxlbmd0aCA9PT0gMCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEVtcHR5Q29udGVudCwgbnVsbCksIGNhbkFkZEZpZWxkcyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbU5ld0ZpZWxkLCB7XG4gICAgICAgIGlzQ2FuY2VsbGFibGU6IGZpZWxkcy5sZW5ndGggIT09IDAsXG4gICAgICAgIG9uQWRkOiB0aGlzLm9uRmllbGRDaGFuZ2UsXG4gICAgICAgIG9uQ2FuY2VsOiB0aGlzLm9uQWRkRmllbGRUb2dnbGUsXG4gICAgICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcHMuZGF0YVxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDdXN0b21JbnN0YW5jZTtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShDdXN0b21JbnN0YW5jZSwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBjYW5FZGl0OiB0cnVlLFxuICBkYXRhOiB7fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbUluc3RhbmNlOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9idXR0b24vQnV0dG9uJztcbmltcG9ydCBQcmltYXJ5QnV0dG9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcHJpbWFyeS1idXR0b24vUHJpbWFyeUJ1dHRvbic7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgJy4vTWV0YWRhdGFJbnN0YW5jZUNvbmZpcm1EaWFsb2cuc2Nzcyc7XG5cbnZhciBNZXRhZGF0YUluc3RhbmNlQ29uZmlybURpYWxvZyA9IGZ1bmN0aW9uIE1ldGFkYXRhSW5zdGFuY2VDb25maXJtRGlhbG9nKF9yZWYpIHtcbiAgdmFyIG9uQ2FuY2VsID0gX3JlZi5vbkNhbmNlbCxcbiAgICAgIG9uQ29uZmlybSA9IF9yZWYub25Db25maXJtLFxuICAgICAgY29uZmlybWF0aW9uTWVzc2FnZSA9IF9yZWYuY29uZmlybWF0aW9uTWVzc2FnZTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1jb25maXJtLWNvdmVyXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1ldGFkYXRhLWluc3RhbmNlLWNvbmZpbS1jb250YWluZXJcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1ldGFkYXRhLWluc3RhbmNlLWNvbmZpcm0tdGV4dFwiXG4gIH0sIGNvbmZpcm1hdGlvbk1lc3NhZ2UpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtY29uZmlybS1idXR0b25zXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFwibWV0YWRhdGEtY29uZmlybWNhbmNlbFwiLFxuICAgIG9uQ2xpY2s6IG9uQ2FuY2VsLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5tZXRhZGF0YUNhbmNlbCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFByaW1hcnlCdXR0b24sIHtcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFwibWV0YWRhdGEtY29uZmlybXJlbW92ZVwiLFxuICAgIG9uQ2xpY2s6IG9uQ29uZmlybSxcbiAgICB0eXBlOiBcImJ1dHRvblwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuY3VzdG9tUmVtb3ZlKSkpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNZXRhZGF0YUluc3RhbmNlQ29uZmlybURpYWxvZzsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYnV0dG9uL0J1dHRvbic7XG5pbXBvcnQgUGxhaW5CdXR0b24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9wbGFpbi1idXR0b24vUGxhaW5CdXR0b24nO1xuaW1wb3J0IFByaW1hcnlCdXR0b24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9wcmltYXJ5LWJ1dHRvbi9QcmltYXJ5QnV0dG9uJztcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCAnLi9Gb290ZXIuc2Nzcyc7XG5cbnZhciBGb290ZXIgPSBmdW5jdGlvbiBGb290ZXIoX3JlZikge1xuICB2YXIgb25DYW5jZWwgPSBfcmVmLm9uQ2FuY2VsLFxuICAgICAgb25SZW1vdmUgPSBfcmVmLm9uUmVtb3ZlLFxuICAgICAgb25TYXZlID0gX3JlZi5vblNhdmU7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWZvb3RlclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3ItZm9vdGVyLWRlbGV0ZVwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhaW5CdXR0b24sIHtcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFwibWV0YWRhdGEtaW5zdGFuY2VyZW1vdmVcIixcbiAgICBvbkNsaWNrOiBvblJlbW92ZSxcbiAgICB0eXBlOiBcImJ1dHRvblwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMubWV0YWRhdGFSZW1vdmVUZW1wbGF0ZSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1ldGFkYXRhLWluc3RhbmNlLWVkaXRvci1mb290ZXItc2F2ZS1jYW5jZWxcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogXCJtZXRhZGF0YS1pbnN0YW5jZWNhbmNlbFwiLFxuICAgIG9uQ2xpY2s6IG9uQ2FuY2VsLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5tZXRhZGF0YUNhbmNlbCkpLCBvblNhdmUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChQcmltYXJ5QnV0dG9uLCB7XG4gICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBcIm1ldGFkYXRhLWluc3RhbmNlc2F2ZVwiLFxuICAgIG9uQ2xpY2s6IG9uU2F2ZSxcbiAgICB0eXBlOiBcImJ1dHRvblwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMubWV0YWRhdGFTYXZlKSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvb3RlcjsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJztcbmltcG9ydCBjbG9uZURlZXAgZnJvbSAnbG9kYXNoL2Nsb25lRGVlcCc7XG5pbXBvcnQgQ29sbGFwc2libGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb2xsYXBzaWJsZS9Db2xsYXBzaWJsZSc7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvcldyYXBwZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9sb2FkaW5nLWluZGljYXRvci9Mb2FkaW5nSW5kaWNhdG9yV3JhcHBlcic7XG5pbXBvcnQgUGxhaW5CdXR0b24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9wbGFpbi1idXR0b24vUGxhaW5CdXR0b24nO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi4vLi4vY29tcG9uZW50cy90b29sdGlwJztcbmltcG9ydCBJY29uTWV0YWRhdGFDb2xvcmVkIGZyb20gJy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbk1ldGFkYXRhQ29sb3JlZCc7XG5pbXBvcnQgSWNvbkFsZXJ0Q2lyY2xlIGZyb20gJy4uLy4uL2ljb25zL2dlbmVyYWwvSWNvbkFsZXJ0Q2lyY2xlJztcbmltcG9ydCBJY29uRWRpdCBmcm9tICcuLi8uLi9pY29ucy9nZW5lcmFsL0ljb25FZGl0JztcbmltcG9ydCB7IGtpbmdDcmltc29uIH0gZnJvbSAnLi4vLi4vc3R5bGVzL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBzY3JvbGxJbnRvVmlldyB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbSc7XG5pbXBvcnQgQ2FzY2FkZVBvbGljeSBmcm9tICcuL0Nhc2NhZGVQb2xpY3knO1xuaW1wb3J0IFRlbXBsYXRlZEluc3RhbmNlIGZyb20gJy4vVGVtcGxhdGVkSW5zdGFuY2UnO1xuaW1wb3J0IEN1c3RvbUluc3RhbmNlIGZyb20gJy4vQ3VzdG9tSW5zdGFuY2UnO1xuaW1wb3J0IE1ldGFkYXRhSW5zdGFuY2VDb25maXJtRGlhbG9nIGZyb20gJy4vTWV0YWRhdGFJbnN0YW5jZUNvbmZpcm1EaWFsb2cnO1xuaW1wb3J0IEZvb3RlciBmcm9tICcuL0Zvb3Rlcic7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBGSUVMRF9UWVBFX0ZMT0FULCBGSUVMRF9UWVBFX0lOVEVHRVIsIFRFTVBMQVRFX0NVU1RPTV9QUk9QRVJUSUVTLCBKU09OX1BBVENIX09QX1JFTU9WRSwgSlNPTl9QQVRDSF9PUF9BREQsIEpTT05fUEFUQ0hfT1BfUkVQTEFDRSwgSlNPTl9QQVRDSF9PUF9URVNUIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNWYWxpZFZhbHVlIH0gZnJvbSAnLi9maWVsZHMvdmFsaWRhdGVGaWVsZCc7XG5pbXBvcnQgaXNIaWRkZW4gZnJvbSAnLi9tZXRhZGF0YVV0aWwnO1xuaW1wb3J0IHsgUkVTSU5fVEFHX1RBUkdFVCB9IGZyb20gJy4uLy4uL2NvbW1vbi92YXJpYWJsZXMnO1xuaW1wb3J0ICcuL0luc3RhbmNlLnNjc3MnO1xuXG52YXIgY3JlYXRlRmllbGRLZXlUb1R5cGVNYXAgPSBmdW5jdGlvbiBjcmVhdGVGaWVsZEtleVRvVHlwZU1hcCgpIHtcbiAgdmFyIGZpZWxkcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gIHJldHVybiBmaWVsZHMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBfcmVmKSB7XG4gICAgdmFyIGtleSA9IF9yZWYua2V5LFxuICAgICAgICB0eXBlID0gX3JlZi50eXBlO1xuICAgIHByZXZba2V5XSA9IHR5cGU7XG4gICAgcmV0dXJuIHByZXY7XG4gIH0sIHt9KTtcbn07XG5cbnZhciBnZXRWYWx1ZSA9IGZ1bmN0aW9uIGdldFZhbHVlKGRhdGEsIGtleSwgdHlwZSkge1xuICB2YXIgdmFsdWUgPSBkYXRhW2tleV07XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBGSUVMRF9UWVBFX0ZMT0FUOlxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuXG4gICAgY2FzZSBGSUVMRF9UWVBFX0lOVEVHRVI6XG4gICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbnZhciBJbnN0YW5jZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEluc3RhbmNlLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSW5zdGFuY2UocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5zdGFuY2UpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoSW5zdGFuY2UpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkNhbmNlbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzLmlkLFxuICAgICAgICAgIG9uTW9kaWZpY2F0aW9uID0gX3RoaXMkcHJvcHMub25Nb2RpZmljYXRpb247XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKF90aGlzLmdldFN0YXRlKF90aGlzLnByb3BzKSk7IC8vIENhbGxiYWNrIHRvIHBhcmVudCB0byB0ZWxsIHRoYXQgc29tZXRoaW5nIGlzIGRpcnR5XG5cblxuICAgICAgaWYgKG9uTW9kaWZpY2F0aW9uKSB7XG4gICAgICAgIG9uTW9kaWZpY2F0aW9uKGlkLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25Db25maXJtUmVtb3ZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvdWxkQ29uZmlybVJlbW92ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25Db25maXJtQ2FuY2VsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvdWxkQ29uZmlybVJlbW92ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uUmVtb3ZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuaXNFZGl0aW5nKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgaWQgPSBfdGhpcyRwcm9wczIuaWQsXG4gICAgICAgICAgb25SZW1vdmUgPSBfdGhpcyRwcm9wczIub25SZW1vdmU7XG5cbiAgICAgIGlmIChvblJlbW92ZSkge1xuICAgICAgICBvblJlbW92ZShpZCk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzQnVzeTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvblNhdmVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNhc2NhZGVQb2xpY3kgPSBfdGhpcyRwcm9wczMuY2FzY2FkZVBvbGljeSxcbiAgICAgICAgICBvcmlnaW5hbERhdGEgPSBfdGhpcyRwcm9wczMuZGF0YSxcbiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzMy5pZCxcbiAgICAgICAgICBpc0RpcnR5ID0gX3RoaXMkcHJvcHMzLmlzRGlydHksXG4gICAgICAgICAgaXNDYXNjYWRpbmdQb2xpY3lBcHBsaWNhYmxlID0gX3RoaXMkcHJvcHMzLmlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSxcbiAgICAgICAgICBvblNhdmUgPSBfdGhpcyRwcm9wczMub25TYXZlO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgY3VycmVudERhdGEgPSBfdGhpcyRzdGF0ZS5kYXRhLFxuICAgICAgICAgIGVycm9ycyA9IF90aGlzJHN0YXRlLmVycm9ycyxcbiAgICAgICAgICBpc0Nhc2NhZGluZ0VuYWJsZWQgPSBfdGhpcyRzdGF0ZS5pc0Nhc2NhZGluZ0VuYWJsZWQsXG4gICAgICAgICAgaXNDYXNjYWRpbmdPdmVyd3JpdHRlbiA9IF90aGlzJHN0YXRlLmlzQ2FzY2FkaW5nT3ZlcndyaXR0ZW47XG5cbiAgICAgIGlmICghX3RoaXMuaXNFZGl0aW5nKCkgfHwgIWlzRGlydHkgfHwgIW9uU2F2ZSB8fCBPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNCdXN5OiB0cnVlLFxuICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgICBzaG91bGRTaG93Q2FzY2FkZU9wdGlvbnM6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgb25TYXZlKGlkLCBfdGhpcy5jcmVhdGVKU09OUGF0Y2goY3VycmVudERhdGEsIG9yaWdpbmFsRGF0YSksIGlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSA/IHtcbiAgICAgICAgY2FuRWRpdDogY2FzY2FkZVBvbGljeSA/IGNhc2NhZGVQb2xpY3kuY2FuRWRpdCA6IGZhbHNlLFxuICAgICAgICBpZDogY2FzY2FkZVBvbGljeSA/IGNhc2NhZGVQb2xpY3kuaWQgOiB1bmRlZmluZWQsXG4gICAgICAgIGlzRW5hYmxlZDogaXNDYXNjYWRpbmdFbmFibGVkLFxuICAgICAgICBvdmVyd3JpdGU6IGlzQ2FzY2FkaW5nT3ZlcndyaXR0ZW5cbiAgICAgIH0gOiB1bmRlZmluZWQsIGNsb25lRGVlcChjdXJyZW50RGF0YSkpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uRmllbGRDaGFuZ2VcIiwgZnVuY3Rpb24gKGtleSwgdmFsdWUsIHR5cGUpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTIgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBkYXRhID0gX3RoaXMkc3RhdGUyLmRhdGEsXG4gICAgICAgICAgZXJyb3JzID0gX3RoaXMkc3RhdGUyLmVycm9yczsgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgZGF0YSBpcyB0aGUgc2FtZSBvciBub3QgaW4gZWRpdCBtb2RlXG5cbiAgICAgIGlmICghX3RoaXMuaXNFZGl0aW5nKCkgfHwgaXNFcXVhbChkYXRhW2tleV0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpc1ZhbGlkID0gaXNWYWxpZFZhbHVlKHR5cGUsIHZhbHVlKTtcblxuICAgICAgdmFyIGZpbmFsRXJyb3JzID0gX29iamVjdFNwcmVhZCh7fSwgZXJyb3JzKTtcblxuICAgICAgdmFyIGZpbmFsRGF0YSA9IGNsb25lRGVlcChkYXRhKTtcbiAgICAgIGZpbmFsRGF0YVtrZXldID0gdmFsdWU7XG5cbiAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgIGRlbGV0ZSBmaW5hbEVycm9yc1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxFcnJvcnNba2V5XSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuaW52YWxpZElucHV0KTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkYXRhOiBmaW5hbERhdGEsXG4gICAgICAgIGVycm9yczogZmluYWxFcnJvcnNcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0RGlydHkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkZpZWxkUmVtb3ZlXCIsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghX3RoaXMuaXNFZGl0aW5nKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3RoaXMkc3RhdGUzID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgZGF0YSA9IF90aGlzJHN0YXRlMy5kYXRhLFxuICAgICAgICAgIGVycm9ycyA9IF90aGlzJHN0YXRlMy5lcnJvcnM7XG4gICAgICB2YXIgZmluYWxEYXRhID0gY2xvbmVEZWVwKGRhdGEpO1xuXG4gICAgICB2YXIgZmluYWxFcnJvcnMgPSBfb2JqZWN0U3ByZWFkKHt9LCBlcnJvcnMpO1xuXG4gICAgICBkZWxldGUgZmluYWxEYXRhW2tleV07XG4gICAgICBkZWxldGUgZmluYWxFcnJvcnNba2V5XTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkYXRhOiBmaW5hbERhdGEsXG4gICAgICAgIGVycm9yczogZmluYWxFcnJvcnNcbiAgICAgIH0sIF90aGlzLnNldERpcnR5KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkNhc2NhZGVUb2dnbGVcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgaXNDYXNjYWRpbmdQb2xpY3lBcHBsaWNhYmxlID0gX3RoaXMucHJvcHMuaXNDYXNjYWRpbmdQb2xpY3lBcHBsaWNhYmxlO1xuXG4gICAgICBpZiAoIWlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNDYXNjYWRpbmdFbmFibGVkOiB2YWx1ZSxcbiAgICAgICAgc2hvdWxkU2hvd0Nhc2NhZGVPcHRpb25zOiB2YWx1ZVxuICAgICAgfSwgX3RoaXMuc2V0RGlydHkpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uQ2FzY2FkZU1vZGVDaGFuZ2VcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgaXNDYXNjYWRpbmdQb2xpY3lBcHBsaWNhYmxlID0gX3RoaXMucHJvcHMuaXNDYXNjYWRpbmdQb2xpY3lBcHBsaWNhYmxlO1xuXG4gICAgICBpZiAoIWlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNDYXNjYWRpbmdPdmVyd3JpdHRlbjogdmFsdWVcbiAgICAgIH0sIF90aGlzLnNldERpcnR5KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJyZW5kZXJEZWxldGVNZXNzYWdlXCIsIGZ1bmN0aW9uIChpc0ZpbGUsIHRlbXBsYXRlKSB7XG4gICAgICB2YXIgbWVzc2FnZTtcbiAgICAgIHZhciBpc1Byb3BlcnRpZXMgPSB0ZW1wbGF0ZS50ZW1wbGF0ZUtleSA9PT0gVEVNUExBVEVfQ1VTVE9NX1BST1BFUlRJRVM7XG5cbiAgICAgIGlmIChpc1Byb3BlcnRpZXMpIHtcbiAgICAgICAgbWVzc2FnZSA9IGlzRmlsZSA/ICdmaWxlTWV0YWRhdGFSZW1vdmVDdXN0b21UZW1wbGF0ZUNvbmZpcm0nIDogJ2ZvbGRlck1ldGFkYXRhUmVtb3ZlQ3VzdG9tVGVtcGxhdGVDb25maXJtJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBpc0ZpbGUgPyAnZmlsZU1ldGFkYXRhUmVtb3ZlVGVtcGxhdGVDb25maXJtJyA6ICdmb2xkZXJNZXRhZGF0YVJlbW92ZVRlbXBsYXRlQ29uZmlybSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIF9leHRlbmRzKHt9LCBtZXNzYWdlc1ttZXNzYWdlXSwge1xuICAgICAgICB2YWx1ZXM6IHtcbiAgICAgICAgICBtZXRhZGF0YU5hbWU6IHRlbXBsYXRlLmRpc3BsYXlOYW1lXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzZXREaXJ0eVwiLCBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGlkID0gX3RoaXMkcHJvcHM0LmlkLFxuICAgICAgICAgIGlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSA9IF90aGlzJHByb3BzNC5pc0Nhc2NhZGluZ1BvbGljeUFwcGxpY2FibGUsXG4gICAgICAgICAgb25Nb2RpZmljYXRpb24gPSBfdGhpcyRwcm9wczQub25Nb2RpZmljYXRpb247XG4gICAgICB2YXIgX3RoaXMkc3RhdGU0ID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgZGF0YSA9IF90aGlzJHN0YXRlNC5kYXRhLFxuICAgICAgICAgIGlzQ2FzY2FkaW5nRW5hYmxlZCA9IF90aGlzJHN0YXRlNC5pc0Nhc2NhZGluZ0VuYWJsZWQsXG4gICAgICAgICAgaXNDYXNjYWRpbmdPdmVyd3JpdHRlbiA9IF90aGlzJHN0YXRlNC5pc0Nhc2NhZGluZ092ZXJ3cml0dGVuO1xuICAgICAgdmFyIGhhc0RhdGFDaGFuZ2VkID0gIWlzRXF1YWwoZGF0YSwgX3RoaXMucHJvcHMuZGF0YSk7XG4gICAgICB2YXIgaGFzQ2FzY2FkaW5nQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAoaXNDYXNjYWRpbmdQb2xpY3lBcHBsaWNhYmxlKSB7XG4gICAgICAgIC8vIGlzQ2FzY2FkaW5nT3ZlcndyaXR0ZW4gYWx3YXlzIHN0YXJ0cyBvdXQgYXMgZmFsc2UsIHNvIHRydWUgc2lnbmlmaWVzIGEgY2hhbmdlXG4gICAgICAgIGhhc0Nhc2NhZGluZ0NoYW5nZWQgPSBpc0Nhc2NhZGluZ092ZXJ3cml0dGVuIHx8IGlzQ2FzY2FkaW5nRW5hYmxlZCAhPT0gX3RoaXMuaXNDYXNjYWRpbmdFbmFibGVkKF90aGlzLnByb3BzKTtcbiAgICAgIH0gLy8gQ2FsbGJhY2sgdG8gcGFyZW50IHRvIHRlbGwgdGhhdCBzb21ldGhpbmcgaXMgZGlydHlcblxuXG4gICAgICBpZiAob25Nb2RpZmljYXRpb24pIHtcbiAgICAgICAgb25Nb2RpZmljYXRpb24oaWQsIGhhc0RhdGFDaGFuZ2VkIHx8IGhhc0Nhc2NhZGluZ0NoYW5nZWQsIHR5cGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImNvbGxhcHNpYmxlUmVmXCIsIFJlYWN0LmNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJ0b2dnbGVJc0VkaXRpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzRWRpdGluZzogIXByZXZTdGF0ZS5pc0VkaXRpbmdcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInJlbmRlckVkaXRCdXR0b25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlzRGlydHkgPSBfdGhpcy5wcm9wcy5pc0RpcnR5O1xuICAgICAgdmFyIGlzQnVzeSA9IF90aGlzLnN0YXRlLmlzQnVzeTtcblxuICAgICAgdmFyIGNhbkVkaXQgPSBfdGhpcy5jYW5FZGl0KCk7XG5cbiAgICAgIHZhciBpc0VkaXRpbmcgPSBfdGhpcy5pc0VkaXRpbmcoKTtcblxuICAgICAgdmFyIGVkaXRDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3ItaW5zdGFuY2UtZWRpdCcsIHtcbiAgICAgICAgJ21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci1pbnN0YW5jZS1pcy1lZGl0aW5nJzogaXNFZGl0aW5nXG4gICAgICB9KTtcblxuICAgICAgaWYgKGNhbkVkaXQgJiYgIWlzRGlydHkgJiYgIWlzQnVzeSkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgICAgICAgcG9zaXRpb246IFwidG9wLWxlZnRcIixcbiAgICAgICAgICB0ZXh0OiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLm1ldGFkYXRhRWRpdFRvb2x0aXApXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhaW5CdXR0b24sIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGVkaXRDbGFzc05hbWUsXG4gICAgICAgICAgXCJkYXRhLXJlc2luLXRhcmdldFwiOiBcIm1ldGFkYXRhLWluc3RhbmNlZWRpdFwiLFxuICAgICAgICAgIG9uQ2xpY2s6IF90aGlzLnRvZ2dsZUlzRWRpdGluZyxcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkVkaXQsIG51bGwpKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSBfdGhpcy5nZXRTdGF0ZShwcm9wcyk7XG4gICAgX3RoaXMuZmllbGRLZXlUb1R5cGVNYXAgPSBjcmVhdGVGaWVsZEtleVRvVHlwZU1hcChwcm9wcy50ZW1wbGF0ZS5maWVsZHMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJbnN0YW5jZSwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIGhhc0Vycm9yID0gbmV4dFByb3BzLmhhc0Vycm9yLFxuICAgICAgICAgIGlzRGlydHkgPSBuZXh0UHJvcHMuaXNEaXJ0eTtcbiAgICAgIHZhciBpc0VkaXRpbmcgPSB0aGlzLnN0YXRlLmlzRWRpdGluZzsgLy8gVGhpcyBvbmx5IGhhbmRsZXMgY2FzZXMgd2hlbiBhbiBlcnJvciBvY2N1cnJlZFxuICAgICAgLy8gb3Igd2hlbiB0aGUgZGlydHkgc3RhdGUgb2YgdGhlIGluc3RhbmNlIGhhcyBjaGFuZ2VkLlxuICAgICAgLy8gVGhlIGRpcnR5IHN0YXRlIGNhbiBjaGFuZ2Ugd2hlbiBlaXRoZXJcbiAgICAgIC8vIHRoZSBtZXRhZGF0YSB3YXMgc2F2ZWQgT1Igd2hlbiB0aGUgbWV0YWRhdGEgbWFudWFsbHlcbiAgICAgIC8vIHJldmVydGVkIHRvIGl0cyBvcmlnaW5hbCBzdGF0ZS5cblxuICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgIC8vIElmIGhhc0Vycm9yIGlzIHRydWUsIHdoaWNoIG1lYW5zIGFuIGVycm9yIG9jY3VycmVkIHdoaWxlXG4gICAgICAgIC8vIGRvaW5nIGEgbmV0d29yayBvcGVyYXRpb24gYW5kIGhlbmNlIGhpZGUgdGhlIGJ1c3kgaW5kaWNhdG9yXG4gICAgICAgIC8vIFNhdmluZyBhbHNvIGRpc2FibGVzIGlzRWRpdGluZywgc28gbmVlZCB0byBlbmFibGUgdGhhdCBiYWNrLlxuICAgICAgICAvLyBpc0RpcnR5IHJlbWFpbnMgYXMgaXQgd2FzIGJlZm9yZS5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNCdXN5OiBmYWxzZSxcbiAgICAgICAgICBpc0VkaXRpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaXNEaXJ0eSAmJiAhaXNEaXJ0eSkge1xuICAgICAgICAvLyBJZiB0aGUgZm9ybSB3YXMgZGlydHkgYW5kIG5vdyBpdHMgbm90IGRpcnR5XG4gICAgICAgIC8vIHdlIGtub3cgYSBzdWNjZXNzZnVsIHNhdmUgbWF5IGhhdmUgaGFwcGVuZWQuXG4gICAgICAgIC8vIFdlIGRvbid0IG1vZGlmeSBpc0VkaXRpbmcgaGVyZSBiZWNhdXNlIHdlIG1haW50YWluIHRoZVxuICAgICAgICAvLyBwcmlvciBzdGF0ZSBmb3IgdGhhdC4gSWYgd2UgY2FtZSBoZXJlIGZyb20gYSBzYXZlXG4gICAgICAgIC8vIHN1Y2Nlc3MgdGhlbiBzYXZlIGFscmVhZHkgZGlzYWJsZWQgaXNFZGl0aW5nLlxuICAgICAgICBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICAgICAgLy8gV2UgYXJlIHN0aWxsIGVkaXRpbmcgc28gZG9uJ3QgcmVzZXQgaXRcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGb3IgYSBzdWNjZXNzZnVsbCBzYXZlIHdlIHJlc2V0IGNhc2NhZGluZyBvdmVyd3JpdGUgcmFkaW9cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgICAgICAgICBpc0Nhc2NhZGluZ092ZXJ3cml0dGVuOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuY29sbGFwc2libGVSZWYuY3VycmVudDtcblxuICAgICAgaWYgKGVsZW1lbnQgJiYgdGhpcy5zdGF0ZS5zaG91bGRDb25maXJtUmVtb3ZlKSB7XG4gICAgICAgIHNjcm9sbEludG9WaWV3KGVsZW1lbnQsIHtcbiAgICAgICAgICBibG9jazogJ3N0YXJ0JyxcbiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuZG8gYW55IGNoYW5nZXMgbWFkZVxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFN0YXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSBmcm9tIHByb3BzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC0gcmVhY3Qgc3RhdGVcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RhdGUocHJvcHMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IGNsb25lRGVlcChwcm9wcy5kYXRhKSxcbiAgICAgICAgZXJyb3JzOiB7fSxcbiAgICAgICAgaXNCdXN5OiBmYWxzZSxcbiAgICAgICAgaXNDYXNjYWRpbmdFbmFibGVkOiB0aGlzLmlzQ2FzY2FkaW5nRW5hYmxlZChwcm9wcyksXG4gICAgICAgIGlzQ2FzY2FkaW5nT3ZlcndyaXR0ZW46IGZhbHNlLFxuICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgICBzaG91bGRDb25maXJtUmVtb3ZlOiBmYWxzZSxcbiAgICAgICAgc2hvdWxkU2hvd0Nhc2NhZGVPcHRpb25zOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2FyZCB0aXRsZSB3aXRoIHBvc3NpYmxlIGVycm9yIG1hcmtcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gLSByZWFjdCB0aXRsZSBlbGVtZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUaXRsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIF90aGlzJHByb3BzNSRjYXNjYWRlUCA9IF90aGlzJHByb3BzNS5jYXNjYWRlUG9saWN5LFxuICAgICAgICAgIGNhc2NhZGVQb2xpY3kgPSBfdGhpcyRwcm9wczUkY2FzY2FkZVAgPT09IHZvaWQgMCA/IHt9IDogX3RoaXMkcHJvcHM1JGNhc2NhZGVQLFxuICAgICAgICAgIGhhc0Vycm9yID0gX3RoaXMkcHJvcHM1Lmhhc0Vycm9yLFxuICAgICAgICAgIGlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSA9IF90aGlzJHByb3BzNS5pc0Nhc2NhZGluZ1BvbGljeUFwcGxpY2FibGUsXG4gICAgICAgICAgdGVtcGxhdGUgPSBfdGhpcyRwcm9wczUudGVtcGxhdGU7XG4gICAgICB2YXIgaXNQcm9wZXJ0aWVzID0gdGVtcGxhdGUudGVtcGxhdGVLZXkgPT09IFRFTVBMQVRFX0NVU1RPTV9QUk9QRVJUSUVTO1xuICAgICAgdmFyIHR5cGUgPSBpc0Nhc2NhZGluZ1BvbGljeUFwcGxpY2FibGUgJiYgY2FzY2FkZVBvbGljeS5pZCA/ICdjYXNjYWRlJyA6ICdkZWZhdWx0JztcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3ItaW5zdGFuY2UtdGl0bGVcIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uTWV0YWRhdGFDb2xvcmVkLCB7XG4gICAgICAgIHR5cGU6IHR5cGVcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcygnbWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWluc3RhbmNlLXRpdGxlLXRleHQnLCB7XG4gICAgICAgICAgJ21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci1pbnN0YW5jZS1oYXMtZXJyb3InOiBoYXNFcnJvclxuICAgICAgICB9KVxuICAgICAgfSwgaXNQcm9wZXJ0aWVzID8gUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5jdXN0b21UaXRsZSkgOiB0ZW1wbGF0ZS5kaXNwbGF5TmFtZSksIGhhc0Vycm9yICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkFsZXJ0Q2lyY2xlLCB7XG4gICAgICAgIGNvbG9yOiBraW5nQ3JpbXNvblxuICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGNvcnJlY3QgZGVsZXRlIG1lc3NhZ2UgdG8gc2hvdyBiYXNlZCBvbiBjdXN0b20gbWV0YWRhdGEgYW5kIGZpbGUvZm9sZGVyIG1ldGFkYXRhXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb25maXJtYXRpb25NZXNzYWdlXCIsXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlbGV0ZSBjb25maXJtYXRpb24gbWVzc2FnZSBiYXNlIG9uIHRoZSB0ZW1wbGF0ZSBrZXlcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uTWVzc2FnZSgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHRlbXBsYXRlID0gX3RoaXMkcHJvcHM2LnRlbXBsYXRlLFxuICAgICAgICAgIGlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSA9IF90aGlzJHByb3BzNi5pc0Nhc2NhZGluZ1BvbGljeUFwcGxpY2FibGU7XG4gICAgICB2YXIgaXNGaWxlID0gIWlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZTtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlckRlbGV0ZU1lc3NhZ2UoaXNGaWxlLCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlcyBpZiB0aGUgbWV0YWRhdGEgd2FzIGNoYW5nZWQgb3IgY2FzY2FkaW5nIHBvbGljeVxuICAgICAqIGFsdGVyZWQgb3IgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0Nhc2NhZGluZ0VuYWJsZWRcIixcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2FzY2FkaW5nIHBvbGljeSBpcyBlbmFibGVkIGJhc2VkIG9uXG4gICAgICogd2hldGhlciBpdCBoYXMgYW4gaWQgb3Igbm90LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gY29tcG9uZW50IHByb3BzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBjYXNjYWRpbmcgcG9saWN5IGlzIGVuYWJsZWRcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDYXNjYWRpbmdFbmFibGVkKHByb3BzKSB7XG4gICAgICBpZiAocHJvcHMuY2FzY2FkZVBvbGljeSkge1xuICAgICAgICByZXR1cm4gISFwcm9wcy5jYXNjYWRlUG9saWN5LmlkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgdGhlIGVkaXQgbW9kZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlSlNPTlBhdGNoXCIsXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIEpTT04gUGF0Y2ggb3BlcmF0aW9ucyBmcm9tIHRoZSBwYXNzZWQgaW5cbiAgICAgKiBkYXRhIHdoaWxlIGNvbXBhcmluZyBpdCB0byB0aGUgb3JpZ2luYWwgZGF0YSBmcm9tIHByb3BzLlxuICAgICAqXG4gICAgICogT25seSBkaWZmcyBhdCB0aGUgcm9vdCBsZXZlbCBhbmQgcHJpbWl0aXZlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gY3VycmVudERhdGEgLSB0aGUgbGF0ZXN0IGNoYW5nZXMgYnkgdGhlIHVzZXJcbiAgICAgKiBAcGFyYW0geyp9IG9yaWdpbmFsRGF0YSAtIHRoZSBvcmlnaW5hbCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gLSBKU09OIHBhdGNoIG9wZXJhdGlvbnNcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlSlNPTlBhdGNoKGN1cnJlbnREYXRhLCBvcmlnaW5hbERhdGEpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgb3BzID0gW107XG4gICAgICB2YXIgZGF0YSA9IGNsb25lRGVlcChjdXJyZW50RGF0YSk7IC8vIGNsb25lIHRoZSBkYXRhIGZvciBtdXRhdGlvblxuICAgICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBvcmlnaW5hbCBkYXRhIGFuZCBmaW5kIGtleXMgdGhhdCBoYXZlIGNoYW5nZWQuXG4gICAgICAvLyBBbHNvIHJlbW92ZSB0aGVtIGZyb20gdGhlIGRhdGEgb2JqZWN0IHRvIG9ubHkgbGVhdmUgbmV3IGtleXMuXG5cbiAgICAgIE9iamVjdC5rZXlzKG9yaWdpbmFsRGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB0eXBlID0gX3RoaXMyLmZpZWxkS2V5VG9UeXBlTWFwW2tleV07XG4gICAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0VmFsdWUob3JpZ2luYWxEYXRhLCBrZXksIHR5cGUpO1xuICAgICAgICB2YXIgcGF0aCA9IFwiL1wiLmNvbmNhdChrZXkpO1xuXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKGRhdGEsIGtleSwgdHlwZSk7IC8vIE9ubHkgcmVnaXN0ZXIgY2hhbmdlZCBkYXRhXG5cbiAgICAgICAgICBpZiAoIWlzRXF1YWwodmFsdWUsIG9yaWdpbmFsVmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBBZGQgYSB0ZXN0IE9QIGZvciBlYWNoIHJlcGxhY2VzXG4gICAgICAgICAgICBvcHMucHVzaCh7XG4gICAgICAgICAgICAgIG9wOiBKU09OX1BBVENIX09QX1RFU1QsXG4gICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgIHZhbHVlOiBvcmlnaW5hbFZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgb3A6IEpTT05fUEFUQ0hfT1BfUkVQTEFDRSxcbiAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gS2V5IHdhcyByZW1vdmVkXG4gICAgICAgICAgLy8gQWRkIGEgdGVzdCBPUCBmb3IgcmVtb3Zlc1xuICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgIG9wOiBKU09OX1BBVENIX09QX1RFU1QsXG4gICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgdmFsdWU6IG9yaWdpbmFsVmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvcHMucHVzaCh7XG4gICAgICAgICAgICBvcDogSlNPTl9QQVRDSF9PUF9SRU1PVkUsXG4gICAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgICAgfSk7IC8vIEl0ZXJhdGUgb3ZlciB0aGUgcmVtYWluaW5nIGtleXMgdGhhdCBhcmUgbmV3LlxuXG4gICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBfdGhpczIuZmllbGRLZXlUb1R5cGVNYXBba2V5XTtcbiAgICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUoZGF0YSwga2V5LCB0eXBlKTtcbiAgICAgICAgb3BzLnB1c2goe1xuICAgICAgICAgIG9wOiBKU09OX1BBVENIX09QX0FERCxcbiAgICAgICAgICBwYXRoOiBcIi9cIi5jb25jYXQoa2V5KSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvcHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIGluc3RhbmNlIGlzIGVkaXRhYmxlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGVkaXRhYmxlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjYW5FZGl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkVkaXQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjYW5FZGl0ID0gX3RoaXMkcHJvcHM3LmNhbkVkaXQsXG4gICAgICAgICAgb25Nb2RpZmljYXRpb24gPSBfdGhpcyRwcm9wczcub25Nb2RpZmljYXRpb24sXG4gICAgICAgICAgb25SZW1vdmUgPSBfdGhpcyRwcm9wczcub25SZW1vdmUsXG4gICAgICAgICAgb25TYXZlID0gX3RoaXMkcHJvcHM3Lm9uU2F2ZTtcbiAgICAgIHJldHVybiBjYW5FZGl0ICYmIHR5cGVvZiBvblJlbW92ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb25TYXZlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvbk1vZGlmaWNhdGlvbiA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgaW5zdGFuY2UgaXMgaW4gZWRpdCBtb2RlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGVkaXRpbmdcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzRWRpdGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VkaXRpbmcoKSB7XG4gICAgICB2YXIgaXNFZGl0aW5nID0gdGhpcy5zdGF0ZS5pc0VkaXRpbmc7XG4gICAgICByZXR1cm4gdGhpcy5jYW5FZGl0KCkgJiYgaXNFZGl0aW5nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzOCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgX3RoaXMkcHJvcHM4JGNhc2NhZGVQID0gX3RoaXMkcHJvcHM4LmNhc2NhZGVQb2xpY3ksXG4gICAgICAgICAgY2FzY2FkZVBvbGljeSA9IF90aGlzJHByb3BzOCRjYXNjYWRlUCA9PT0gdm9pZCAwID8ge30gOiBfdGhpcyRwcm9wczgkY2FzY2FkZVAsXG4gICAgICAgICAgaXNEaXJ0eSA9IF90aGlzJHByb3BzOC5pc0RpcnR5LFxuICAgICAgICAgIGlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSA9IF90aGlzJHByb3BzOC5pc0Nhc2NhZGluZ1BvbGljeUFwcGxpY2FibGUsXG4gICAgICAgICAgaXNPcGVuID0gX3RoaXMkcHJvcHM4LmlzT3BlbixcbiAgICAgICAgICB0ZW1wbGF0ZSA9IF90aGlzJHByb3BzOC50ZW1wbGF0ZTtcbiAgICAgIHZhciBfdGVtcGxhdGUkZmllbGRzID0gdGVtcGxhdGUuZmllbGRzLFxuICAgICAgICAgIGZpZWxkcyA9IF90ZW1wbGF0ZSRmaWVsZHMgPT09IHZvaWQgMCA/IFtdIDogX3RlbXBsYXRlJGZpZWxkcztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGRhdGEgPSBfdGhpcyRzdGF0ZTUuZGF0YSxcbiAgICAgICAgICBlcnJvcnMgPSBfdGhpcyRzdGF0ZTUuZXJyb3JzLFxuICAgICAgICAgIGlzQnVzeSA9IF90aGlzJHN0YXRlNS5pc0J1c3ksXG4gICAgICAgICAgaXNDYXNjYWRpbmdFbmFibGVkID0gX3RoaXMkc3RhdGU1LmlzQ2FzY2FkaW5nRW5hYmxlZCxcbiAgICAgICAgICBzaG91bGRDb25maXJtUmVtb3ZlID0gX3RoaXMkc3RhdGU1LnNob3VsZENvbmZpcm1SZW1vdmUsXG4gICAgICAgICAgc2hvdWxkU2hvd0Nhc2NhZGVPcHRpb25zID0gX3RoaXMkc3RhdGU1LnNob3VsZFNob3dDYXNjYWRlT3B0aW9ucyxcbiAgICAgICAgICBpc0Nhc2NhZGluZ092ZXJ3cml0dGVuID0gX3RoaXMkc3RhdGU1LmlzQ2FzY2FkaW5nT3ZlcndyaXR0ZW47XG4gICAgICB2YXIgaXNQcm9wZXJ0aWVzID0gdGVtcGxhdGUudGVtcGxhdGVLZXkgPT09IFRFTVBMQVRFX0NVU1RPTV9QUk9QRVJUSUVTO1xuICAgICAgdmFyIGlzRWRpdGluZyA9IHRoaXMuaXNFZGl0aW5nKCk7XG5cbiAgICAgIGlmICghdGVtcGxhdGUgfHwgaXNIaWRkZW4odGVtcGxhdGUpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSAvLyBBbmltYXRlIHNob3J0IGFuZCB0YWxsIGNhcmRzIGF0IGNvbnNpc3RlbnQgc3BlZWRzLlxuXG5cbiAgICAgIHZhciBhbmltYXRpb25EdXJhdGlvbiA9IChmaWVsZHMubGVuZ3RoICsgMSkgKiA1MDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiB0aGlzLmNvbGxhcHNpYmxlUmVmXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbGxhcHNpYmxlLCB7XG4gICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgYnV0dG9uUHJvcHM6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgUkVTSU5fVEFHX1RBUkdFVCwgJ21ldGFkYXRhLWNhcmQnKSxcbiAgICAgICAgaGFzU3RpY2t5SGVhZGVyOiB0cnVlLFxuICAgICAgICBoZWFkZXJBY3Rpb25JdGVtczogdGhpcy5yZW5kZXJFZGl0QnV0dG9uKCksXG4gICAgICAgIGlzQm9yZGVyZWQ6IHRydWUsXG4gICAgICAgIGlzT3BlbjogaXNPcGVuLFxuICAgICAgICB0aXRsZTogdGhpcy5nZXRUaXRsZSgpXG4gICAgICB9LCBzaG91bGRDb25maXJtUmVtb3ZlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0luZGljYXRvcldyYXBwZXIsIHtcbiAgICAgICAgaXNMb2FkaW5nOiBpc0J1c3lcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWV0YWRhdGFJbnN0YW5jZUNvbmZpcm1EaWFsb2csIHtcbiAgICAgICAgY29uZmlybWF0aW9uTWVzc2FnZTogdGhpcy5nZXRDb25maXJtYXRpb25NZXNzYWdlKCksXG4gICAgICAgIG9uQ2FuY2VsOiB0aGlzLm9uQ29uZmlybUNhbmNlbCxcbiAgICAgICAgb25Db25maXJtOiB0aGlzLm9uUmVtb3ZlXG4gICAgICB9KSksICFzaG91bGRDb25maXJtUmVtb3ZlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0luZGljYXRvcldyYXBwZXIsIHtcbiAgICAgICAgaXNMb2FkaW5nOiBpc0J1c3lcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLWluc3RhbmNlXCJcbiAgICAgIH0sIGlzQ2FzY2FkaW5nUG9saWN5QXBwbGljYWJsZSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KENhc2NhZGVQb2xpY3ksIHtcbiAgICAgICAgY2FuRWRpdDogaXNFZGl0aW5nICYmICEhY2FzY2FkZVBvbGljeS5jYW5FZGl0LFxuICAgICAgICBpc0Nhc2NhZGluZ0VuYWJsZWQ6IGlzQ2FzY2FkaW5nRW5hYmxlZCxcbiAgICAgICAgaXNDYXNjYWRpbmdPdmVyd3JpdHRlbjogaXNDYXNjYWRpbmdPdmVyd3JpdHRlbixcbiAgICAgICAgaXNDdXN0b21NZXRhZGF0YTogaXNQcm9wZXJ0aWVzLFxuICAgICAgICBvbkNhc2NhZGVNb2RlQ2hhbmdlOiB0aGlzLm9uQ2FzY2FkZU1vZGVDaGFuZ2UsXG4gICAgICAgIG9uQ2FzY2FkZVRvZ2dsZTogdGhpcy5vbkNhc2NhZGVUb2dnbGUsXG4gICAgICAgIHNob3VsZFNob3dDYXNjYWRlT3B0aW9uczogc2hvdWxkU2hvd0Nhc2NhZGVPcHRpb25zXG4gICAgICB9KSwgaXNQcm9wZXJ0aWVzID8gUmVhY3QuY3JlYXRlRWxlbWVudChDdXN0b21JbnN0YW5jZSwge1xuICAgICAgICBjYW5FZGl0OiBpc0VkaXRpbmcsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIG9uRmllbGRDaGFuZ2U6IHRoaXMub25GaWVsZENoYW5nZSxcbiAgICAgICAgb25GaWVsZFJlbW92ZTogdGhpcy5vbkZpZWxkUmVtb3ZlXG4gICAgICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGVtcGxhdGVkSW5zdGFuY2UsIHtcbiAgICAgICAgY2FuRWRpdDogaXNFZGl0aW5nLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBlcnJvcnM6IGVycm9ycyxcbiAgICAgICAgb25GaWVsZENoYW5nZTogdGhpcy5vbkZpZWxkQ2hhbmdlLFxuICAgICAgICBvbkZpZWxkUmVtb3ZlOiB0aGlzLm9uRmllbGRSZW1vdmUsXG4gICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxuICAgICAgfSkpLCBpc0VkaXRpbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChGb290ZXIsIHtcbiAgICAgICAgb25DYW5jZWw6IHRoaXMub25DYW5jZWwsXG4gICAgICAgIG9uUmVtb3ZlOiB0aGlzLm9uQ29uZmlybVJlbW92ZSxcbiAgICAgICAgb25TYXZlOiBpc0RpcnR5ID8gdGhpcy5vblNhdmUgOiB1bmRlZmluZWRcbiAgICAgIH0pKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnN0YW5jZTtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShJbnN0YW5jZSwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBkYXRhOiB7fSxcbiAgaXNEaXJ0eTogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW5zdGFuY2UgZnJvbSAnLi9JbnN0YW5jZSc7XG5cbnZhciBJbnN0YW5jZXMgPSBmdW5jdGlvbiBJbnN0YW5jZXMoX3JlZikge1xuICB2YXIgX3JlZiRpc0Nhc2NhZGluZ1BvbGljID0gX3JlZi5pc0Nhc2NhZGluZ1BvbGljeUFwcGxpY2FibGUsXG4gICAgICBpc0Nhc2NhZGluZ1BvbGljeUFwcGxpY2FibGUgPSBfcmVmJGlzQ2FzY2FkaW5nUG9saWMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpc0Nhc2NhZGluZ1BvbGljLFxuICAgICAgX3JlZiRlZGl0b3JzID0gX3JlZi5lZGl0b3JzLFxuICAgICAgZWRpdG9ycyA9IF9yZWYkZWRpdG9ycyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJGVkaXRvcnMsXG4gICAgICBvbk1vZGlmaWNhdGlvbiA9IF9yZWYub25Nb2RpZmljYXRpb24sXG4gICAgICBvblJlbW92ZSA9IF9yZWYub25SZW1vdmUsXG4gICAgICBvblNhdmUgPSBfcmVmLm9uU2F2ZTtcbiAgcmV0dXJuIGVkaXRvcnMubWFwKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciBfcmVmMiRpc0RpcnR5ID0gX3JlZjIuaXNEaXJ0eSxcbiAgICAgICAgaXNEaXJ0eSA9IF9yZWYyJGlzRGlydHkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkaXNEaXJ0eSxcbiAgICAgICAgaW5zdGFuY2UgPSBfcmVmMi5pbnN0YW5jZSxcbiAgICAgICAgX3JlZjIkaGFzRXJyb3IgPSBfcmVmMi5oYXNFcnJvcixcbiAgICAgICAgaGFzRXJyb3IgPSBfcmVmMiRoYXNFcnJvciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMiRoYXNFcnJvcixcbiAgICAgICAgdGVtcGxhdGUgPSBfcmVmMi50ZW1wbGF0ZTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJbnN0YW5jZSwge1xuICAgICAgY2FuRWRpdDogaW5zdGFuY2UuY2FuRWRpdCxcbiAgICAgIGNhc2NhZGVQb2xpY3k6IGluc3RhbmNlLmNhc2NhZGVQb2xpY3ksXG4gICAgICBkYXRhOiBpbnN0YW5jZS5kYXRhLFxuICAgICAgaGFzRXJyb3I6IGhhc0Vycm9yLFxuICAgICAgaWQ6IGluc3RhbmNlLmlkLFxuICAgICAgaXNDYXNjYWRpbmdQb2xpY3lBcHBsaWNhYmxlOiBpc0Nhc2NhZGluZ1BvbGljeUFwcGxpY2FibGUsXG4gICAgICBpc0RpcnR5OiBpc0RpcnR5LFxuICAgICAgaXNPcGVuOiBlZGl0b3JzLmxlbmd0aCA9PT0gMSxcbiAgICAgIGtleTogXCJcIi5jb25jYXQoaW5zdGFuY2UuaWQsIFwiLVwiKS5jb25jYXQodGVtcGxhdGUudGVtcGxhdGVLZXkpLFxuICAgICAgb25Nb2RpZmljYXRpb246IG9uTW9kaWZpY2F0aW9uLFxuICAgICAgb25TYXZlOiBvblNhdmUsXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZXM7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjY2Vzc2libGVTVkcgZnJvbSAnLi4vYWNjZXNzaWJsZS1zdmcnO1xuaW1wb3J0IHsgc2lsdmVyQ2hhbGljZSB9IGZyb20gJy4uLy4uL3N0eWxlcy92YXJpYWJsZXMnO1xuXG52YXIgSWNvblNlYXJjaCA9IGZ1bmN0aW9uIEljb25TZWFyY2goX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnaWNvbi1zZWFyY2gnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gc2lsdmVyQ2hhbGljZSA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDE0IDogX3JlZiRoZWlnaHQsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gMTQgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tc2VhcmNoIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk0xMy43LDEyLjFMMTEuNiwxMGwtMS4xLTAuMmMwLjktMSwxLjQtMi40LDEuNC0zLjljMC0zLjMtMi43LTYtNi02QzIuNywwLDAsMi43LDAsNnMyLjcsNiw2LDYgYzEuNSwwLDIuOS0wLjYsNC0xLjVsMC4yLDFsMi4xLDIuMWMwLjQsMC40LDEsMC40LDEuNCwwbDAsMEMxNC4xLDEzLjEsMTQuMSwxMi41LDEzLjcsMTIuMXogTTYsMTAuNGMtMi41LDAtNC41LTItNC41LTQuNSBzMi00LjUsNC41LTQuNXM0LjUsMiw0LjUsNC41UzguNCwxMC40LDYsMTAuNHpcIixcbiAgICBmaWxsOiBjb2xvcixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvblNlYXJjaDsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZGVmaW5lTWVzc2FnZXMsIGluamVjdEludGwgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IG9taXQgZnJvbSAnbG9kYXNoL29taXQnO1xuaW1wb3J0IEljb25DbGVhciBmcm9tICcuLi8uLi9pY29ucy9nZW5lcmFsL0ljb25DbGVhcic7XG5pbXBvcnQgSWNvblNlYXJjaCBmcm9tICcuLi8uLi9pY29ucy9nZW5lcmFsL0ljb25TZWFyY2gnO1xuaW1wb3J0IG1ha2VMb2FkYWJsZSBmcm9tICcuLi9sb2FkaW5nLWluZGljYXRvci9tYWtlTG9hZGFibGUnO1xuaW1wb3J0ICcuL1NlYXJjaEZvcm0uc2Nzcyc7XG52YXIgbWVzc2FnZXMgPSBkZWZpbmVNZXNzYWdlcyh7XG4gIGNsZWFyQnV0dG9uVGl0bGU6IHtcbiAgICBcImlkXCI6IFwiYm94dWkuc2VhcmNoRm9ybS5jbGVhckJ1dHRvblRpdGxlXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIkNsZWFyXCJcbiAgfSxcbiAgc2VhcmNoQnV0dG9uVGl0bGU6IHtcbiAgICBcImlkXCI6IFwiYm94dWkuc2VhcmNoRm9ybS5zZWFyY2hCdXR0b25UaXRsZVwiLFxuICAgIFwiZGVmYXVsdE1lc3NhZ2VcIjogXCJTZWFyY2hcIlxuICB9LFxuICBzZWFyY2hMYWJlbDoge1xuICAgIFwiaWRcIjogXCJib3h1aS5zZWFyY2hGb3JtLnNlYXJjaExhYmVsXCIsXG4gICAgXCJkZWZhdWx0TWVzc2FnZVwiOiBcIlNlYXJjaCBxdWVyeVwiXG4gIH1cbn0pO1xuXG52YXIgU2VhcmNoRm9ybSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoU2VhcmNoRm9ybSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2VhcmNoRm9ybSgpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWFyY2hGb3JtKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFNlYXJjaEZvcm0pKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBpc0VtcHR5OiB0cnVlXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25DbGVhckhhbmRsZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgIHNob3VsZFByZXZlbnRDbGVhckV2ZW50UHJvcGFnYXRpb24gPSBfdGhpcyRwcm9wcy5zaG91bGRQcmV2ZW50Q2xlYXJFdmVudFByb3BhZ2F0aW9uO1xuXG4gICAgICBpZiAoc2hvdWxkUHJldmVudENsZWFyRXZlbnRQcm9wYWdhdGlvbikge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnNlYXJjaElucHV0KSB7XG4gICAgICAgIF90aGlzLnNlYXJjaElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNFbXB0eTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICBvbkNoYW5nZSgnJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25DaGFuZ2VIYW5kbGVyXCIsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gX3JlZi50YXJnZXQ7XG4gICAgICB2YXIgdmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0VtcHR5OiAhdmFsdWUgfHwgIXZhbHVlLnRyaW0oKS5sZW5ndGhcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgb25DaGFuZ2UodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uU3VibWl0SGFuZGxlclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGV2ZW50LnRhcmdldC5lbGVtZW50c1swXS52YWx1ZTtcbiAgICAgIHZhciBvblN1Ym1pdCA9IF90aGlzLnByb3BzLm9uU3VibWl0O1xuXG4gICAgICBpZiAob25TdWJtaXQpIHtcbiAgICAgICAgb25TdWJtaXQodmFsdWUsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzZXRJbnB1dFJlZlwiLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgX3RoaXMuc2VhcmNoSW5wdXQgPSBlbGVtZW50O1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMuZ2V0U2VhcmNoSW5wdXQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMuZ2V0U2VhcmNoSW5wdXQoX3RoaXMuc2VhcmNoSW5wdXQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNlYXJjaEZvcm0sIFt7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZTsgLy8gdXBkYXRlIHN0YXRlIGlmIGlucHV0IGlzIGNvbnRyb2xsZWQgYW5kIGJlY29tZXMgZW1wdHlcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgIXZhbHVlLnRyaW0oKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0VtcHR5OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFjdGlvbiA9IF90aGlzJHByb3BzMi5hY3Rpb24sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmNsYXNzTmFtZSxcbiAgICAgICAgICBpbnRsID0gX3RoaXMkcHJvcHMyLmludGwsXG4gICAgICAgICAgaXNMb2FkaW5nID0gX3RoaXMkcHJvcHMyLmlzTG9hZGluZyxcbiAgICAgICAgICBtZXRob2QgPSBfdGhpcyRwcm9wczIubWV0aG9kLFxuICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczIubmFtZSxcbiAgICAgICAgICBxdWVyeVBhcmFtcyA9IF90aGlzJHByb3BzMi5xdWVyeVBhcmFtcyxcbiAgICAgICAgICB1c2VDbGVhckJ1dHRvbiA9IF90aGlzJHByb3BzMi51c2VDbGVhckJ1dHRvbixcbiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzMiwgW1wiYWN0aW9uXCIsIFwiY2xhc3NOYW1lXCIsIFwiaW50bFwiLCBcImlzTG9hZGluZ1wiLCBcIm1ldGhvZFwiLCBcIm5hbWVcIiwgXCJxdWVyeVBhcmFtc1wiLCBcInVzZUNsZWFyQnV0dG9uXCJdKTtcblxuICAgICAgdmFyIGlzRW1wdHkgPSB0aGlzLnN0YXRlLmlzRW1wdHk7XG4gICAgICB2YXIgaW5wdXRQcm9wcyA9IG9taXQocmVzdCwgWydnZXRTZWFyY2hJbnB1dCcsICdvbkNoYW5nZScsICdvblN1Ym1pdCcsICdyZXF1aXJlZCcsICdzaG91bGRQcmV2ZW50Q2xlYXJFdmVudFByb3BhZ2F0aW9uJ10pO1xuICAgICAgdmFyIGZvcm1hdE1lc3NhZ2UgPSBpbnRsLmZvcm1hdE1lc3NhZ2U7XG4gICAgICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMoY2xhc3NOYW1lLCAnc2VhcmNoLWlucHV0LWNvbnRhaW5lcicpO1xuICAgICAgdmFyIGZvcm1DbGFzc05hbWVzID0gY2xhc3NOYW1lcygnc2VhcmNoLWZvcm0nLCB7XG4gICAgICAgICdpcy1lbXB0eSc6IGlzRW1wdHksXG4gICAgICAgICd1c2UtY2xlYXItYnV0dG9uJzogdXNlQ2xlYXJCdXR0b25cbiAgICAgIH0pO1xuICAgICAgdmFyIGhpZGRlbklucHV0cyA9IE9iamVjdC5rZXlzKHF1ZXJ5UGFyYW1zKS5tYXAoZnVuY3Rpb24gKHBhcmFtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIG5hbWU6IHBhcmFtLFxuICAgICAgICAgIHR5cGU6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgdmFsdWU6IHF1ZXJ5UGFyYW1zW3BhcmFtXVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgU2VhcmNoQWN0aW9ucyA9IGZ1bmN0aW9uIFNlYXJjaEFjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiYWN0aW9uLWJ1dHRvbnNcIlxuICAgICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJhY3Rpb24tYnV0dG9uIHNlYXJjaC1idXR0b25cIixcbiAgICAgICAgICB0aXRsZTogZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5zZWFyY2hCdXR0b25UaXRsZSlcbiAgICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uU2VhcmNoLCBudWxsKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJhY3Rpb24tYnV0dG9uIGNsZWFyLWJ1dHRvblwiLFxuICAgICAgICAgIG9uQ2xpY2s6IF90aGlzMi5vbkNsZWFySGFuZGxlcixcbiAgICAgICAgICB0aXRsZTogZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5jbGVhckJ1dHRvblRpdGxlKSxcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkNsZWFyLCBudWxsKSkpO1xuICAgICAgfTtcblxuICAgICAgdmFyIExvYWRhYmxlU2VhcmNoQWN0aW9ucyA9IG1ha2VMb2FkYWJsZShTZWFyY2hBY3Rpb25zKTsgLy8gQE5PVEUgUHJldmVudCBlcnJvcnMgZnJvbSBSZWFjdCBhYm91dCBjb250cm9sbGVkIGlucHV0c1xuXG4gICAgICB2YXIgb25DaGFuZ2VTdHViID0gZnVuY3Rpb24gb25DaGFuZ2VTdHViKCkge307XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBjbGFzc05hbWU6IGZvcm1DbGFzc05hbWVzLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VIYW5kbGVyLFxuICAgICAgICBvblN1Ym1pdDogdGhpcy5vblN1Ym1pdEhhbmRsZXIsXG4gICAgICAgIHJvbGU6IFwic2VhcmNoXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgIHJlZjogdGhpcy5zZXRJbnB1dFJlZixcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuc2VhcmNoTGFiZWwpLFxuICAgICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJzZWFyY2gtaW5wdXRcIixcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlU3R1YixcbiAgICAgICAgdHlwZTogXCJzZWFyY2hcIlxuICAgICAgfSwgaW5wdXRQcm9wcykpLCBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRhYmxlU2VhcmNoQWN0aW9ucywge1xuICAgICAgICBpc0xvYWRpbmc6IGlzTG9hZGluZyxcbiAgICAgICAgbG9hZGluZ0luZGljYXRvclByb3BzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnc2VhcmNoLWZvcm0tbG9hZGluZy1pbmRpY2F0b3InXG4gICAgICAgIH1cbiAgICAgIH0pLCBoaWRkZW5JbnB1dHMpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2VhcmNoRm9ybTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KFNlYXJjaEZvcm0sIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgYWN0aW9uOiB1bmRlZmluZWQsXG4gIG1ldGhvZDogJ2dldCcsXG4gIG5hbWU6ICdzZWFyY2gnLFxuICBxdWVyeVBhcmFtczoge30sXG4gIHVzZUNsZWFyQnV0dG9uOiBmYWxzZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGluamVjdEludGwoU2VhcmNoRm9ybSk7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSwgaW5qZWN0SW50bCB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IERhdGFsaXN0SXRlbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2RhdGFsaXN0LWl0ZW0nO1xuaW1wb3J0IFNlbGVjdG9yRHJvcGRvd24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zZWxlY3Rvci1kcm9wZG93bic7XG5pbXBvcnQgU2VhcmNoRm9ybSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NlYXJjaC1mb3JtL1NlYXJjaEZvcm0nO1xuaW1wb3J0IFBsYWluQnV0dG9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcGxhaW4tYnV0dG9uJztcbmltcG9ydCBMb2FkaW5nSW5kaWNhdG9yIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbG9hZGluZy1pbmRpY2F0b3InO1xuaW1wb3J0IHsgRmx5b3V0LCBPdmVybGF5IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9mbHlvdXQnO1xuaW1wb3J0IE1lbnVUb2dnbGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9kcm9wZG93bi1tZW51L01lbnVUb2dnbGUnO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0IHsgVEVNUExBVEVfQ1VTVE9NX1BST1BFUlRJRVMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgJy4vVGVtcGxhdGVEcm9wZG93bi5zY3NzJztcblxudmFyIElucHV0Q29udGFpbmVyID0gZnVuY3Rpb24gSW5wdXRDb250YWluZXIoX3JlZikge1xuICB2YXIgX3JlZiRpbnB1dFByb3BzID0gX3JlZi5pbnB1dFByb3BzLFxuICAgICAgaW5wdXRQcm9wcyA9IF9yZWYkaW5wdXRQcm9wcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGlucHV0UHJvcHMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImlucHV0UHJvcHNcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNlYXJjaEZvcm0sIF9leHRlbmRzKHt9LCBpbnB1dFByb3BzLCByZXN0LCB7XG4gICAgc2hvdWxkUHJldmVudENsZWFyRXZlbnRQcm9wYWdhdGlvbjogdHJ1ZSxcbiAgICBcImRhdGEtcmVzaW4tdGFyZ2V0XCI6IFwibWV0YWRhdGEtdGVtcGxhdGVzZWFyY2hcIlxuICB9KSk7XG59O1xuXG52YXIgZ2V0QXZhaWxhYmxlVGVtcGxhdGVzID0gZnVuY3Rpb24gZ2V0QXZhaWxhYmxlVGVtcGxhdGVzKGFsbFRlbXBsYXRlcywgdXNlZFRlbXBsYXRlcykge1xuICByZXR1cm4gYWxsVGVtcGxhdGVzLmZpbHRlcihmdW5jdGlvbiAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdXNlZFRlbXBsYXRlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHVzZWRUZW1wbGF0ZSkge1xuICAgICAgcmV0dXJuIHVzZWRUZW1wbGF0ZS50ZW1wbGF0ZUtleSA9PT0gdGVtcGxhdGUudGVtcGxhdGVLZXkgJiYgdXNlZFRlbXBsYXRlLnNjb3BlID09PSB0ZW1wbGF0ZS5zY29wZTtcbiAgICB9KSA9PT0gLTE7XG4gIH0pO1xufTtcblxudmFyIFRlbXBsYXRlRHJvcGRvd24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUZW1wbGF0ZURyb3Bkb3duLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGVtcGxhdGVEcm9wZG93bihwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZW1wbGF0ZURyb3Bkb3duKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFRlbXBsYXRlRHJvcGRvd24pLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJnZXREcm9wZG93blwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBpc0Ryb3Bkb3duQnVzeSA9IF90aGlzJHByb3BzLmlzRHJvcGRvd25CdXN5LFxuICAgICAgICAgIG9uQWRkID0gX3RoaXMkcHJvcHMub25BZGQsXG4gICAgICAgICAgYWN0aXZlVGVtcGxhdGUgPSBfdGhpcyRwcm9wcy5hY3RpdmVUZW1wbGF0ZSxcbiAgICAgICAgICBkZWZhdWx0VGVtcGxhdGVJY29uID0gX3RoaXMkcHJvcHMuZGVmYXVsdFRlbXBsYXRlSWNvbixcbiAgICAgICAgICBhY3RpdmVUZW1wbGF0ZUljb24gPSBfdGhpcyRwcm9wcy5hY3RpdmVUZW1wbGF0ZUljb24sXG4gICAgICAgICAgYWxsVGVtcGxhdGVzID0gX3RoaXMkcHJvcHMudGVtcGxhdGVzLFxuICAgICAgICAgIHRpdGxlID0gX3RoaXMkcHJvcHMudGl0bGUsXG4gICAgICAgICAgdXNlZFRlbXBsYXRlcyA9IF90aGlzJHByb3BzLnVzZWRUZW1wbGF0ZXM7XG4gICAgICB2YXIgdGVtcGxhdGVzID0gX3RoaXMuc3RhdGUudGVtcGxhdGVzO1xuICAgICAgdmFyIGhhc1VudXNlZFRlbXBsYXRlcyA9IGdldEF2YWlsYWJsZVRlbXBsYXRlcyhhbGxUZW1wbGF0ZXMsIHVzZWRUZW1wbGF0ZXMpLmxlbmd0aCA+IDA7XG4gICAgICB2YXIgaGFzVGVtcGxhdGVzID0gYWxsVGVtcGxhdGVzLmxlbmd0aCA+IDA7XG4gICAgICB2YXIgaGFzUmVzdWx0cyA9IHRlbXBsYXRlcy5sZW5ndGggPiAwO1xuICAgICAgdmFyIGluZGljYXRvck9yTWVzc2FnZSA9IG51bGw7XG5cbiAgICAgIGlmIChpc0Ryb3Bkb3duQnVzeSkge1xuICAgICAgICBpbmRpY2F0b3JPck1lc3NhZ2UgPSBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdJbmRpY2F0b3IsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLXRlbXBsYXRlLW1lc3NhZ2UgdGVtcGxhdGUtZHJvcGRvd24tbG9hZGluZy1pbmRpY2F0b3JcIlxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIWhhc1RlbXBsYXRlcyB8fCAhaGFzVW51c2VkVGVtcGxhdGVzIHx8ICFoYXNSZXN1bHRzKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiAnJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghaGFzVGVtcGxhdGVzKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VzLm1ldGFkYXRhVGVtcGxhdGVzU2VydmVySGFzTm9UZW1wbGF0ZXM7XG4gICAgICAgIH0gZWxzZSBpZiAoIWhhc1VudXNlZFRlbXBsYXRlcykge1xuICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlcy5tZXRhZGF0YVRlbXBsYXRlc05vUmVtYWluaW5nVGVtcGxhdGVzO1xuICAgICAgICB9IGVsc2UgaWYgKCFoYXNSZXN1bHRzKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VzLm1ldGFkYXRhVGVtcGxhdGVzTm9SZXN1bHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kaWNhdG9yT3JNZXNzYWdlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3ItdGVtcGxhdGUtbWVzc2FnZVwiXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVuZGVyZWRUZW1wbGF0ZXMgPSB0ZW1wbGF0ZXMubWFwKGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgICAgICB2YXIgaXNUZW1wbGF0ZVNlbGVjdGVkID0gYWN0aXZlVGVtcGxhdGUgJiYgYWN0aXZlVGVtcGxhdGUuaWQgPT09IHRlbXBsYXRlLmlkO1xuICAgICAgICB2YXIgYnV0dG9uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygnbWV0YWRhdGEtdGVtcGxhdGUtZHJvcGRvd24tc2VsZWN0LXRlbXBsYXRlJywge1xuICAgICAgICAgICdtZXRhZGF0YS10ZW1wbGF0ZS1kcm9wZG93bi1pcy1zZWxlY3RlZCc6IGlzVGVtcGxhdGVTZWxlY3RlZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0YWxpc3RJdGVtLCB7XG4gICAgICAgICAga2V5OiB0ZW1wbGF0ZS5pZFxuICAgICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWluQnV0dG9uLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzc05hbWUsXG4gICAgICAgICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiXG4gICAgICAgIH0sIGlzVGVtcGxhdGVTZWxlY3RlZCA/IGFjdGl2ZVRlbXBsYXRlSWNvbiA6IGRlZmF1bHRUZW1wbGF0ZUljb24sIF90aGlzLmdldFRlbXBsYXRlTmFtZSh0ZW1wbGF0ZSkpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0b3JEcm9wZG93biwge1xuICAgICAgICBjbGFzc05hbWU6IFwibWV0YWRhdGEtaW5zdGFuY2UtZWRpdG9yLXRlbXBsYXRlLWRyb3Bkb3duLW1lbnVcIixcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICBpc0Fsd2F5c09wZW46IHRydWUsXG4gICAgICAgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdChpbmRleCkge1xuICAgICAgICAgIG9uQWRkKHRlbXBsYXRlc1tpbmRleF0pO1xuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RvcjogX3RoaXMuZ2V0U2VsZWN0b3IoKSxcbiAgICAgICAgc2hvdWxkU2Nyb2xsOiB0cnVlXG4gICAgICB9LCBpbmRpY2F0b3JPck1lc3NhZ2UgPyBudWxsIDogcmVuZGVyZWRUZW1wbGF0ZXMpLCBpbmRpY2F0b3JPck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImdldFNlbGVjdG9yXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbnRsID0gX3RoaXMucHJvcHMuaW50bDtcbiAgICAgIHZhciBmaWx0ZXJUZXh0ID0gX3RoaXMuc3RhdGUuZmlsdGVyVGV4dDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KElucHV0Q29udGFpbmVyLCB7XG4gICAgICAgIGxhYmVsOiBcIlwiLFxuICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlVXNlcklucHV0LFxuICAgICAgICBwbGFjZWhvbGRlcjogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLm1ldGFkYXRhVGVtcGxhdGVTZWFyY2hQbGFjZWhvbGRlciksXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICB1c2VDbGVhckJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZpbHRlclRleHRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImhhbmRsZVVzZXJJbnB1dFwiLCBmdW5jdGlvbiAodXNlcklucHV0KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYWxsVGVtcGxhdGVzID0gX3RoaXMkcHJvcHMyLnRlbXBsYXRlcyxcbiAgICAgICAgICB1c2VkVGVtcGxhdGVzID0gX3RoaXMkcHJvcHMyLnVzZWRUZW1wbGF0ZXM7XG4gICAgICB2YXIgZmlsdGVyVGV4dCA9IHVzZXJJbnB1dDtcbiAgICAgIHZhciB0ZW1wbGF0ZXMgPSBnZXRBdmFpbGFibGVUZW1wbGF0ZXMoYWxsVGVtcGxhdGVzLCB1c2VkVGVtcGxhdGVzKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmaWx0ZXJUZXh0OiBmaWx0ZXJUZXh0LFxuICAgICAgICB0ZW1wbGF0ZXM6IHRlbXBsYXRlcy5maWx0ZXIoZnVuY3Rpb24gKHRlbXBsYXRlKSB7XG4gICAgICAgICAgdmFyIGxhYmVsID0gdGVtcGxhdGUudGVtcGxhdGVLZXkgPT09IFRFTVBMQVRFX0NVU1RPTV9QUk9QRVJUSUVTID8gbWVzc2FnZXMuY3VzdG9tVGl0bGUuZGVmYXVsdE1lc3NhZ2UgOiB0ZW1wbGF0ZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICByZXR1cm4gbGFiZWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXJUZXh0LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25PcGVuXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkRyb3Bkb3duVG9nZ2xlID0gX3RoaXMkcHJvcHMzLm9uRHJvcGRvd25Ub2dnbGUsXG4gICAgICAgICAgdGVtcGxhdGVzID0gX3RoaXMkcHJvcHMzLnRlbXBsYXRlcyxcbiAgICAgICAgICB1c2VkVGVtcGxhdGVzID0gX3RoaXMkcHJvcHMzLnVzZWRUZW1wbGF0ZXM7XG5cbiAgICAgIGlmIChvbkRyb3Bkb3duVG9nZ2xlKSB7XG4gICAgICAgIG9uRHJvcGRvd25Ub2dnbGUodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEcm9wZG93bk9wZW46IHRydWUsXG4gICAgICAgIGZpbHRlclRleHQ6ICcnLFxuICAgICAgICB0ZW1wbGF0ZXM6IGdldEF2YWlsYWJsZVRlbXBsYXRlcyh0ZW1wbGF0ZXMsIHVzZWRUZW1wbGF0ZXMpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvbkNsb3NlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvbkRyb3Bkb3duVG9nZ2xlID0gX3RoaXMucHJvcHMub25Ecm9wZG93blRvZ2dsZTtcblxuICAgICAgaWYgKG9uRHJvcGRvd25Ub2dnbGUpIHtcbiAgICAgICAgb25Ecm9wZG93blRvZ2dsZShmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEcm9wZG93bk9wZW46IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJyZW5kZXJFbnRyeUJ1dHRvblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZW50cnlCdXR0b24gPSBfdGhpcy5wcm9wcy5lbnRyeUJ1dHRvbjtcbiAgICAgIHZhciBpc0Ryb3Bkb3duT3BlbiA9IF90aGlzLnN0YXRlLmlzRHJvcGRvd25PcGVuO1xuICAgICAgdmFyIGJ1dHRvblRvZ2dsZUNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ2xuaycsIHtcbiAgICAgICAgJ2lzLXRvZ2dsZWQnOiBpc0Ryb3Bkb3duT3BlblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlbnRyeUJ1dHRvbikge1xuICAgICAgICByZXR1cm4gZW50cnlCdXR0b247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWluQnV0dG9uLCB7XG4gICAgICAgIFwiZGF0YS1yZXNpbi10YXJnZXRcIjogXCJtZXRhZGF0YS10ZW1wbGF0ZWFkZG1lbnVcIixcbiAgICAgICAgY2xhc3NOYW1lOiBidXR0b25Ub2dnbGVDbGFzc05hbWUsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudVRvZ2dsZSwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5tZXRhZGF0YVRlbXBsYXRlQWRkKSkpO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc0Ryb3Bkb3duT3BlbjogZmFsc2UsXG4gICAgICBmaWx0ZXJUZXh0OiAnJyxcbiAgICAgIHRlbXBsYXRlczogZ2V0QXZhaWxhYmxlVGVtcGxhdGVzKHByb3BzLnRlbXBsYXRlcywgcHJvcHMudXNlZFRlbXBsYXRlcylcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG5leHRQcm9wcyAtIG5leHQgcHJvcHNcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVGVtcGxhdGVEcm9wZG93biwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRlbXBsYXRlczogZ2V0QXZhaWxhYmxlVGVtcGxhdGVzKG5leHRQcm9wcy50ZW1wbGF0ZXMsIG5leHRQcm9wcy51c2VkVGVtcGxhdGVzKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFRlbXBsYXRlTmFtZVwiLFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0ZW1wbGF0ZSBkaXNwbGF5IG5hbWUuXG4gICAgICogRm9yIGN1c3RvbSBtZXRhZGF0YSB3ZSBoYXZlIGl0IG9uIHRoZSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSZWFjdC5Ob2RlfSAtIHN0cmluZyBvciBmb3JtYXR0ZWQgbmFtZVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZU5hbWUodGVtcGxhdGUpIHtcbiAgICAgIHJldHVybiB0ZW1wbGF0ZS50ZW1wbGF0ZUtleSA9PT0gVEVNUExBVEVfQ1VTVE9NX1BST1BFUlRJRVMgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIF9leHRlbmRzKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInRlbXBsYXRlLWRpc3BsYXktbmFtZVwiXG4gICAgICB9LCBtZXNzYWdlcy5jdXN0b21UaXRsZSkpIDogUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ0ZW1wbGF0ZS1kaXNwbGF5LW5hbWVcIlxuICAgICAgfSwgdGVtcGxhdGUuZGlzcGxheU5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBmaWx0ZXIgdGV4dCBhbmQgZmlsdGVycyB0aGUgcmVzdWx0c1xuICAgICAqXG4gICAgICogQHBhcmFtIHtVc2VySW5wdXR9IHVzZXJJbnB1dCAtIGlucHV0IHZhbHVlIHJldHVybmVkIGZyb20gb25DaGFuZ2VIYW5kbGVyIGZyb20gU2VhcmNoRm9ybS5qc1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgICAgdmFyIGZseW91dENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci10ZW1wbGF0ZS1kcm9wZG93bi1mbHlvdXQnLCBjbGFzc05hbWUpO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmx5b3V0LCB7XG4gICAgICAgIGNsYXNzTmFtZTogZmx5b3V0Q2xhc3NOYW1lLFxuICAgICAgICBjbG9zZU9uQ2xpY2s6IHRydWUsXG4gICAgICAgIGNsb3NlT25DbGlja091dHNpZGU6IHRydWUsXG4gICAgICAgIG9uQ2xvc2U6IHRoaXMub25DbG9zZSxcbiAgICAgICAgb25PcGVuOiB0aGlzLm9uT3BlbixcbiAgICAgICAgcG9zaXRpb246IFwiYm90dG9tLWxlZnRcIixcbiAgICAgICAgc2hvdWxkRGVmYXVsdEZvY3VzOiB0cnVlXG4gICAgICB9LCB0aGlzLnJlbmRlckVudHJ5QnV0dG9uKCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3ZlcmxheSwgbnVsbCwgdGhpcy5nZXREcm9wZG93bigpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRlbXBsYXRlRHJvcGRvd247XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBUZW1wbGF0ZURyb3Bkb3duIGFzIFRlbXBsYXRlRHJvcGRvd25CYXNlIH07XG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKFRlbXBsYXRlRHJvcGRvd24pOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qKlxuICogXG4gKiBAZmlsZSBNZXRhZGF0YSBzaWRlYmFyIGNvbXBvbmVudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG5vb3AgZnJvbSAnbG9kYXNoL25vb3AnO1xuaW1wb3J0IGdldFByb3AgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgZmxvdyBmcm9tICdsb2Rhc2gvZmxvdyc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgSW5zdGFuY2VzIGZyb20gJy4uLy4uL2ZlYXR1cmVzL21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci9JbnN0YW5jZXMnO1xuaW1wb3J0IEVtcHR5Q29udGVudCBmcm9tICcuLi8uLi9mZWF0dXJlcy9tZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3IvRW1wdHlDb250ZW50JztcbmltcG9ydCBUZW1wbGF0ZURyb3Bkb3duIGZyb20gJy4uLy4uL2ZlYXR1cmVzL21ldGFkYXRhLWluc3RhbmNlLWVkaXRvci9UZW1wbGF0ZURyb3Bkb3duJztcbmltcG9ydCBMb2FkaW5nSW5kaWNhdG9yIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbG9hZGluZy1pbmRpY2F0b3IvTG9hZGluZ0luZGljYXRvcic7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvcldyYXBwZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9sb2FkaW5nLWluZGljYXRvci9Mb2FkaW5nSW5kaWNhdG9yV3JhcHBlcic7XG5pbXBvcnQgSW5saW5lRXJyb3IgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9pbmxpbmUtZXJyb3IvSW5saW5lRXJyb3InO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uL2NvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyB3aXRoQVBJQ29udGV4dCB9IGZyb20gJy4uL2NvbW1vbi9hcGktY29udGV4dCc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL2NvbW1vbi9lcnJvci1ib3VuZGFyeSc7XG5pbXBvcnQgeyBpc1VzZXJDb3JyZWN0YWJsZUVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXJyb3InO1xuaW1wb3J0IEFQSSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0IHsgd2l0aExvZ2dlciB9IGZyb20gJy4uL2NvbW1vbi9sb2dnZXInO1xuaW1wb3J0IHsgbWFyayB9IGZyb20gJy4uLy4uL3V0aWxzL3BlcmZvcm1hbmNlJztcbmltcG9ydCB7IEVWRU5UX0pTX1JFQURZIH0gZnJvbSAnLi4vY29tbW9uL2xvZ2dlci9jb25zdGFudHMnO1xuaW1wb3J0IFNpZGViYXJDb250ZW50IGZyb20gJy4vU2lkZWJhckNvbnRlbnQnO1xuaW1wb3J0IFNpZGViYXJVdGlscyBmcm9tICcuL1NpZGViYXJVdGlscyc7XG5pbXBvcnQgeyBGSUVMRF9JU19FWFRFUk5BTExZX09XTkVELCBGSUVMRF9QRVJNSVNTSU9OUywgRklFTERfUEVSTUlTU0lPTlNfQ0FOX1VQTE9BRCwgSVNfRVJST1JfRElTUExBWUVELCBPUklHSU5fTUVUQURBVEFfU0lERUJBUiwgU0lERUJBUl9WSUVXX01FVEFEQVRBIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCAnLi9NZXRhZGF0YVNpZGViYXIuc2Nzcyc7XG52YXIgTUFSS19OQU1FX0pTX1JFQURZID0gXCJcIi5jb25jYXQoT1JJR0lOX01FVEFEQVRBX1NJREVCQVIsIFwiX1wiKS5jb25jYXQoRVZFTlRfSlNfUkVBRFkpO1xubWFyayhNQVJLX05BTUVfSlNfUkVBRFkpO1xuXG52YXIgTWV0YWRhdGFTaWRlYmFyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTWV0YWRhdGFTaWRlYmFyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTWV0YWRhdGFTaWRlYmFyKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1ldGFkYXRhU2lkZWJhcik7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihNZXRhZGF0YVNpZGViYXIpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25SZW1vdmVcIiwgZnVuY3Rpb24gKGlkKSB7XG4gICAgICB2YXIgYXBpID0gX3RoaXMucHJvcHMuYXBpO1xuICAgICAgdmFyIGZpbGUgPSBfdGhpcy5zdGF0ZS5maWxlO1xuXG4gICAgICB2YXIgZWRpdG9yID0gX3RoaXMuZ2V0RWRpdG9yKGlkKTtcblxuICAgICAgaWYgKCFlZGl0b3IgfHwgIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkuZ2V0TWV0YWRhdGFBUEkoZmFsc2UpLmRlbGV0ZU1ldGFkYXRhKGZpbGUsIGVkaXRvci50ZW1wbGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMub25SZW1vdmVTdWNjZXNzSGFuZGxlcihlZGl0b3IpO1xuICAgICAgfSwgX3RoaXMub25BcGlFcnJvcik7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25BZGRTdWNjZXNzSGFuZGxlclwiLCBmdW5jdGlvbiAoZWRpdG9yKSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUkZWRpdG9ycyA9IF90aGlzLnN0YXRlLmVkaXRvcnMsXG4gICAgICAgICAgZWRpdG9ycyA9IF90aGlzJHN0YXRlJGVkaXRvcnMgPT09IHZvaWQgMCA/IFtdIDogX3RoaXMkc3RhdGUkZWRpdG9ycztcbiAgICAgIHZhciBjbG9uZSA9IGVkaXRvcnMuc2xpY2UoMCk7XG4gICAgICBjbG9uZS5wdXNoKGVkaXRvcik7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZWRpdG9yczogY2xvbmUsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uQWRkXCIsIGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgICAgdmFyIGFwaSA9IF90aGlzLnByb3BzLmFwaTtcbiAgICAgIHZhciBmaWxlID0gX3RoaXMuc3RhdGUuZmlsZTtcblxuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBhcGkuZ2V0TWV0YWRhdGFBUEkoZmFsc2UpLmNyZWF0ZU1ldGFkYXRhKGZpbGUsIHRlbXBsYXRlLCBfdGhpcy5vbkFkZFN1Y2Nlc3NIYW5kbGVyLCBfdGhpcy5vbkFwaUVycm9yKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJvblNhdmVcIiwgZnVuY3Rpb24gKGlkLCBvcHMpIHtcbiAgICAgIHZhciBhcGkgPSBfdGhpcy5wcm9wcy5hcGk7XG4gICAgICB2YXIgZmlsZSA9IF90aGlzLnN0YXRlLmZpbGU7XG5cbiAgICAgIHZhciBvbGRFZGl0b3IgPSBfdGhpcy5nZXRFZGl0b3IoaWQpO1xuXG4gICAgICBpZiAoIW9sZEVkaXRvciB8fCAhZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS5nZXRNZXRhZGF0YUFQSShmYWxzZSkudXBkYXRlTWV0YWRhdGEoZmlsZSwgb2xkRWRpdG9yLnRlbXBsYXRlLCBvcHMsIGZ1bmN0aW9uIChuZXdFZGl0b3IpIHtcbiAgICAgICAgX3RoaXMucmVwbGFjZUVkaXRvcihvbGRFZGl0b3IsIG5ld0VkaXRvcik7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IsIGNvZGUpIHtcbiAgICAgICAgX3RoaXMub25TYXZlRXJyb3JIYW5kbGVyKG9sZEVkaXRvciwgZXJyb3IsIGNvZGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25Nb2RpZmljYXRpb25cIiwgZnVuY3Rpb24gKGlkLCBpc0RpcnR5KSB7XG4gICAgICB2YXIgb2xkRWRpdG9yID0gX3RoaXMuZ2V0RWRpdG9yKGlkKTtcblxuICAgICAgaWYgKCFvbGRFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3RWRpdG9yID0gX29iamVjdFNwcmVhZCh7fSwgb2xkRWRpdG9yLCB7XG4gICAgICAgIGlzRGlydHk6IGlzRGlydHlcbiAgICAgIH0pOyAvLyBzaGFsbG93IGNsb25lIHN1ZmZpY2VzIGZvciBpc0RpcnR5IHNldHRpbmdcblxuXG4gICAgICBfdGhpcy5yZXBsYWNlRWRpdG9yKG9sZEVkaXRvciwgbmV3RWRpdG9yKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJmZXRjaE1ldGFkYXRhRXJyb3JDYWxsYmFja1wiLCBmdW5jdGlvbiAoZSwgY29kZSkge1xuICAgICAgX3RoaXMub25BcGlFcnJvcihlLCBjb2RlLCB7XG4gICAgICAgIGVkaXRvcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgZXJyb3I6IG1lc3NhZ2VzLnNpZGViYXJNZXRhZGF0YUZldGNoaW5nRXJyb3JDb250ZW50LFxuICAgICAgICB0ZW1wbGF0ZXM6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZmV0Y2hNZXRhZGF0YVN1Y2Nlc3NDYWxsYmFja1wiLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGVkaXRvcnMgPSBfcmVmLmVkaXRvcnMsXG4gICAgICAgICAgdGVtcGxhdGVzID0gX3JlZi50ZW1wbGF0ZXM7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZWRpdG9yczogZWRpdG9ycy5zbGljZSgwKSxcbiAgICAgICAgLy8gY2xvbmVkIGZvciBwb3RlbnRpYWwgZWRpdGluZ1xuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICB0ZW1wbGF0ZXM6IHRlbXBsYXRlcy5zbGljZSgwKSAvLyBjbG9uZWQgZm9yIHBvdGVudGlhbCBlZGl0aW5nXG5cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImZldGNoRmlsZUVycm9yQ2FsbGJhY2tcIiwgZnVuY3Rpb24gKGUsIGNvZGUpIHtcbiAgICAgIF90aGlzLm9uQXBpRXJyb3IoZSwgY29kZSwge1xuICAgICAgICBlcnJvcjogbWVzc2FnZXMuc2lkZWJhckZpbGVGZXRjaGluZ0Vycm9yQ29udGVudCxcbiAgICAgICAgZmlsZTogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJmZXRjaEZpbGVTdWNjZXNzQ2FsbGJhY2tcIiwgZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgIHZhciBjdXJyZW50RmlsZSA9IF90aGlzLnN0YXRlLmZpbGU7XG4gICAgICB2YXIgY3VycmVudENhblVwbG9hZCA9IGdldFByb3AoY3VycmVudEZpbGUsIEZJRUxEX1BFUk1JU1NJT05TX0NBTl9VUExPQUQsIGZhbHNlKTtcbiAgICAgIHZhciBuZXdDYW5VcGxvYWQgPSBnZXRQcm9wKGZpbGUsIEZJRUxEX1BFUk1JU1NJT05TX0NBTl9VUExPQUQsIGZhbHNlKTtcbiAgICAgIHZhciBzaG91bGRGZXRjaE1ldGFkYXRhID0gIWN1cnJlbnRGaWxlIHx8IGN1cnJlbnRDYW5VcGxvYWQgIT09IG5ld0NhblVwbG9hZDtcbiAgICAgIHZhciBjYWxsYmFjayA9IHNob3VsZEZldGNoTWV0YWRhdGEgPyBfdGhpcy5mZXRjaE1ldGFkYXRhIDogbm9vcDtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmaWxlOiBmaWxlXG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICB2YXIgbG9nZ2VyID0gX3RoaXMucHJvcHMubG9nZ2VyO1xuICAgIGxvZ2dlci5vblJlYWR5TWV0cmljKHtcbiAgICAgIGVuZE1hcmtOYW1lOiBNQVJLX05BTUVfSlNfUkVBRFlcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWV0YWRhdGFTaWRlYmFyLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuZmV0Y2hGaWxlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbW1vbiBlcnJvciBjYWxsYmFja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgLSBBUEkgZXJyb3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSAtIGVycm9yIGNvZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW25ld1N0YXRlXSAtIG9wdGlvbmFsIHN0YXRlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbkFwaUVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQXBpRXJyb3IoZXJyb3IsIGNvZGUpIHtcbiAgICAgIHZhciBuZXdTdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICB2YXIgb25FcnJvciA9IHRoaXMucHJvcHMub25FcnJvcjtcbiAgICAgIHZhciBzdGF0dXMgPSBlcnJvci5zdGF0dXM7XG4gICAgICB2YXIgaXNWYWxpZEVycm9yID0gaXNVc2VyQ29ycmVjdGFibGVFcnJvcihzdGF0dXMpO1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZXh0ZW5kcyh7XG4gICAgICAgIGVycm9yOiBtZXNzYWdlcy5zaWRlYmFyTWV0YWRhdGFFZGl0aW5nRXJyb3JDb250ZW50LFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9LCBuZXdTdGF0ZSkpO1xuICAgICAgb25FcnJvcihlcnJvciwgY29kZSwgX2RlZmluZVByb3BlcnR5KHtcbiAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICB9LCBJU19FUlJPUl9ESVNQTEFZRUQsIGlzVmFsaWRFcnJvcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdXBsb2FkIHBlcm1pc3Npb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IC0gdHJ1ZSBpZiBtZXRhZGF0YSBjYW4gYmUgZWRpdGVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjYW5FZGl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkVkaXQoKSB7XG4gICAgICB2YXIgZmlsZSA9IHRoaXMuc3RhdGUuZmlsZTtcbiAgICAgIHJldHVybiBnZXRQcm9wKGZpbGUsIEZJRUxEX1BFUk1JU1NJT05TX0NBTl9VUExPQUQsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGVkaXRvciB3ZSBhcmUgZWRpdGluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkIC0gaW5zdGFuY2UgaWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGVkaXRvciBpbnN0YW5jZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RWRpdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVkaXRvcihpZCkge1xuICAgICAgdmFyIF90aGlzJHN0YXRlJGVkaXRvcnMyID0gdGhpcy5zdGF0ZS5lZGl0b3JzLFxuICAgICAgICAgIGVkaXRvcnMgPSBfdGhpcyRzdGF0ZSRlZGl0b3JzMiA9PT0gdm9pZCAwID8gW10gOiBfdGhpcyRzdGF0ZSRlZGl0b3JzMjtcbiAgICAgIHJldHVybiBlZGl0b3JzLmZpbmQoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IF9yZWYyLmluc3RhbmNlO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UuaWQgPT09IGlkO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIHJlbW92ZSBzdWNjZXNzIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgLSB0aGUgZWRpdG9yIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblJlbW92ZVN1Y2Nlc3NIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVtb3ZlU3VjY2Vzc0hhbmRsZXIoZWRpdG9yKSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUkZWRpdG9yczMgPSB0aGlzLnN0YXRlLmVkaXRvcnMsXG4gICAgICAgICAgZWRpdG9ycyA9IF90aGlzJHN0YXRlJGVkaXRvcnMzID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJHN0YXRlJGVkaXRvcnMzO1xuICAgICAgdmFyIGNsb25lID0gZWRpdG9ycy5zbGljZSgwKTtcbiAgICAgIGNsb25lLnNwbGljZShlZGl0b3JzLmluZGV4T2YoZWRpdG9yKSwgMSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZWRpdG9yczogY2xvbmVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZSByZW1vdmUgaGFuZGxlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gaW5zdGFuY2UgaWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVwbGFjZUVkaXRvclwiLFxuXG4gICAgLyoqXG4gICAgICogSW5zdGFuY2Ugc2F2ZSBzdWNjZXNzIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvbGRFZGl0b3IgLSBwcmlvciBlZGl0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbmV3RWRpdG9yIC0gdXBkYXRlZCBlZGl0b3JcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiByZXBsYWNlRWRpdG9yKG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUkZWRpdG9yczQgPSB0aGlzLnN0YXRlLmVkaXRvcnMsXG4gICAgICAgICAgZWRpdG9ycyA9IF90aGlzJHN0YXRlJGVkaXRvcnM0ID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJHN0YXRlJGVkaXRvcnM0O1xuICAgICAgdmFyIGNsb25lID0gZWRpdG9ycy5zbGljZSgwKTtcbiAgICAgIGNsb25lLnNwbGljZShlZGl0b3JzLmluZGV4T2Yob2xkRWRpdG9yKSwgMSwgbmV3RWRpdG9yKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlZGl0b3JzOiBjbG9uZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIHNhdmUgZXJyb3IgaGFuZGxlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9sZEVkaXRvciAtIHByaW9yIGVkaXRvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlcnJvciAtIGFwaSBlcnJvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIC0gZXJyb3IgY29kZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblNhdmVFcnJvckhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TYXZlRXJyb3JIYW5kbGVyKG9sZEVkaXRvciwgZXJyb3IsIGNvZGUpIHtcbiAgICAgIHZhciBjbG9uZSA9IF9vYmplY3RTcHJlYWQoe30sIG9sZEVkaXRvciwge1xuICAgICAgICBoYXNFcnJvcjogdHJ1ZVxuICAgICAgfSk7IC8vIHNoYWxsb3cgY2xvbmUgc3VmZmljZXMgZm9yIGhhc0Vycm9yIHNldHRpbmdcblxuXG4gICAgICB0aGlzLnJlcGxhY2VFZGl0b3Iob2xkRWRpdG9yLCBjbG9uZSk7XG4gICAgICB0aGlzLm9uQXBpRXJyb3IoZXJyb3IsIGNvZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZSBzYXZlIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGluc3RhbmNlIGlkXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3BzIC0ganNvbiBwYXRjaCBvcHNcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmV0Y2hNZXRhZGF0YVwiLFxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgbWV0YWRhdGEgZWRpdG9yc1xuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hNZXRhZGF0YSgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHMuYXBpLFxuICAgICAgICAgIGlzRmVhdHVyZUVuYWJsZWQgPSBfdGhpcyRwcm9wcy5pc0ZlYXR1cmVFbmFibGVkO1xuICAgICAgdmFyIGZpbGUgPSB0aGlzLnN0YXRlLmZpbGU7XG5cbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS5nZXRNZXRhZGF0YUFQSShmYWxzZSkuZ2V0TWV0YWRhdGEoZmlsZSwgdGhpcy5mZXRjaE1ldGFkYXRhU3VjY2Vzc0NhbGxiYWNrLCB0aGlzLmZldGNoTWV0YWRhdGFFcnJvckNhbGxiYWNrLCBpc0ZlYXR1cmVFbmFibGVkLCB7XG4gICAgICAgIHJlZnJlc2hDYWNoZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBmYWlsZWQgZmlsZSBmZXRjaFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBlIC0gQVBJIGVycm9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgLSBlcnJvciBjb2RlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZldGNoRmlsZVwiLFxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhIGZpbGUgd2l0aCB0aGUgZmllbGRzIG5lZWRlZCBmb3IgbWV0YWRhdGEgc2lkZWJhclxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hGaWxlKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXBpID0gX3RoaXMkcHJvcHMyLmFwaSxcbiAgICAgICAgICBmaWxlSWQgPSBfdGhpcyRwcm9wczIuZmlsZUlkO1xuICAgICAgYXBpLmdldEZpbGVBUEkoKS5nZXRGaWxlKGZpbGVJZCwgdGhpcy5mZXRjaEZpbGVTdWNjZXNzQ2FsbGJhY2ssIHRoaXMuZmV0Y2hGaWxlRXJyb3JDYWxsYmFjaywge1xuICAgICAgICBmaWVsZHM6IFtGSUVMRF9JU19FWFRFUk5BTExZX09XTkVELCBGSUVMRF9QRVJNSVNTSU9OU10sXG4gICAgICAgIHJlZnJlc2hDYWNoZTogdHJ1ZSAvLyBzZWUgaW1wbGljYXRpb25zIGluIGZpbGUgc3VjY2VzcyBjYWxsYmFja1xuXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgZWRpdG9ycyA9IF90aGlzJHN0YXRlLmVkaXRvcnMsXG4gICAgICAgICAgZmlsZSA9IF90aGlzJHN0YXRlLmZpbGUsXG4gICAgICAgICAgZXJyb3IgPSBfdGhpcyRzdGF0ZS5lcnJvcixcbiAgICAgICAgICBpc0xvYWRpbmcgPSBfdGhpcyRzdGF0ZS5pc0xvYWRpbmcsXG4gICAgICAgICAgdGVtcGxhdGVzID0gX3RoaXMkc3RhdGUudGVtcGxhdGVzO1xuICAgICAgdmFyIHNob3dFZGl0b3IgPSAhIWZpbGUgJiYgISF0ZW1wbGF0ZXMgJiYgISFlZGl0b3JzO1xuICAgICAgdmFyIHNob3dMb2FkaW5nSW5kaWNhdG9yID0gIWVycm9yICYmICFzaG93RWRpdG9yO1xuICAgICAgdmFyIGNhbkVkaXQgPSB0aGlzLmNhbkVkaXQoKTtcbiAgICAgIHZhciBzaG93VGVtcGxhdGVEcm9wZG93biA9IHNob3dFZGl0b3IgJiYgY2FuRWRpdDtcbiAgICAgIHZhciBzaG93RW1wdHlDb250ZW50ID0gc2hvd0VkaXRvciAmJiBlZGl0b3JzLmxlbmd0aCA9PT0gMDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJDb250ZW50LCB7XG4gICAgICAgIGFjdGlvbnM6IHNob3dUZW1wbGF0ZURyb3Bkb3duID8gUmVhY3QuY3JlYXRlRWxlbWVudChUZW1wbGF0ZURyb3Bkb3duLCB7XG4gICAgICAgICAgaGFzVGVtcGxhdGVzOiB0ZW1wbGF0ZXMgJiYgdGVtcGxhdGVzLmxlbmd0aCAhPT0gMCxcbiAgICAgICAgICBpc0Ryb3Bkb3duQnVzeTogZmFsc2UsXG4gICAgICAgICAgb25BZGQ6IHRoaXMub25BZGQgLy8gJEZsb3dGaXhNZSBjaGVja2VkIHZpYSBzaG93VGVtcGxhdGVEcm9wZG93biAmIHNob3dFZGl0b3JcbiAgICAgICAgICAsXG4gICAgICAgICAgdGVtcGxhdGVzOiB0ZW1wbGF0ZXMgLy8gJEZsb3dGaXhNZSBjaGVja2VkIHZpYSBzaG93VGVtcGxhdGVEcm9wZG93biAmIHNob3dFZGl0b3JcbiAgICAgICAgICAsXG4gICAgICAgICAgdXNlZFRlbXBsYXRlczogZWRpdG9ycy5tYXAoZnVuY3Rpb24gKGVkaXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVkaXRvci50ZW1wbGF0ZTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KSA6IG51bGwsXG4gICAgICAgIGNsYXNzTmFtZTogXCJiY3MtbWV0YWRhdGFcIixcbiAgICAgICAgdGl0bGU6IFNpZGViYXJVdGlscy5nZXRUaXRsZUZvclZpZXcoU0lERUJBUl9WSUVXX01FVEFEQVRBKVxuICAgICAgfSwgZXJyb3IgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChJbmxpbmVFcnJvciwge1xuICAgICAgICB0aXRsZTogUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5lcnJvcilcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgZXJyb3IpKSwgc2hvd0xvYWRpbmdJbmRpY2F0b3IgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nSW5kaWNhdG9yLCBudWxsKSwgc2hvd0VkaXRvciAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdJbmRpY2F0b3JXcmFwcGVyLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtZXRhZGF0YS1pbnN0YW5jZS1lZGl0b3JcIixcbiAgICAgICAgaXNMb2FkaW5nOiBpc0xvYWRpbmdcbiAgICAgIH0sIHNob3dFbXB0eUNvbnRlbnQgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEVtcHR5Q29udGVudCwge1xuICAgICAgICBjYW5BZGQ6IGNhbkVkaXRcbiAgICAgIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChJbnN0YW5jZXMsIHtcbiAgICAgICAgZWRpdG9yczogZWRpdG9ycyxcbiAgICAgICAgb25Nb2RpZmljYXRpb246IHRoaXMub25Nb2RpZmljYXRpb24sXG4gICAgICAgIG9uUmVtb3ZlOiB0aGlzLm9uUmVtb3ZlLFxuICAgICAgICBvblNhdmU6IHRoaXMub25TYXZlXG4gICAgICB9KSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZXRhZGF0YVNpZGViYXI7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoTWV0YWRhdGFTaWRlYmFyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGlzRmVhdHVyZUVuYWJsZWQ6IHRydWVcbn0pO1xuXG5leHBvcnQgeyBNZXRhZGF0YVNpZGViYXIgYXMgTWV0YWRhdGFTaWRlYmFyQ29tcG9uZW50IH07XG5leHBvcnQgZGVmYXVsdCBmbG93KFt3aXRoTG9nZ2VyKE9SSUdJTl9NRVRBREFUQV9TSURFQkFSKSwgd2l0aEVycm9yQm91bmRhcnkoT1JJR0lOX01FVEFEQVRBX1NJREVCQVIpLCB3aXRoQVBJQ29udGV4dF0pKE1ldGFkYXRhU2lkZWJhcik7Il0sInNvdXJjZVJvb3QiOiIifQ==