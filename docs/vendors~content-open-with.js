(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1120:function(e,t,n){"use strict";var r=n(0),o=n(7);t.a=function(e){var t=e.className,n=void 0===t?"":t,i=e.color,a=void 0===i?"#444444":i,c=e.height,l=void 0===c?12:c,s=e.title,u=e.width,f=void 0===u?12:u;return r.createElement(o.a,{className:"icon-open-with ".concat(n),height:l,title:s,viewBox:"0 0 12 12",width:f},r.createElement("path",{className:"fill-color",d:"M10 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8m0-1H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z",fill:a}),r.createElement("path",{className:"fill-color",d:"M3 3v1h4.29L2.65 8.65l.7.7L8 4.71V9h1V3H3z",fill:a}))}},1159:function(e,t,n){},1160:function(e,t,n){},1161:function(e,t,n){},1219:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(6),a=n.n(i),c=n(13),l=n.n(c),s=n(5),u=n.n(s),f=n(2),p=n(181),d=n.n(p),h=n(107),m=n(3),b=n(339),y=n(98),g=n(239),v=n(80),E=n(45);var w=function(e){var t=e.integrationWindow,n=e.children,r=t.document.createElement("div");return function(e,t){Array.from(e.styleSheets).forEach(function(e){if(e.href){var n=t.document.createElement("link");n.rel="stylesheet",n.href=e.href,t.document.head.appendChild(n)}}),t.document.body.style.margin=0,t.document.body.style.padding=0}(document,t),t.document.body.appendChild(r),Object(E.createPortal)(n,r)},x=function(e){var t=e.hasError,n=e.integrationWindow;return r.createElement(w,{integrationWindow:n},r.createElement("div",{className:"be bcow bcow-portal-container"},t?r.createElement(g.a,{errorHeader:r.createElement(f.b,m.a.executeIntegrationOpenWithErrorHeader),errorSubHeader:r.createElement(f.b,m.a.executeIntegrationOpenWithErrorSubHeader)}):r.createElement(v.a,{className:"bcow-portal-loading-indicator",size:"large"})))},O=n(88),P=n(89),S=n(36),I=n(1),k=n(7),j=function(e){var t=e.className,n=void 0===t?"":t,o=e.height,i=void 0===o?30:o,a=e.title,c=e.width,l=void 0===c?30:c;return r.createElement(k.a,{className:"icon-adobe-sign ".concat(n),height:i,title:a,viewBox:"0 0 30 30",width:l},r.createElement("path",{d:"M1.27 1.27h27.45v26.67H1.27z",fill:"#260000"}),r.createElement("path",{d:"M0 0v29.23h30V0zm1.45 1.45h27.1v26.31H1.45z",fill:"#ff3601"}),r.createElement("path",{d:"M5.8 11.59v4.01l1.73 2.76 1.72-2.76v-4.01H5.8M5.68 20.4h19.06v1.04H5.68z",fill:"#ff3601"}),r.createElement("path",{d:"M24.78 16a.29.29 0 0 0-.2-.16 8.9 8.9 0 0 0-4.64.45c1.24-1.64 1-1.93.91-2.09s-.38-.22-.72-.08a28.23 28.23 0 0 0-3.07 1.54c1-1.54 1.35-2.55 1.1-2.94a.55.55 0 0 0-.58-.23 7.25 7.25 0 0 0-1.13.29c2.07-3.1 2.72-4.71 2.23-5.54-.23-.38-.7-.54-1.39-.46a8.13 8.13 0 0 0-3.77 1.92 5.38 5.38 0 0 0-2.12 2.84 1.17 1.17 0 0 0 1 1.25.31.31 0 0 0 .25 0 .29.29 0 0 0 .16-.2.29.29 0 0 0 0-.24.29.29 0 0 0-.2-.16c-.49-.15-.54-.38-.53-.57.11-1.3 3.49-3.94 5.32-4.16.4 0 .65 0 .74.16.34.58-.59 2.48-2.77 5.64-2.8 1.29-4.85 3.25-5 4.27a.85.85 0 0 0 .48.92.8.8 0 0 0 .44.11c1.15 0 2.61-2 4.54-4.78a7.77 7.77 0 0 1 1.79-.57 13.36 13.36 0 0 1-1.88 3.33.32.32 0 0 0 0 .42.34.34 0 0 0 .41 0 38.86 38.86 0 0 1 4-2.11 15.55 15.55 0 0 1-1.42 1.94.35.35 0 0 0 0 .41.32.32 0 0 0 .38.11c.58-.23 3.56-1.33 5.29-.82a.31.31 0 0 0 .25 0 .35.35 0 0 0 .16-.2.31.31 0 0 0-.03-.29zm-10.22-1.62c-.93 1.31-2.75 3.83-3.45 3.46-.11-.05-.14-.1-.12-.23.1-.72 1.74-2.19 3.57-3.23z",fill:"#facfcb"}))};function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="icon-google-docs",D=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,n=!(o=(e=N(t)).call.apply(e,[this].concat(a)))||"object"!==_(o)&&"function"!=typeof o?C(r):o,W(C(C(n)),"idPrefix","".concat(l()(A),"-")),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,o=e.title,i=e.width;return r.createElement(k.a,{className:"".concat(A," ").concat(t),height:n,title:o,viewBox:"0 0 30 30",width:i},r.createElement("defs",null,r.createElement("linearGradient",{gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse",id:"".concat(this.idPrefix,"a"),x1:"-215.49",x2:"-215.49",y1:"505.79",y2:"503.19"},r.createElement("stop",{offset:"0",stopColor:"#1a237e",stopOpacity:".2"}),r.createElement("stop",{offset:"1",stopColor:"#1a237e",stopOpacity:".02"}))),r.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#4285f4"}),r.createElement("path",{d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z",fill:"url(#".concat(this.idPrefix,"a)")}),r.createElement("path",{d:"M9.45 21.82h10.91v-1.37H9.45zm0 2.73h8.19v-1.37H9.45zm0-9.55v1.36h10.91V15zm0 4.09h10.91v-1.36H9.45z",fill:"#f1f1f1"}),r.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#a1c2fa"}),r.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),r.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}))}}])&&H(n.prototype,o),i&&H(n,i),t}();W(D,"defaultProps",{className:"",height:30,width:30});var M=D;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G="icon-google-sheets",U=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,n=!(o=(e=R(t)).call.apply(e,[this].concat(a)))||"object"!==T(o)&&"function"!=typeof o?F(r):o,L(F(F(n)),"idPrefix","".concat(l()(G),"-")),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,o=e.title,i=e.width;return r.createElement(k.a,{className:"".concat(G," ").concat(t),height:n,title:o,viewBox:"0 0 30 30",width:i},r.createElement("defs",null,r.createElement("linearGradient",{gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse",id:"".concat(this.idPrefix,"a"),x1:"-215.49",x2:"-215.49",y1:"505.79",y2:"503.19"},r.createElement("stop",{offset:"0",stopColor:"#208256"}),r.createElement("stop",{offset:".55",stopColor:"#19955a",stopOpacity:".2"}))),r.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#22a565"}),r.createElement("path",{d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z",fill:"url(#".concat(this.idPrefix,"a)")}),r.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#8ed1b1"}),r.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),r.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}),r.createElement("path",{d:"M10 14v10h10V14zm1 1h3.5v2H11zm0 3h3.5v2H11zm0 5v-2h3.5v2zm8 0h-3.5v-2H19zm0-3h-3.5v-2H19zm0-3h-3.5v-2H19z",fill:"#f1f1f1"}))}}])&&B(n.prototype,o),i&&B(n,i),t}();L(U,"defaultProps",{className:"",height:30,width:30});var q=U;function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $="icon-google-slides",ee=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,n=!(o=(e=Y(t)).call.apply(e,[this].concat(a)))||"object"!==J(o)&&"function"!=typeof o?Q(r):o,Z(Q(Q(n)),"idPrefix","".concat(l()($),"-")),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,o=e.title,i=e.width;return r.createElement(k.a,{className:"".concat($," ").concat(t),height:n,title:o,viewBox:"0 0 30 30",width:i},r.createElement("defs",null,r.createElement("linearGradient",{gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse",id:"".concat(this.idPrefix,"a"),x1:"-215.49",x2:"-215.49",y1:"505.79",y2:"503.19"},r.createElement("stop",{offset:"0",stopColor:"#d08714",stopOpacity:".88"}),r.createElement("stop",{offset:".55",stopColor:"#cf8714",stopOpacity:".2"}))),r.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#f4b912"}),r.createElement("path",{d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z",fill:"url(#".concat(this.idPrefix,"a)")}),r.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#fadc87"}),r.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),r.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}),r.createElement("path",{d:"M10 15v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1zm9 6h-8v-4h8z",fill:"#f1f1f1"}))}}])&&X(n.prototype,o),i&&X(n,i),t}();Z(ee,"defaultProps",{className:"",height:30,width:30});var te=ee,ne=n(152),re={"Adobe Sign":j,"Google Docs":M,"Google Docs (beta)":M,"Google Sheets":q,"Google Sheets (beta)":q,"Google Slides":te,"Google Slides (beta)":te};var oe=function(e){return re[e]||ne.a},ie=n(9),ae=n.n(ie);n(1159);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var le=function(e){var t=e.boxToolsName,n=void 0===t?"Box Tools":t,o=e.boxToolsInstallUrl,i=void 0===o?"https://cloud.box.com/v/installboxtools":o;return r.createElement(f.b,ce({},m.a.boxToolsInstallMessage,{values:{boxTools:r.createElement("a",{href:"#",onClick:function(){window.open(i)},rel:"noopener noreferrer"},n)}}))},se=function(e){return ae()(e,"disabledReasons.0.type")===le},ue=(n(1160),function(e){var t=e.integration,n=e.onClick,o=t.displayName,i=t.displayDescription,c=t.isDisabled,l=t.extension,s=t.disabledReasons,u=oe(o),p=s[0]||r.createElement(f.b,m.a.errorOpenWithDescription),d=c?p:i,h=a()({"bcow-box-tools-uninstalled":se(t)});return r.createElement(S.a,{className:h,isDisabled:c,onClick:function(){return n(t)}},r.createElement(u,{dimension:I.Gd,extension:l,height:I.Gd,width:I.Gd}),r.createElement("span",null,r.createElement("p",{className:"bcow-menu-item-title"},o),r.createElement("p",{className:"bcow-menu-item-description"},d)))}),fe=n(341),pe=n(1120),de=n(31),he=n(130),me=function(e){var t=e.children;return r.createElement(r.Fragment,null,t,r.createElement("span",{className:"bcow-btn-header-text"},r.createElement(f.b,m.a.open)))},be=function(e){return r.createElement(he.a,{position:"middle-left",text:r.createElement(f.b,m.a.defaultOpenWithDescription)},r.createElement(de.a,e,r.createElement(fe.a,null,r.createElement(me,null,r.createElement(pe.a,{className:I.n,dimension:I.Fd,height:I.Fd,width:I.Fd})))))},ye=function(e){var t=e.dropdownAlignment,n=void 0===t?"right":t,o=e.integrations,i=e.onClick;return r.createElement(O.a,{isRightAligned:"right"===n},r.createElement(be,null),r.createElement(P.a,{className:"bcow-menu"},o.map(function(e){return r.createElement(ue,{key:e.appIntegrationId,integration:e,onClick:i})})))};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ee=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(t)return null;var i=r.createElement(f.b,m.a.emptyOpenWithDescription);o.length>0?i=ve(o,1)[0]:n?i=r.createElement(f.b,m.a.errorOpenWithDescription):e&&(i=e);return i},we=function(e){var t=e.error,n=e.onClick,o=void 0===n?u.a:n,i=e.displayIntegration,a=e.isLoading,c=i||{},l=c.displayName,s=c.isDisabled,f=c.extension,p=c.disabledReasons,d=c.displayDescription,h=!!s||!l,m=l?oe(l):pe.a,b=se(i)?{isShown:!0,showCloseButton:!0}:{};return r.createElement(he.a,ge({className:"bcow-tooltip",position:"bottom-center",text:Ee(d,a,t,p)},b),r.createElement(de.a,{isDisabled:h,onClick:function(){return i?o(i):u.a}},r.createElement(me,null,r.createElement(m,{className:I.n,dimension:I.Fd,extension:f,height:I.Fd,width:I.Fd}))))},xe=function(e){var t=e.error;return r.createElement("div",{className:"be bcow"},r.createElement(we,{error:t,isLoading:!1}))};function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var je=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Se(this,Ie(t).call(this,e))).ref=o.a.createRef(),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,r["PureComponent"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this.props.onSubmit;this.ref.current.submit(),e()}},{key:"render",value:function(){var e=this.props,t=e.executePostData,n=t.url,r=t.params,i=e.id,a=e.windowName;return o.a.createElement("form",{ref:this.ref,action:n,id:"bcow-execute-form-".concat(i),method:I.hd,rel:"noreferrer noopener",target:a||"_blank"},r&&r.map(function(e){var t=e.key,n=e.value;return o.a.createElement("input",{key:t,name:t,type:"hidden",value:n})}))}}])&&Pe(n.prototype,i),a&&Pe(n,a),t}();n(256),n(1161);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){De(e,t,n[t])})}return e}function Ne(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me="Integration invocation using this HTTP method type is not supported",Te="boxToolsBlacklistedError",Be="boxToolsInstallErrorMessage",Re="executeIntegrationOpenWithErrorHeader",Ve="auth_code",Fe=function(e){function t(e){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=Ce(t).call(this,e),n=!i||"object"!==_e(i)&&"function"!=typeof i?Ae(r):i,De(Ae(Ae(n)),"initialState",{isDropdownOpen:!1,integrations:null,isLoading:!0,fetchError:null,executePostData:null,shouldRenderErrorIntegrationPortal:!1,shouldRenderLoadingIntegrationPortal:!1}),De(Ae(Ae(n)),"fetchOpenWithSuccessHandler",function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var r,i,a,c,l,s,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,i=r.boxToolsName,a=r.boxToolsInstallUrl,!(c=t.find(function(e){var t=e.appIntegrationId;return n.isBoxEditIntegration(t)}))||c.isDisabled){e.next=22;break}return e.prev=3,e.next=6,n.getIntegrationFileExtension();case 6:return l=e.sent,s=l.extension,c.extension=s,e.next=11,n.isBoxEditAvailable();case 11:return e.next=13,n.canOpenExtensionWithBoxEdit(c);case 13:e.next=22;break;case 15:e.prev=15,e.t0=e.catch(3),u=m.a[e.t0.message]||m.a[Re],p=o.a.createElement(f.b,u),e.t0.message===Be&&(p=o.a.createElement(le,{boxToolsInstallUrl:a,boxToolsName:i})),c.disabledReasons.push(p),c.isDisabled=!0;case 22:n.setState({integrations:t,isLoading:!1});case 23:case"end":return e.stop()}},e,this,[[3,15]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ne(i,r,o,a,c,"next",e)}function c(e){Ne(i,r,o,a,c,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}()),De(Ae(Ae(n)),"getIntegrationFileExtension",function(){var e=n.props.fileId;return new Promise(function(t,r){n.api.getFileAPI().getFileExtension(e,t,function(){return r(new Error(Re))})})}),De(Ae(Ae(n)),"isBoxEditAvailable",function(){return n.api.getBoxEditAPI().checkBoxEditAvailability().catch(function(){throw new Error(Be)})}),De(Ae(Ae(n)),"canOpenExtensionWithBoxEdit",function(e){var t=e.extension,r=void 0===t?"":t;return n.api.getBoxEditAPI().getAppForExtension(r).catch(function(){throw new Error(Te)})}),De(Ae(Ae(n)),"fetchErrorHandler",function(e,t){n.props.onError(e,t,{error:e}),n.setState({fetchError:e,isLoading:!1})}),De(Ae(Ae(n)),"onIntegrationClick",function(e){var t=e.appIntegrationId,r=e.displayName,o=n.props.fileId,i=n.isBoxEditIntegration(t);if(n.api.getAppIntegrationsAPI(!1).execute(t,o,n.executeIntegrationSuccessHandler.bind(Ae(Ae(n)),t),i?n.executeBoxEditErrorHandler:n.executeIntegrationErrorHandler),!i){var a="left=".concat(window.screenX,",top=").concat(window.screenY,",height=").concat(window.outerHeight,",width=").concat(window.innerWidth,",toolbar=0");n.integrationWindow=n.window.open("","".concat(l()(t)),a),n.integrationWindow.document.title=r,n.integrationWindow.onunload=n.cleanupIntegrationWindow,n.setState({shouldRenderLoadingIntegrationPortal:!0,shouldRenderErrorIntegrationPortal:!1})}}),De(Ae(Ae(n)),"cleanupIntegrationWindow",function(){n.setState({shouldRenderLoadingIntegrationPortal:!1,shouldRenderErrorIntegrationPortal:!1})}),De(Ae(Ae(n)),"executeIntegrationSuccessHandler",function(e,t){n.isBoxEditIntegration(e)?n.executeBoxEditSuccessHandler(e,t):n.executeOnlineIntegrationSuccessHandler(t),n.onExecute(e)}),De(Ae(Ae(n)),"executeOnlineIntegrationSuccessHandler",function(e){var t=e.method,r=e.url;switch(t){case I.hd:n.setState({executePostData:e});break;case I.ed:if(!n.integrationWindow)return;n.integrationWindow.location=r,n.integrationWindow.opener=null;break;default:n.executeIntegrationErrorHandler(Error(Me),I.ob)}n.integrationWindow=null}),De(Ae(Ae(n)),"executeBoxEditSuccessHandler",function(e,t){var r=t.url,o=n.props,i=o.fileId,a=o.token,c=o.onError,l=d.a.parse(r)[Ve],s=n.isBoxEditSFCIntegration(e);n.api.getBoxEditAPI().openFile(i,{data:{auth_code:l,token:a,token_scope:s?I.Se:I.Te}}).catch(function(e){c(e,I.ob,{error:e})})}),De(Ae(Ae(n)),"onExecuteFormSubmit",function(){n.setState({executePostData:null})}),De(Ae(Ae(n)),"executeIntegrationErrorHandler",function(e,t){n.props.onError(e,t,{error:e}),console.error(e),n.setState({shouldRenderLoadingIntegrationPortal:!1,shouldRenderErrorIntegrationPortal:!0})}),De(Ae(Ae(n)),"executeBoxEditErrorHandler",function(e){n.props.onError(e),console.error(e)});var a=e.token,c=e.apiHost,s=e.clientName,u=e.requestInterceptor,p=e.responseInterceptor;return n.id=l()("bcow_"),n.api=new y.a({token:a,apiHost:c,clientName:s,requestInterceptor:u,responseInterceptor:p}),n.state=He({},n.initialState),n}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,r["PureComponent"]),n=t,(i=[{key:"clearCache",value:function(){this.api.destroy(!0)}},{key:"componentWillUnmount",value:function(){this.api.destroy(!1)}},{key:"componentDidMount",value:function(){this.props.fileId&&(this.window=window,this.fetchOpenWithData())}},{key:"componentDidUpdate",value:function(e){var t=this.props.fileId,n=e.fileId;t&&t!==n&&(this.setState(He({},this.initialState)),this.fetchOpenWithData())}},{key:"isBoxEditIntegration",value:function(e){return e===I.f||this.isBoxEditSFCIntegration(e)}},{key:"isBoxEditSFCIntegration",value:function(e){return e===I.g}},{key:"fetchOpenWithData",value:function(){var e=this.props,t=e.fileId,n=e.language;this.api.getOpenWithAPI(!1).getOpenWithIntegrations(t,this.fetchOpenWithSuccessHandler,this.fetchErrorHandler,n)}},{key:"componentWillReceiveProps",value:function(){}},{key:"onExecute",value:function(e){this.props.onExecute(e),this.setState({shouldRenderLoadingIntegrationPortal:!1})}},{key:"getDisplayIntegration",value:function(){var e=this.state.integrations;return Array.isArray(e)&&1===e.length?e[0]:null}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.messages,r=e.dropdownAlignment,i=this.state,c=i.fetchError,l=i.isLoading,s=i.integrations,u=i.executePostData,f=i.shouldRenderLoadingIntegrationPortal,p=i.shouldRenderErrorIntegrationPortal,d=a()("be bcow",this.props.className),m=this.getDisplayIntegration(),b=s?s.length:0;return o.a.createElement(h.a,{language:t,messages:n},o.a.createElement("div",{className:d,id:this.id},b<=1?o.a.createElement(we,{displayIntegration:m,error:c,isLoading:l,onClick:this.onIntegrationClick}):o.a.createElement(ye,{dropdownAlignment:r,integrations:s,onClick:this.onIntegrationClick}),(f||p)&&o.a.createElement(x,{hasError:p,integrationWindow:this.integrationWindow}),u&&o.a.createElement(je,{executePostData:u,id:this.id,onSubmit:this.onExecuteFormSubmit,windowName:this.integrationWindow&&this.integrationWindow.name})))}}])&&ze(n.prototype,i),c&&ze(n,c),t}();De(Fe,"defaultProps",{apiHost:I.I,className:"",clientName:I.A,onExecute:u.a,onError:u.a});var Le=Object(b.a)(I.Md,xe)(Fe);n.d(t,"default",function(){return Le})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dlbmVyYWwvSWNvbk9wZW5XaXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1vcGVuLXdpdGgvSW50ZWdyYXRpb25Qb3J0YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LW9wZW4td2l0aC9JbnRlZ3JhdGlvblBvcnRhbENvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2Fkb2JlLXNpZ24vSWNvbkFkb2JlU2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dvb2dsZS1kb2NzL0ljb25Hb29nbGVEb2NzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvaWNvbnMvZ29vZ2xlLWRvY3MvSWNvbkdvb2dsZVNoZWV0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2ljb25zL2dvb2dsZS1kb2NzL0ljb25Hb29nbGVTbGlkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LW9wZW4td2l0aC9JY29uRmlsZU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtb3Blbi13aXRoL0JveFRvb2xzSW5zdGFsbE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LW9wZW4td2l0aC9vcGVuV2l0aFV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1vcGVuLXdpdGgvT3BlbldpdGhEcm9wZG93bk1lbnVJdGVtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1vcGVuLXdpdGgvT3BlbldpdGhCdXR0b25Db250ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtb3Blbi13aXRoL011bHRpcGxlSW50ZWdyYXRpb25zT3BlbldpdGhCdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JveC11aS1lbGVtZW50cy9lcy9lbGVtZW50cy9jb250ZW50LW9wZW4td2l0aC9PcGVuV2l0aERyb3Bkb3duTWVudS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtb3Blbi13aXRoL09wZW5XaXRoQnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1vcGVuLXdpdGgvT3BlbldpdGhGYWxsYmFja0J1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYm94LXVpLWVsZW1lbnRzL2VzL2VsZW1lbnRzL2NvbnRlbnQtb3Blbi13aXRoL0V4ZWN1dGVGb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1vcGVuLXdpdGgvQ29udGVudE9wZW5XaXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib3gtdWktZWxlbWVudHMvZXMvZWxlbWVudHMvY29udGVudC1vcGVuLXdpdGgvaW5kZXguanMiXSwibmFtZXMiOlsicmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfYWNjZXNzaWJsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9fd2VicGFja19leHBvcnRzX18iLCJfcmVmIiwiX3JlZiRjbGFzc05hbWUiLCJjbGFzc05hbWUiLCJfcmVmJGNvbG9yIiwiY29sb3IiLCJfcmVmJGhlaWdodCIsImhlaWdodCIsInRpdGxlIiwiX3JlZiR3aWR0aCIsIndpZHRoIiwiY29uY2F0Iiwidmlld0JveCIsImQiLCJmaWxsIiwiY29udGVudF9vcGVuX3dpdGhfSW50ZWdyYXRpb25Qb3J0YWwiLCJpbnRlZ3JhdGlvbldpbmRvdyIsImNoaWxkcmVuIiwiY29udGFpbmVyRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRvY3VtZW50RWxlbWVudCIsIkFycmF5IiwiZnJvbSIsInN0eWxlU2hlZXRzIiwiZm9yRWFjaCIsInN0eWxlU2hlZXQiLCJocmVmIiwiY29waWVkU3R5bGVTaGVldCIsInJlbCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImJvZHkiLCJzdHlsZSIsIm1hcmdpbiIsInBhZGRpbmciLCJjb3B5U3R5bGVzIiwiT2JqZWN0IiwicmVhY3RfZG9tIiwiY29udGVudF9vcGVuX3dpdGhfSW50ZWdyYXRpb25Qb3J0YWxDb250YWluZXIiLCJoYXNFcnJvciIsInJlYWN0IiwiRXJyb3JNYXNrIiwiZXJyb3JIZWFkZXIiLCJpbmRleF9lcyIsIm1lc3NhZ2VzIiwiZXhlY3V0ZUludGVncmF0aW9uT3BlbldpdGhFcnJvckhlYWRlciIsImVycm9yU3ViSGVhZGVyIiwiZXhlY3V0ZUludGVncmF0aW9uT3BlbldpdGhFcnJvclN1YkhlYWRlciIsIkxvYWRpbmdJbmRpY2F0b3IiLCJzaXplIiwiYWRvYmVfc2lnbl9JY29uQWRvYmVTaWduIiwiYWNjZXNzaWJsZV9zdmciLCJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX2dldFByb3RvdHlwZU9mIiwibyIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9kZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiSUNPTl9DTEFTUyIsIkljb25Hb29nbGVEb2NzX0ljb25Hb29nbGVEb2NzIiwiX1JlYWN0JENvbXBvbmVudCIsIkljb25Hb29nbGVEb2NzIiwiX2dldFByb3RvdHlwZU9mMiIsIl90aGlzIiwiY2FsbCIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJfa2V5IiwiYXBwbHkiLCJ1bmlxdWVJZF9kZWZhdWx0IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiX2luaGVyaXRzIiwiX3RoaXMkcHJvcHMiLCJncmFkaWVudFRyYW5zZm9ybSIsImdyYWRpZW50VW5pdHMiLCJpZCIsImlkUHJlZml4IiwieDEiLCJ4MiIsInkxIiwieTIiLCJvZmZzZXQiLCJzdG9wQ29sb3IiLCJzdG9wT3BhY2l0eSIsImZpbGxPcGFjaXR5IiwiZ29vZ2xlX2RvY3NfSWNvbkdvb2dsZURvY3MiLCJJY29uR29vZ2xlU2hlZXRzX3R5cGVvZiIsIkljb25Hb29nbGVTaGVldHNfZGVmaW5lUHJvcGVydGllcyIsIkljb25Hb29nbGVTaGVldHNfZ2V0UHJvdG90eXBlT2YiLCJJY29uR29vZ2xlU2hlZXRzX3NldFByb3RvdHlwZU9mIiwiSWNvbkdvb2dsZVNoZWV0c19hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJJY29uR29vZ2xlU2hlZXRzX2RlZmluZVByb3BlcnR5IiwiSWNvbkdvb2dsZVNoZWV0c19JQ09OX0NMQVNTIiwiSWNvbkdvb2dsZVNoZWV0c19JY29uR29vZ2xlU2hlZXRzIiwiSWNvbkdvb2dsZVNoZWV0cyIsIkljb25Hb29nbGVTaGVldHNfY2xhc3NDYWxsQ2hlY2siLCJJY29uR29vZ2xlU2hlZXRzX2luaGVyaXRzIiwiZ29vZ2xlX2RvY3NfSWNvbkdvb2dsZVNoZWV0cyIsIkljb25Hb29nbGVTbGlkZXNfdHlwZW9mIiwiSWNvbkdvb2dsZVNsaWRlc19kZWZpbmVQcm9wZXJ0aWVzIiwiSWNvbkdvb2dsZVNsaWRlc19nZXRQcm90b3R5cGVPZiIsIkljb25Hb29nbGVTbGlkZXNfc2V0UHJvdG90eXBlT2YiLCJJY29uR29vZ2xlU2xpZGVzX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIkljb25Hb29nbGVTbGlkZXNfZGVmaW5lUHJvcGVydHkiLCJJY29uR29vZ2xlU2xpZGVzX0lDT05fQ0xBU1MiLCJJY29uR29vZ2xlU2xpZGVzX0ljb25Hb29nbGVTbGlkZXMiLCJJY29uR29vZ2xlU2xpZGVzIiwiSWNvbkdvb2dsZVNsaWRlc19jbGFzc0NhbGxDaGVjayIsIkljb25Hb29nbGVTbGlkZXNfaW5oZXJpdHMiLCJnb29nbGVfZG9jc19JY29uR29vZ2xlU2xpZGVzIiwiSUNPTl9GSUxFX01BUCIsIkFkb2JlIFNpZ24iLCJHb29nbGUgRG9jcyIsIkdvb2dsZSBEb2NzIChiZXRhKSIsIkdvb2dsZSBTaGVldHMiLCJHb29nbGUgU2hlZXRzIChiZXRhKSIsIkdvb2dsZSBTbGlkZXMiLCJHb29nbGUgU2xpZGVzIChiZXRhKSIsIkljb25GaWxlTWFwIiwiaWNvbk5hbWUiLCJGaWxlSWNvbiIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiaGFzT3duUHJvcGVydHkiLCJlbGVtZW50c19jb250ZW50X29wZW5fd2l0aF9Cb3hUb29sc0luc3RhbGxNZXNzYWdlIiwiX3JlZiRib3hUb29sc05hbWUiLCJib3hUb29sc05hbWUiLCJfcmVmJGJveFRvb2xzSW5zdGFsbFUiLCJib3hUb29sc0luc3RhbGxVcmwiLCJib3hUb29sc0luc3RhbGxNZXNzYWdlIiwidmFsdWVzIiwiYm94VG9vbHMiLCJvbkNsaWNrIiwid2luZG93Iiwib3BlbiIsIm9wZW5XaXRoVXRpbHMiLCJpbnRlZ3JhdGlvbiIsImdldF9kZWZhdWx0IiwiZWxlbWVudHNfY29udGVudF9vcGVuX3dpdGhfT3BlbldpdGhEcm9wZG93bk1lbnVJdGVtIiwiX29uQ2xpY2siLCJkaXNwbGF5TmFtZSIsImRpc3BsYXlEZXNjcmlwdGlvbiIsImlzRGlzYWJsZWQiLCJleHRlbnNpb24iLCJkaXNhYmxlZFJlYXNvbnMiLCJJY29uIiwiZXJyb3JEZXNjcmlwdGlvbiIsImVycm9yT3BlbldpdGhEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiY2xhc3NuYW1lc19kZWZhdWx0IiwiYmNvdy1ib3gtdG9vbHMtdW5pbnN0YWxsZWQiLCJNZW51SXRlbSIsImRpbWVuc2lvbiIsImNvbnN0YW50cyIsImNvbnRlbnRfb3Blbl93aXRoX09wZW5XaXRoQnV0dG9uQ29udGVudHMiLCJjb250ZW50X29wZW5fd2l0aF9NdWx0aXBsZUludGVncmF0aW9uc09wZW5XaXRoQnV0dG9uIiwiYnV0dG9uUHJvcHMiLCJUb29sdGlwIiwicG9zaXRpb24iLCJ0ZXh0IiwiZGVmYXVsdE9wZW5XaXRoRGVzY3JpcHRpb24iLCJCdXR0b24iLCJNZW51VG9nZ2xlIiwiSWNvbk9wZW5XaXRoIiwiY29udGVudF9vcGVuX3dpdGhfT3BlbldpdGhEcm9wZG93bk1lbnUiLCJfcmVmJGRyb3Bkb3duQWxpZ25tZW4iLCJkcm9wZG93bkFsaWdubWVudCIsImludGVncmF0aW9ucyIsIkRyb3Bkb3duTWVudSIsImlzUmlnaHRBbGlnbmVkIiwiTWVudSIsIm1hcCIsImFwcEludGVncmF0aW9uSWQiLCJPcGVuV2l0aEJ1dHRvbl9leHRlbmRzIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpc0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsInVuZGVmaW5lZCIsIl9zIiwiX2kiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfbm9uSXRlcmFibGVSZXN0IiwiT3BlbldpdGhCdXR0b25fZ2V0VG9vbHRpcCIsImlzTG9hZGluZyIsImVycm9yIiwibWVzc2FnZSIsImVtcHR5T3BlbldpdGhEZXNjcmlwdGlvbiIsImNvbnRlbnRfb3Blbl93aXRoX09wZW5XaXRoQnV0dG9uIiwiX3JlZiRvbkNsaWNrIiwibm9vcF9kZWZhdWx0IiwiYSIsImRpc3BsYXlJbnRlZ3JhdGlvbiIsIl9yZWYyIiwiaXNEaXNwbGF5SW50ZWdyYXRpb25EaXNhYmxlZCIsInRvb2x0aXBEaXNwbGF5UHJvcHMiLCJpc1Nob3duIiwic2hvd0Nsb3NlQnV0dG9uIiwiY29udGVudF9vcGVuX3dpdGhfT3BlbldpdGhGYWxsYmFja0J1dHRvbiIsIkV4ZWN1dGVGb3JtX3R5cGVvZiIsIkV4ZWN1dGVGb3JtX2RlZmluZVByb3BlcnRpZXMiLCJFeGVjdXRlRm9ybV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiRXhlY3V0ZUZvcm1fYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiRXhlY3V0ZUZvcm1fZ2V0UHJvdG90eXBlT2YiLCJFeGVjdXRlRm9ybV9zZXRQcm90b3R5cGVPZiIsImNvbnRlbnRfb3Blbl93aXRoX0V4ZWN1dGVGb3JtIiwiX1B1cmVDb21wb25lbnQiLCJFeGVjdXRlRm9ybSIsIkV4ZWN1dGVGb3JtX2NsYXNzQ2FsbENoZWNrIiwicmVmIiwicmVhY3RfZGVmYXVsdCIsImNyZWF0ZVJlZiIsIkV4ZWN1dGVGb3JtX2luaGVyaXRzIiwib25TdWJtaXQiLCJjdXJyZW50Iiwic3VibWl0IiwiX3RoaXMkcHJvcHMkZXhlY3V0ZVBvIiwiZXhlY3V0ZVBvc3REYXRhIiwidXJsIiwicGFyYW1zIiwid2luZG93TmFtZSIsImFjdGlvbiIsIm1ldGhvZCIsIm5hbWUiLCJ0eXBlIiwiQ29udGVudE9wZW5XaXRoX3R5cGVvZiIsIl9vYmplY3RTcHJlYWQiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkNvbnRlbnRPcGVuV2l0aF9kZWZpbmVQcm9wZXJ0eSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImFyZyIsImluZm8iLCJQcm9taXNlIiwidGhlbiIsIkNvbnRlbnRPcGVuV2l0aF9kZWZpbmVQcm9wZXJ0aWVzIiwiQ29udGVudE9wZW5XaXRoX2dldFByb3RvdHlwZU9mIiwiQ29udGVudE9wZW5XaXRoX3NldFByb3RvdHlwZU9mIiwiQ29udGVudE9wZW5XaXRoX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIlVOU1VQUE9SVEVEX0lOVk9DQVRJT05fTUVUSE9EX1RZUEUiLCJCTEFDS0xJU1RFRF9FUlJPUl9NRVNTQUdFX0tFWSIsIkJPWF9UT09MU19JTlNUQUxMX0VSUk9SX01FU1NBR0VfS0VZIiwiR0VORVJJQ19FWEVDVVRFX01FU1NBR0VfS0VZIiwiQVVUSF9DT0RFIiwiQ29udGVudE9wZW5XaXRoX0NvbnRlbnRPcGVuV2l0aCIsIkNvbnRlbnRPcGVuV2l0aCIsIkNvbnRlbnRPcGVuV2l0aF9jbGFzc0NhbGxDaGVjayIsImlzRHJvcGRvd25PcGVuIiwiZmV0Y2hFcnJvciIsInNob3VsZFJlbmRlckVycm9ySW50ZWdyYXRpb25Qb3J0YWwiLCJzaG91bGRSZW5kZXJMb2FkaW5nSW50ZWdyYXRpb25Qb3J0YWwiLCJmbiIsInJlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwiYm94RWRpdEludGVncmF0aW9uIiwiX3JlZjMiLCJlcnJvck1lc3NhZ2VPYmplY3QiLCJmb3JtYXR0ZWRFcnJvck1lc3NhZ2UiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwiZmluZCIsImlzQm94RWRpdEludGVncmF0aW9uIiwiZ2V0SW50ZWdyYXRpb25GaWxlRXh0ZW5zaW9uIiwic2VudCIsImlzQm94RWRpdEF2YWlsYWJsZSIsImNhbk9wZW5FeHRlbnNpb25XaXRoQm94RWRpdCIsInQwIiwic2V0U3RhdGUiLCJzdG9wIiwiX3giLCJmaWxlSWQiLCJhcGkiLCJnZXRGaWxlQVBJIiwiZ2V0RmlsZUV4dGVuc2lvbiIsIkVycm9yIiwiZ2V0Qm94RWRpdEFQSSIsImNoZWNrQm94RWRpdEF2YWlsYWJpbGl0eSIsImNhdGNoIiwiX3JlZjQiLCJfcmVmNCRleHRlbnNpb24iLCJnZXRBcHBGb3JFeHRlbnNpb24iLCJjb2RlIiwib25FcnJvciIsIl9yZWY1IiwiZ2V0QXBwSW50ZWdyYXRpb25zQVBJIiwiZXhlY3V0ZSIsImV4ZWN1dGVJbnRlZ3JhdGlvblN1Y2Nlc3NIYW5kbGVyIiwiYmluZCIsImV4ZWN1dGVCb3hFZGl0RXJyb3JIYW5kbGVyIiwiZXhlY3V0ZUludGVncmF0aW9uRXJyb3JIYW5kbGVyIiwid2luZG93RmVhdHVyZXMiLCJzY3JlZW5YIiwic2NyZWVuWSIsIm91dGVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsIm9udW5sb2FkIiwiY2xlYW51cEludGVncmF0aW9uV2luZG93IiwiaW50ZWdyYXRpb25JZCIsImV4ZWN1dGVEYXRhIiwiZXhlY3V0ZUJveEVkaXRTdWNjZXNzSGFuZGxlciIsImV4ZWN1dGVPbmxpbmVJbnRlZ3JhdGlvblN1Y2Nlc3NIYW5kbGVyIiwib25FeGVjdXRlIiwibG9jYXRpb24iLCJvcGVuZXIiLCJfcmVmNiIsIl90aGlzJHByb3BzMiIsInRva2VuIiwiYXV0aENvZGUiLCJxdWVyeV9zdHJpbmdfZGVmYXVsdCIsInBhcnNlIiwiaXNGaWxlU2NvcGVkIiwiaXNCb3hFZGl0U0ZDSW50ZWdyYXRpb24iLCJvcGVuRmlsZSIsImRhdGEiLCJhdXRoX2NvZGUiLCJ0b2tlbl9zY29wZSIsImNvbnNvbGUiLCJfdG9rZW4iLCJhcGlIb3N0IiwiY2xpZW50TmFtZSIsInJlcXVlc3RJbnRlcmNlcHRvciIsInJlc3BvbnNlSW50ZXJjZXB0b3IiLCJzdGF0ZSIsImluaXRpYWxTdGF0ZSIsIkNvbnRlbnRPcGVuV2l0aF9pbmhlcml0cyIsImRlc3Ryb3kiLCJmZXRjaE9wZW5XaXRoRGF0YSIsInByZXZQcm9wcyIsImN1cnJlbnRGaWxlSWQiLCJwcmV2aW91c0ZpbGVJZCIsIl90aGlzJHByb3BzMyIsImxhbmd1YWdlIiwiZ2V0T3BlbldpdGhBUEkiLCJnZXRPcGVuV2l0aEludGVncmF0aW9ucyIsImZldGNoT3BlbldpdGhTdWNjZXNzSGFuZGxlciIsImZldGNoRXJyb3JIYW5kbGVyIiwiaW50ZWdyYXRpb25JRCIsIl90aGlzJHByb3BzNCIsImludGxNZXNzYWdlcyIsIl90aGlzJHN0YXRlIiwiZ2V0RGlzcGxheUludGVncmF0aW9uIiwibnVtSW50ZWdyYXRpb25zIiwiSW50ZXJuYXRpb25hbGl6ZSIsIm9uSW50ZWdyYXRpb25DbGljayIsIm9uRXhlY3V0ZUZvcm1TdWJtaXQiLCJlbGVtZW50c19jb250ZW50X29wZW5fd2l0aF9Db250ZW50T3BlbldpdGgiLCJlcnJvcl9ib3VuZGFyeSJdLCJtYXBwaW5ncyI6IjJGQUFBLElBQUFBLEVBQUFDLEVBQUEsR0FBQUMsRUFBQUQsRUFBQSxHQThCZUUsRUFBQSxFQTNCZixTQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLFVBQ0FBLE9BQUEsSUFBQUQsRUFBQSxHQUFBQSxFQUNBRSxFQUFBSCxFQUFBSSxNQUNBQSxPQUFBLElBQUFELEVBQUEsVUFBQUEsRUFDQUUsRUFBQUwsRUFBQU0sT0FDQUEsT0FBQSxJQUFBRCxFQUFBLEdBQUFBLEVBQ0FFLEVBQUFQLEVBQUFPLE1BQ0FDLEVBQUFSLEVBQUFTLE1BQ0FBLE9BQUEsSUFBQUQsRUFBQSxHQUFBQSxFQUNBLE9BQVNaLEVBQUEsY0FBb0JFLEVBQUEsRUFBYSxDQUMxQ0ksVUFBQSxrQkFBQVEsT0FBQVIsR0FDQUksU0FDQUMsUUFDQUksUUFBQSxZQUNBRixTQUNL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Q0FDLGVBQ0FuQyxRQUFBMUUsS0FBQWdULHNCQUNPL0YsR0FBQUQsSUFBbUZoRCxFQUFBbkIsRUFBS3ROLGNBQWVtQixFQUEwQixDQUN4SUMsU0FBQXFRLEVBQ0E3UixrQkFBQTZFLEtBQUE3RSxvQkFDT29QLEdBQXNCUCxFQUFBbkIsRUFBS3ROLGNBQWVvTyxHQUFXLENBQzVEWSxrQkFDQXZKLEdBQUFoQixLQUFBZ0IsR0FDQW1KLFNBQUFuSyxLQUFBaVQsb0JBQ0F2SSxXQUFBMUssS0FBQTdFLG1CQUFBNkUsS0FBQTdFLGtCQUFBMFAsY0FyaUI4RXFCLEdBQWlCck0sRUFBQWhDLFVBQUEwQyxHQUFvQ0MsR0FBa0IwTCxHQUFpQnJNLEVBQUFXLEdBMGlCdEtvTSxFQTVmQSxHQStmQXJCLEdBQWdCb0IsR0FBZSxnQkFDL0I0RSxRQUFXeEwsRUFBQSxFQUNYekwsVUFBQSxHQUNBa1gsV0FBY3pMLEVBQUEsRUFDZHVLLFVBQWExSCxFQUFBQyxFQUNic0csUUFBV3ZHLEVBQUFDLElBSUksSUFBQXFLLEdBQUExVyxPQUFBMlcsRUFBQSxFQUFBM1csQ0FBa0J1SixFQUFBLEdBQWtCcUQsR0FBcEMsQ0FBNER1RCxJQ2xrQjNFMVMsRUFBQWUsRUFBQWIsRUFBQSw0QkFBQStZIiwiZmlsZSI6InZlbmRvcnN+Y29udGVudC1vcGVuLXdpdGguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uT3BlbldpdGggPSBmdW5jdGlvbiBJY29uT3BlbldpdGgoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICcjNDQ0NDQ0JyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDEyIDogX3JlZiRoZWlnaHQsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gMTIgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tb3Blbi13aXRoIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAxMiAxMlwiLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk0xMCAxYTEgMSAwIDAgMSAxIDF2OGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTFoOG0wLTFIMmEyIDIgMCAwIDAtMiAydjhhMiAyIDAgMCAwIDIgMmg4YTIgMiAwIDAgMCAyLTJWMmEyIDIgMCAwIDAtMi0yelwiLFxuICAgIGZpbGw6IGNvbG9yXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZpbGwtY29sb3JcIixcbiAgICBkOiBcIk0zIDN2MWg0LjI5TDIuNjUgOC42NWwuNy43TDggNC43MVY5aDFWM0gzelwiLFxuICAgIGZpbGw6IGNvbG9yXG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEljb25PcGVuV2l0aDsiLCIvKipcbiAqIFxuICogQGZpbGUgQWxsb3dzIHJlYWN0IHRvIHJlbmRlciBhIGNvbXBvbmVudCBpbiBhbiBhcmJpdHJhcnkgRE9NIG5vZGUsIGluIHRoaXMgY2FzZSBpbiBhIG5ldyB3aW5kb3cuXG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuXG4vKipcbiAqIENvcGllcyBzdHlsZXNoZWV0cyB0byB0aGUgbmV3IHdpbmRvdy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtIVE1MRG9jdW1lbnR9IGRvY3VtZW50RWxlbWVudCAtIGFuIEhUTUwgZG9jdW1lbnRcbiAqIEBwYXJhbSB7V2luZG93fSBpbnRlZ3JhdGlvbldpbmRvdyAtIGEgYnJvd3NlciB3aW5kb3dcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5U3R5bGVzKGRvY3VtZW50RWxlbWVudCwgaW50ZWdyYXRpb25XaW5kb3cpIHtcbiAgLy8gVGhlIG5ldyB3aW5kb3cgd2lsbCBoYXZlIG5vIENTUywgc28gd2UgY29weSBhbGwgc3R5bGUgc2hlZXRzIGFzIGEgc2FmZSB3YXlcbiAgLy8gb2YgZW5zdXJpbmcgcmVxdWlyZWQgc3R5bGVzIGFyZSBwcmVzZW50XG4gIEFycmF5LmZyb20oZG9jdW1lbnRFbGVtZW50LnN0eWxlU2hlZXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZVNoZWV0KSB7XG4gICAgaWYgKCFzdHlsZVNoZWV0LmhyZWYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY29waWVkU3R5bGVTaGVldCA9IGludGVncmF0aW9uV2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICBjb3BpZWRTdHlsZVNoZWV0LnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgICBjb3BpZWRTdHlsZVNoZWV0LmhyZWYgPSBzdHlsZVNoZWV0LmhyZWY7XG4gICAgaW50ZWdyYXRpb25XaW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjb3BpZWRTdHlsZVNoZWV0KTtcbiAgfSk7IC8vIFJlc2V0IG1hcmdpbiBhbmQgcGFkZGluZyBpbiBvdXIgbmV3IHdpbmRvd1xuXG4gIGludGVncmF0aW9uV2luZG93LmRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gMDtcbiAgaW50ZWdyYXRpb25XaW5kb3cuZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nID0gMDtcbn1cblxudmFyIEludGVncmF0aW9uUG9ydGFsID0gZnVuY3Rpb24gSW50ZWdyYXRpb25Qb3J0YWwoX3JlZikge1xuICB2YXIgaW50ZWdyYXRpb25XaW5kb3cgPSBfcmVmLmludGVncmF0aW9uV2luZG93LFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICB2YXIgY29udGFpbmVyRWxlbWVudCA9IGludGVncmF0aW9uV2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb3B5U3R5bGVzKGRvY3VtZW50LCBpbnRlZ3JhdGlvbldpbmRvdyk7XG4gIGludGVncmF0aW9uV2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyRWxlbWVudCk7XG4gIHJldHVybiBjcmVhdGVQb3J0YWwoY2hpbGRyZW4sIGNvbnRhaW5lckVsZW1lbnQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW50ZWdyYXRpb25Qb3J0YWw7IiwiLyoqXG4gKiBcbiAqIEBmaWxlIGludGVncmF0aW9uIHBvcnRhbCBjb250YWluZXJcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBFcnJvck1hc2sgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lcnJvci1tYXNrL0Vycm9yTWFzayc7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvciBmcm9tICcuLi8uLi9jb21wb25lbnRzL2xvYWRpbmctaW5kaWNhdG9yL0xvYWRpbmdJbmRpY2F0b3InO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uL2NvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgSW50ZWdyYXRpb25Qb3J0YWwgZnJvbSAnLi9JbnRlZ3JhdGlvblBvcnRhbCc7XG5cbnZhciBJbnRlZ3JhdGlvblBvcnRhbENvbnRhaW5lciA9IGZ1bmN0aW9uIEludGVncmF0aW9uUG9ydGFsQ29udGFpbmVyKF9yZWYpIHtcbiAgdmFyIGhhc0Vycm9yID0gX3JlZi5oYXNFcnJvcixcbiAgICAgIGludGVncmF0aW9uV2luZG93ID0gX3JlZi5pbnRlZ3JhdGlvbldpbmRvdztcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW50ZWdyYXRpb25Qb3J0YWwsIHtcbiAgICBpbnRlZ3JhdGlvbldpbmRvdzogaW50ZWdyYXRpb25XaW5kb3dcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJlIGJjb3cgYmNvdy1wb3J0YWwtY29udGFpbmVyXCJcbiAgfSwgaGFzRXJyb3IgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEVycm9yTWFzaywge1xuICAgIGVycm9ySGVhZGVyOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmV4ZWN1dGVJbnRlZ3JhdGlvbk9wZW5XaXRoRXJyb3JIZWFkZXIpLFxuICAgIGVycm9yU3ViSGVhZGVyOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmV4ZWN1dGVJbnRlZ3JhdGlvbk9wZW5XaXRoRXJyb3JTdWJIZWFkZXIpXG4gIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nSW5kaWNhdG9yLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjb3ctcG9ydGFsLWxvYWRpbmctaW5kaWNhdG9yXCIsXG4gICAgc2l6ZTogXCJsYXJnZVwiXG4gIH0pKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJbnRlZ3JhdGlvblBvcnRhbENvbnRhaW5lcjsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG5cbnZhciBJY29uQWRvYmVTaWduID0gZnVuY3Rpb24gSWNvbkFkb2JlU2lnbihfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDMwIDogX3JlZiRoZWlnaHQsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gMzAgOiBfcmVmJHdpZHRoO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tYWRvYmUtc2lnbiBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdmlld0JveDogXCIwIDAgMzAgMzBcIixcbiAgICB3aWR0aDogd2lkdGhcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEuMjcgMS4yN2gyNy40NXYyNi42N0gxLjI3elwiLFxuICAgIGZpbGw6IFwiIzI2MDAwMFwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMCAwdjI5LjIzaDMwVjB6bTEuNDUgMS40NWgyNy4xdjI2LjMxSDEuNDV6XCIsXG4gICAgZmlsbDogXCIjZmYzNjAxXCJcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01LjggMTEuNTl2NC4wMWwxLjczIDIuNzYgMS43Mi0yLjc2di00LjAxSDUuOE01LjY4IDIwLjRoMTkuMDZ2MS4wNEg1LjY4elwiLFxuICAgIGZpbGw6IFwiI2ZmMzYwMVwiXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjQuNzggMTZhLjI5LjI5IDAgMCAwLS4yLS4xNiA4LjkgOC45IDAgMCAwLTQuNjQuNDVjMS4yNC0xLjY0IDEtMS45My45MS0yLjA5cy0uMzgtLjIyLS43Mi0uMDhhMjguMjMgMjguMjMgMCAwIDAtMy4wNyAxLjU0YzEtMS41NCAxLjM1LTIuNTUgMS4xLTIuOTRhLjU1LjU1IDAgMCAwLS41OC0uMjMgNy4yNSA3LjI1IDAgMCAwLTEuMTMuMjljMi4wNy0zLjEgMi43Mi00LjcxIDIuMjMtNS41NC0uMjMtLjM4LS43LS41NC0xLjM5LS40NmE4LjEzIDguMTMgMCAwIDAtMy43NyAxLjkyIDUuMzggNS4zOCAwIDAgMC0yLjEyIDIuODQgMS4xNyAxLjE3IDAgMCAwIDEgMS4yNS4zMS4zMSAwIDAgMCAuMjUgMCAuMjkuMjkgMCAwIDAgLjE2LS4yLjI5LjI5IDAgMCAwIDAtLjI0LjI5LjI5IDAgMCAwLS4yLS4xNmMtLjQ5LS4xNS0uNTQtLjM4LS41My0uNTcuMTEtMS4zIDMuNDktMy45NCA1LjMyLTQuMTYuNCAwIC42NSAwIC43NC4xNi4zNC41OC0uNTkgMi40OC0yLjc3IDUuNjQtMi44IDEuMjktNC44NSAzLjI1LTUgNC4yN2EuODUuODUgMCAwIDAgLjQ4LjkyLjguOCAwIDAgMCAuNDQuMTFjMS4xNSAwIDIuNjEtMiA0LjU0LTQuNzhhNy43NyA3Ljc3IDAgMCAxIDEuNzktLjU3IDEzLjM2IDEzLjM2IDAgMCAxLTEuODggMy4zMy4zMi4zMiAwIDAgMCAwIC40Mi4zNC4zNCAwIDAgMCAuNDEgMCAzOC44NiAzOC44NiAwIDAgMSA0LTIuMTEgMTUuNTUgMTUuNTUgMCAwIDEtMS40MiAxLjk0LjM1LjM1IDAgMCAwIDAgLjQxLjMyLjMyIDAgMCAwIC4zOC4xMWMuNTgtLjIzIDMuNTYtMS4zMyA1LjI5LS44MmEuMzEuMzEgMCAwIDAgLjI1IDAgLjM1LjM1IDAgMCAwIC4xNi0uMi4zMS4zMSAwIDAgMC0uMDMtLjI5em0tMTAuMjItMS42MmMtLjkzIDEuMzEtMi43NSAzLjgzLTMuNDUgMy40Ni0uMTEtLjA1LS4xNC0uMS0uMTItLjIzLjEtLjcyIDEuNzQtMi4xOSAzLjU3LTMuMjN6XCIsXG4gICAgZmlsbDogXCIjZmFjZmNiXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbkFkb2JlU2lnbjsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVuaXF1ZUlkIGZyb20gJ2xvZGFzaC91bmlxdWVJZCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG52YXIgSUNPTl9DTEFTUyA9ICdpY29uLWdvb2dsZS1kb2NzJztcblxudmFyIEljb25Hb29nbGVEb2NzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhJY29uR29vZ2xlRG9jcywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSWNvbkdvb2dsZURvY3MoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSWNvbkdvb2dsZURvY3MpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoSWNvbkdvb2dsZURvY3MpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJpZFByZWZpeFwiLCBcIlwiLmNvbmNhdCh1bmlxdWVJZChJQ09OX0NMQVNTKSwgXCItXCIpKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJY29uR29vZ2xlRG9jcywgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJHByb3BzLmhlaWdodCxcbiAgICAgICAgICB0aXRsZSA9IF90aGlzJHByb3BzLnRpdGxlLFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHMud2lkdGg7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2Nlc3NpYmxlU1ZHLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQoSUNPTl9DTEFTUywgXCIgXCIpLmNvbmNhdChjbGFzc05hbWUpLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICB2aWV3Qm94OiBcIjAgMCAzMCAzMFwiLFxuICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaW5lYXJHcmFkaWVudFwiLCB7XG4gICAgICAgIGdyYWRpZW50VHJhbnNmb3JtOiBcIm1hdHJpeCgyLjY3IDAgMCAtMi42NyA1OTYuNjcgMTM1NylcIixcbiAgICAgICAgZ3JhZGllbnRVbml0czogXCJ1c2VyU3BhY2VPblVzZVwiLFxuICAgICAgICBpZDogXCJcIi5jb25jYXQodGhpcy5pZFByZWZpeCwgXCJhXCIpLFxuICAgICAgICB4MTogXCItMjE1LjQ5XCIsXG4gICAgICAgIHgyOiBcIi0yMTUuNDlcIixcbiAgICAgICAgeTE6IFwiNTA1Ljc5XCIsXG4gICAgICAgIHkyOiBcIjUwMy4xOVwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgICAgIG9mZnNldDogXCIwXCIsXG4gICAgICAgIHN0b3BDb2xvcjogXCIjMWEyMzdlXCIsXG4gICAgICAgIHN0b3BPcGFjaXR5OiBcIi4yXCJcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgICAgIG9mZnNldDogXCIxXCIsXG4gICAgICAgIHN0b3BDb2xvcjogXCIjMWEyMzdlXCIsXG4gICAgICAgIHN0b3BPcGFjaXR5OiBcIi4wMlwiXG4gICAgICB9KSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IFwiTTE3LjY0IDBINi4wNUEyLjA1IDIuMDUgMCAwIDAgNCAyLjA1VjI4YTIuMDUgMi4wNSAwIDAgMCAyLjA1IDJoMTcuNzJhMi4wNSAyLjA1IDAgMCAwIDIuMDUtMlY4LjE4bC00Ljc3LTMuNDF6XCIsXG4gICAgICAgIGZpbGw6IFwiIzQyODVmNFwiXG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBkOiBcIk0xOC4yMyA3LjU4bDcuNTkgNy41OFY4LjE4bC03LjU5LS42elwiLFxuICAgICAgICBmaWxsOiBcInVybCgjXCIuY29uY2F0KHRoaXMuaWRQcmVmaXgsIFwiYSlcIilcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IFwiTTkuNDUgMjEuODJoMTAuOTF2LTEuMzdIOS40NXptMCAyLjczaDguMTl2LTEuMzdIOS40NXptMC05LjU1djEuMzZoMTAuOTFWMTV6bTAgNC4wOWgxMC45MXYtMS4zNkg5LjQ1elwiLFxuICAgICAgICBmaWxsOiBcIiNmMWYxZjFcIlxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogXCJNMTcuNjQgMHY2LjE0YTIgMiAwIDAgMCAyIDJoNi4xNHpcIixcbiAgICAgICAgZmlsbDogXCIjYTFjMmZhXCJcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IFwiTTYuMDUgMEEyLjA1IDIuMDUgMCAwIDAgNCAyLjA1di4xN0EyLjA1IDIuMDUgMCAwIDEgNi4wNS4xN2gxMS41OVYwelwiLFxuICAgICAgICBmaWxsOiBcIiNmZmZcIixcbiAgICAgICAgZmlsbE9wYWNpdHk6IFwiLjJcIlxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogXCJNMTkuNjggOC4xOGEyIDIgMCAwIDEtMi0ydi4xN2EyIDIgMCAwIDAgMiAyaDYuMTR2LS4xN3pcIixcbiAgICAgICAgZmlsbDogXCIjMWEyMzdlXCIsXG4gICAgICAgIGZpbGxPcGFjaXR5OiBcIi4xXCJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSWNvbkdvb2dsZURvY3M7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShJY29uR29vZ2xlRG9jcywgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBjbGFzc05hbWU6ICcnLFxuICBoZWlnaHQ6IDMwLFxuICB3aWR0aDogMzBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBJY29uR29vZ2xlRG9jczsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVuaXF1ZUlkIGZyb20gJ2xvZGFzaC91bmlxdWVJZCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG52YXIgSUNPTl9DTEFTUyA9ICdpY29uLWdvb2dsZS1zaGVldHMnO1xuXG52YXIgSWNvbkdvb2dsZVNoZWV0cyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoSWNvbkdvb2dsZVNoZWV0cywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSWNvbkdvb2dsZVNoZWV0cygpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJY29uR29vZ2xlU2hlZXRzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKEljb25Hb29nbGVTaGVldHMpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJpZFByZWZpeFwiLCBcIlwiLmNvbmNhdCh1bmlxdWVJZChJQ09OX0NMQVNTKSwgXCItXCIpKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJY29uR29vZ2xlU2hlZXRzLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHMuaGVpZ2h0LFxuICAgICAgICAgIHRpdGxlID0gX3RoaXMkcHJvcHMudGl0bGUsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wcy53aWR0aDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY2Vzc2libGVTVkcsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChJQ09OX0NMQVNTLCBcIiBcIikuY29uY2F0KGNsYXNzTmFtZSksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDMwIDMwXCIsXG4gICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRlZnNcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImxpbmVhckdyYWRpZW50XCIsIHtcbiAgICAgICAgZ3JhZGllbnRUcmFuc2Zvcm06IFwibWF0cml4KDIuNjcgMCAwIC0yLjY3IDU5Ni42NyAxMzU3KVwiLFxuICAgICAgICBncmFkaWVudFVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCIsXG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdCh0aGlzLmlkUHJlZml4LCBcImFcIiksXG4gICAgICAgIHgxOiBcIi0yMTUuNDlcIixcbiAgICAgICAgeDI6IFwiLTIxNS40OVwiLFxuICAgICAgICB5MTogXCI1MDUuNzlcIixcbiAgICAgICAgeTI6IFwiNTAzLjE5XCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdG9wXCIsIHtcbiAgICAgICAgb2Zmc2V0OiBcIjBcIixcbiAgICAgICAgc3RvcENvbG9yOiBcIiMyMDgyNTZcIlxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdG9wXCIsIHtcbiAgICAgICAgb2Zmc2V0OiBcIi41NVwiLFxuICAgICAgICBzdG9wQ29sb3I6IFwiIzE5OTU1YVwiLFxuICAgICAgICBzdG9wT3BhY2l0eTogXCIuMlwiXG4gICAgICB9KSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IFwiTTE3LjY0IDBINi4wNUEyLjA1IDIuMDUgMCAwIDAgNCAyLjA1VjI4YTIuMDUgMi4wNSAwIDAgMCAyLjA1IDJoMTcuNzJhMi4wNSAyLjA1IDAgMCAwIDIuMDUtMlY4LjE4bC00Ljc3LTMuNDF6XCIsXG4gICAgICAgIGZpbGw6IFwiIzIyYTU2NVwiXG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBkOiBcIk0xOC4yMyA3LjU4bDcuNTkgNy41OFY4LjE4bC03LjU5LS42elwiLFxuICAgICAgICBmaWxsOiBcInVybCgjXCIuY29uY2F0KHRoaXMuaWRQcmVmaXgsIFwiYSlcIilcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IFwiTTE3LjY0IDB2Ni4xNGEyIDIgMCAwIDAgMiAyaDYuMTR6XCIsXG4gICAgICAgIGZpbGw6IFwiIzhlZDFiMVwiXG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBkOiBcIk02LjA1IDBBMi4wNSAyLjA1IDAgMCAwIDQgMi4wNXYuMTdBMi4wNSAyLjA1IDAgMCAxIDYuMDUuMTdoMTEuNTlWMHpcIixcbiAgICAgICAgZmlsbDogXCIjZmZmXCIsXG4gICAgICAgIGZpbGxPcGFjaXR5OiBcIi4yXCJcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IFwiTTE5LjY4IDguMThhMiAyIDAgMCAxLTItMnYuMTdhMiAyIDAgMCAwIDIgMmg2LjE0di0uMTd6XCIsXG4gICAgICAgIGZpbGw6IFwiIzFhMjM3ZVwiLFxuICAgICAgICBmaWxsT3BhY2l0eTogXCIuMVwiXG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBkOiBcIk0xMCAxNHYxMGgxMFYxNHptMSAxaDMuNXYySDExem0wIDNoMy41djJIMTF6bTAgNXYtMmgzLjV2MnptOCAwaC0zLjV2LTJIMTl6bTAtM2gtMy41di0ySDE5em0wLTNoLTMuNXYtMkgxOXpcIixcbiAgICAgICAgZmlsbDogXCIjZjFmMWYxXCJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSWNvbkdvb2dsZVNoZWV0cztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KEljb25Hb29nbGVTaGVldHMsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgY2xhc3NOYW1lOiAnJyxcbiAgaGVpZ2h0OiAzMCxcbiAgd2lkdGg6IDMwXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbkdvb2dsZVNoZWV0czsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVuaXF1ZUlkIGZyb20gJ2xvZGFzaC91bmlxdWVJZCc7XG5pbXBvcnQgQWNjZXNzaWJsZVNWRyBmcm9tICcuLi9hY2Nlc3NpYmxlLXN2Zyc7XG52YXIgSUNPTl9DTEFTUyA9ICdpY29uLWdvb2dsZS1zbGlkZXMnO1xuXG52YXIgSWNvbkdvb2dsZVNsaWRlcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoSWNvbkdvb2dsZVNsaWRlcywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSWNvbkdvb2dsZVNsaWRlcygpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJY29uR29vZ2xlU2xpZGVzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKEljb25Hb29nbGVTbGlkZXMpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJpZFByZWZpeFwiLCBcIlwiLmNvbmNhdCh1bmlxdWVJZChJQ09OX0NMQVNTKSwgXCItXCIpKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJY29uR29vZ2xlU2xpZGVzLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHMuaGVpZ2h0LFxuICAgICAgICAgIHRpdGxlID0gX3RoaXMkcHJvcHMudGl0bGUsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wcy53aWR0aDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY2Vzc2libGVTVkcsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChJQ09OX0NMQVNTLCBcIiBcIikuY29uY2F0KGNsYXNzTmFtZSksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDMwIDMwXCIsXG4gICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRlZnNcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImxpbmVhckdyYWRpZW50XCIsIHtcbiAgICAgICAgZ3JhZGllbnRUcmFuc2Zvcm06IFwibWF0cml4KDIuNjcgMCAwIC0yLjY3IDU5Ni42NyAxMzU3KVwiLFxuICAgICAgICBncmFkaWVudFVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCIsXG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdCh0aGlzLmlkUHJlZml4LCBcImFcIiksXG4gICAgICAgIHgxOiBcIi0yMTUuNDlcIixcbiAgICAgICAgeDI6IFwiLTIxNS40OVwiLFxuICAgICAgICB5MTogXCI1MDUuNzlcIixcbiAgICAgICAgeTI6IFwiNTAzLjE5XCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdG9wXCIsIHtcbiAgICAgICAgb2Zmc2V0OiBcIjBcIixcbiAgICAgICAgc3RvcENvbG9yOiBcIiNkMDg3MTRcIixcbiAgICAgICAgc3RvcE9wYWNpdHk6IFwiLjg4XCJcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgICAgIG9mZnNldDogXCIuNTVcIixcbiAgICAgICAgc3RvcENvbG9yOiBcIiNjZjg3MTRcIixcbiAgICAgICAgc3RvcE9wYWNpdHk6IFwiLjJcIlxuICAgICAgfSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBkOiBcIk0xNy42NCAwSDYuMDVBMi4wNSAyLjA1IDAgMCAwIDQgMi4wNVYyOGEyLjA1IDIuMDUgMCAwIDAgMi4wNSAyaDE3LjcyYTIuMDUgMi4wNSAwIDAgMCAyLjA1LTJWOC4xOGwtNC43Ny0zLjQxelwiLFxuICAgICAgICBmaWxsOiBcIiNmNGI5MTJcIlxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogXCJNMTguMjMgNy41OGw3LjU5IDcuNThWOC4xOGwtNy41OS0uNnpcIixcbiAgICAgICAgZmlsbDogXCJ1cmwoI1wiLmNvbmNhdCh0aGlzLmlkUHJlZml4LCBcImEpXCIpXG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBkOiBcIk0xNy42NCAwdjYuMTRhMiAyIDAgMCAwIDIgMmg2LjE0elwiLFxuICAgICAgICBmaWxsOiBcIiNmYWRjODdcIlxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogXCJNNi4wNSAwQTIuMDUgMi4wNSAwIDAgMCA0IDIuMDV2LjE3QTIuMDUgMi4wNSAwIDAgMSA2LjA1LjE3aDExLjU5VjB6XCIsXG4gICAgICAgIGZpbGw6IFwiI2ZmZlwiLFxuICAgICAgICBmaWxsT3BhY2l0eTogXCIuMlwiXG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBkOiBcIk0xOS42OCA4LjE4YTIgMiAwIDAgMS0yLTJ2LjE3YTIgMiAwIDAgMCAyIDJoNi4xNHYtLjE3elwiLFxuICAgICAgICBmaWxsOiBcIiMxYTIzN2VcIixcbiAgICAgICAgZmlsbE9wYWNpdHk6IFwiLjFcIlxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogXCJNMTAgMTV2OGExIDEgMCAwIDAgMSAxaDhhMSAxIDAgMCAwIDEtMXYtOGExIDEgMCAwIDAtMS0xaC04YTEgMSAwIDAgMC0xIDF6bTkgNmgtOHYtNGg4elwiLFxuICAgICAgICBmaWxsOiBcIiNmMWYxZjFcIlxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJY29uR29vZ2xlU2xpZGVzO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoSWNvbkdvb2dsZVNsaWRlcywgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBjbGFzc05hbWU6ICcnLFxuICBoZWlnaHQ6IDMwLFxuICB3aWR0aDogMzBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBJY29uR29vZ2xlU2xpZGVzOyIsIi8qKlxuICogXG4gKiBAZmlsZSBNYWludGFpbnMgYSBtYXBwaW5nIG9mIGludGVncmF0aW9uIG5hbWVzIHRvIGljb25zLlxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0IEljb25BZG9iZVNpZ24gZnJvbSAnLi4vLi4vaWNvbnMvYWRvYmUtc2lnbi9JY29uQWRvYmVTaWduJztcbmltcG9ydCBJY29uR29vZ2xlRG9jcyBmcm9tICcuLi8uLi9pY29ucy9nb29nbGUtZG9jcy9JY29uR29vZ2xlRG9jcyc7XG5pbXBvcnQgSWNvbkdvb2dsZVNoZWV0cyBmcm9tICcuLi8uLi9pY29ucy9nb29nbGUtZG9jcy9JY29uR29vZ2xlU2hlZXRzJztcbmltcG9ydCBJY29uR29vZ2xlU2xpZGVzIGZyb20gJy4uLy4uL2ljb25zL2dvb2dsZS1kb2NzL0ljb25Hb29nbGVTbGlkZXMnO1xuaW1wb3J0IEZpbGVJY29uIGZyb20gJy4uLy4uL2ljb25zL2ZpbGUtaWNvbi9GaWxlSWNvbic7XG52YXIgSUNPTl9GSUxFX01BUCA9IHtcbiAgJ0Fkb2JlIFNpZ24nOiBJY29uQWRvYmVTaWduLFxuICAnR29vZ2xlIERvY3MnOiBJY29uR29vZ2xlRG9jcyxcbiAgJ0dvb2dsZSBEb2NzIChiZXRhKSc6IEljb25Hb29nbGVEb2NzLFxuICAnR29vZ2xlIFNoZWV0cyc6IEljb25Hb29nbGVTaGVldHMsXG4gICdHb29nbGUgU2hlZXRzIChiZXRhKSc6IEljb25Hb29nbGVTaGVldHMsXG4gICdHb29nbGUgU2xpZGVzJzogSWNvbkdvb2dsZVNsaWRlcyxcbiAgJ0dvb2dsZSBTbGlkZXMgKGJldGEpJzogSWNvbkdvb2dsZVNsaWRlc1xufTtcblxuZnVuY3Rpb24gZ2V0SWNvbihpY29uTmFtZSkge1xuICByZXR1cm4gSUNPTl9GSUxFX01BUFtpY29uTmFtZV0gfHwgRmlsZUljb247XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldEljb247IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIEN1c3RvbSBtZXNzYWdlIHRvIGluc3RhbGwgQm94IFRvb2xzIGluc2lkZSBvZiBPcGVuIFdpdGguXG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vY29tbW9uL21lc3NhZ2VzJztcbmltcG9ydCAnLi9Cb3hUb29sc0luc3RhbGxNZXNzYWdlLnNjc3MnO1xudmFyIERFRkFVTFRfQk9YX1RPT0xTX0lOU1RBTExBVElPTl9VUkwgPSAnaHR0cHM6Ly9jbG91ZC5ib3guY29tL3YvaW5zdGFsbGJveHRvb2xzJztcbnZhciBERUZBVUxUX0JPWF9UT09MU19OQU1FID0gJ0JveCBUb29scyc7XG5cbnZhciBCb3hUb29sc0luc3RhbGxNZXNzYWdlID0gZnVuY3Rpb24gQm94VG9vbHNJbnN0YWxsTWVzc2FnZShfcmVmKSB7XG4gIHZhciBfcmVmJGJveFRvb2xzTmFtZSA9IF9yZWYuYm94VG9vbHNOYW1lLFxuICAgICAgYm94VG9vbHNOYW1lID0gX3JlZiRib3hUb29sc05hbWUgPT09IHZvaWQgMCA/IERFRkFVTFRfQk9YX1RPT0xTX05BTUUgOiBfcmVmJGJveFRvb2xzTmFtZSxcbiAgICAgIF9yZWYkYm94VG9vbHNJbnN0YWxsVSA9IF9yZWYuYm94VG9vbHNJbnN0YWxsVXJsLFxuICAgICAgYm94VG9vbHNJbnN0YWxsVXJsID0gX3JlZiRib3hUb29sc0luc3RhbGxVID09PSB2b2lkIDAgPyBERUZBVUxUX0JPWF9UT09MU19JTlNUQUxMQVRJT05fVVJMIDogX3JlZiRib3hUb29sc0luc3RhbGxVO1xuXG4gIHZhciBvbkxpbmtDbGljayA9IGZ1bmN0aW9uIG9uTGlua0NsaWNrKCkge1xuICAgIC8vIE1hbnVhbGx5IG9wZW4gdGhlIFVSTCBzaW5jZSBkaXNhYmxlZCBtZW51IGl0ZW1zIGFyZSBibG9ja2VkIGZyb20gY2xpY2thYmxlIGFjdGlvbnMgYnkgZGVmYXVsdFxuICAgIHdpbmRvdy5vcGVuKGJveFRvb2xzSW5zdGFsbFVybCk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgX2V4dGVuZHMoe30sIG1lc3NhZ2VzLmJveFRvb2xzSW5zdGFsbE1lc3NhZ2UsIHtcbiAgICB2YWx1ZXM6IHtcbiAgICAgIGJveFRvb2xzOiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWlzLXZhbGlkXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgICAgIGhyZWY6IFwiI1wiLFxuICAgICAgICBvbkNsaWNrOiBvbkxpbmtDbGljayxcbiAgICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgfSwgYm94VG9vbHNOYW1lKVxuICAgIH1cbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQm94VG9vbHNJbnN0YWxsTWVzc2FnZTsiLCIvKipcbiAqIFxuICogQGZpbGUgT3BlbiBXaXRoIHV0aWxzXG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgZ2V0UHJvcCBmcm9tICdsb2Rhc2gvZ2V0JztcbmltcG9ydCBCb3hUb29sc0luc3RhbGxNZXNzYWdlIGZyb20gJy4vQm94VG9vbHNJbnN0YWxsTWVzc2FnZSc7XG5cbnZhciBpc0Rpc2FibGVkQmVjYXVzZUJveFRvb2xzSXNOb3RJbnN0YWxsZWQgPSBmdW5jdGlvbiBpc0Rpc2FibGVkQmVjYXVzZUJveFRvb2xzSXNOb3RJbnN0YWxsZWQoaW50ZWdyYXRpb24pIHtcbiAgdmFyIGRpc2FibGVkUmVhc29uVHlwZSA9IGdldFByb3AoaW50ZWdyYXRpb24sICdkaXNhYmxlZFJlYXNvbnMuMC50eXBlJyk7XG4gIHJldHVybiBkaXNhYmxlZFJlYXNvblR5cGUgPT09IEJveFRvb2xzSW5zdGFsbE1lc3NhZ2U7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzRGlzYWJsZWRCZWNhdXNlQm94VG9vbHNJc05vdEluc3RhbGxlZDogaXNEaXNhYmxlZEJlY2F1c2VCb3hUb29sc0lzTm90SW5zdGFsbGVkXG59OyIsIi8qKlxuICogXG4gKiBAZmlsZSBPcGVuIFdpdGggZHJvcGRvd24gbWVudSBpdGVtXG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBNZW51SXRlbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL21lbnUvTWVudUl0ZW0nO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uL2NvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBPUEVOX1dJVEhfTUVOVV9JVEVNX0lDT05fU0laRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgZ2V0SWNvbiBmcm9tICcuL0ljb25GaWxlTWFwJztcbmltcG9ydCB1dGlscyBmcm9tICcuL29wZW5XaXRoVXRpbHMnO1xuaW1wb3J0ICcuL09wZW5XaXRoRHJvcGRvd25NZW51SXRlbS5zY3NzJztcblxudmFyIE9wZW5XaXRoRHJvcGRvd25NZW51SXRlbSA9IGZ1bmN0aW9uIE9wZW5XaXRoRHJvcGRvd25NZW51SXRlbShfcmVmKSB7XG4gIHZhciBpbnRlZ3JhdGlvbiA9IF9yZWYuaW50ZWdyYXRpb24sXG4gICAgICBfb25DbGljayA9IF9yZWYub25DbGljaztcbiAgdmFyIGRpc3BsYXlOYW1lID0gaW50ZWdyYXRpb24uZGlzcGxheU5hbWUsXG4gICAgICBkaXNwbGF5RGVzY3JpcHRpb24gPSBpbnRlZ3JhdGlvbi5kaXNwbGF5RGVzY3JpcHRpb24sXG4gICAgICBpc0Rpc2FibGVkID0gaW50ZWdyYXRpb24uaXNEaXNhYmxlZCxcbiAgICAgIGV4dGVuc2lvbiA9IGludGVncmF0aW9uLmV4dGVuc2lvbixcbiAgICAgIGRpc2FibGVkUmVhc29ucyA9IGludGVncmF0aW9uLmRpc2FibGVkUmVhc29ucztcbiAgdmFyIEljb24gPSBnZXRJY29uKGRpc3BsYXlOYW1lKTsgLy8gVXNlIHRoZSBmaXJzdCBkaXNhYmxlZCByZWFzb24gYXMgdGhlIGRlc2NyaXB0aW9uIGlmIHRoZSBpbnRlZ3JhdGlvbiBpcyBkaXNhYmxlZC5cblxuICB2YXIgZXJyb3JEZXNjcmlwdGlvbiA9IGRpc2FibGVkUmVhc29uc1swXSB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmVycm9yT3BlbldpdGhEZXNjcmlwdGlvbik7XG4gIHZhciBkZXNjcmlwdGlvbiA9IGlzRGlzYWJsZWQgPyBlcnJvckRlc2NyaXB0aW9uIDogZGlzcGxheURlc2NyaXB0aW9uO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyh7XG4gICAgJ2Jjb3ctYm94LXRvb2xzLXVuaW5zdGFsbGVkJzogdXRpbHMuaXNEaXNhYmxlZEJlY2F1c2VCb3hUb29sc0lzTm90SW5zdGFsbGVkKGludGVncmF0aW9uKVxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gX29uQ2xpY2soaW50ZWdyYXRpb24pO1xuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgZGltZW5zaW9uOiBPUEVOX1dJVEhfTUVOVV9JVEVNX0lDT05fU0laRSxcbiAgICBleHRlbnNpb246IGV4dGVuc2lvbixcbiAgICBoZWlnaHQ6IE9QRU5fV0lUSF9NRU5VX0lURU1fSUNPTl9TSVpFLFxuICAgIHdpZHRoOiBPUEVOX1dJVEhfTUVOVV9JVEVNX0lDT05fU0laRVxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiY293LW1lbnUtaXRlbS10aXRsZVwiXG4gIH0sIGRpc3BsYXlOYW1lKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge1xuICAgIGNsYXNzTmFtZTogXCJiY293LW1lbnUtaXRlbS1kZXNjcmlwdGlvblwiXG4gIH0sIGRlc2NyaXB0aW9uKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgT3BlbldpdGhEcm9wZG93bk1lbnVJdGVtOyIsIi8qKlxuICogXG4gKiBAZmlsZSBPcGVuIFdpdGggYnV0dG9uIGNvbnRlbnRzXG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vY29tbW9uL21lc3NhZ2VzJztcblxudmFyIE9wZW5XaXRoQnV0dG9uQ29udGVudHMgPSBmdW5jdGlvbiBPcGVuV2l0aEJ1dHRvbkNvbnRlbnRzKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJjb3ctYnRuLWhlYWRlci10ZXh0XCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtYXR0ZWRNZXNzYWdlLCBtZXNzYWdlcy5vcGVuKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgT3BlbldpdGhCdXR0b25Db250ZW50czsiLCIvKipcbiAqIFxuICogQGZpbGUgT3BlbiBXaXRoIGJ1dHRvbiB3aGVuIG11bHRpcGxlIGludGVncmF0aW9ucyBhcmUgcHJlc2VudFxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IE1lbnVUb2dnbGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9kcm9wZG93bi1tZW51L01lbnVUb2dnbGUnO1xuaW1wb3J0IEljb25PcGVuV2l0aCBmcm9tICcuLi8uLi9pY29ucy9nZW5lcmFsL0ljb25PcGVuV2l0aCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYnV0dG9uL0J1dHRvbic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuLi9jb21tb24vVG9vbHRpcCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vY29tbW9uL21lc3NhZ2VzJztcbmltcG9ydCBPcGVuV2l0aEJ1dHRvbkNvbnRlbnRzIGZyb20gJy4vT3BlbldpdGhCdXR0b25Db250ZW50cyc7XG5pbXBvcnQgeyBDTEFTU19JTlRFR1JBVElPTl9JQ09OLCBPUEVOX1dJVEhfQlVUVE9OX0lDT05fU0laRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5cbnZhciBNdWx0aXBsZUludGVncmF0aW9uc09wZW5XaXRoQnV0dG9uID0gZnVuY3Rpb24gTXVsdGlwbGVJbnRlZ3JhdGlvbnNPcGVuV2l0aEJ1dHRvbihidXR0b25Qcm9wcykge1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgcG9zaXRpb246IFwibWlkZGxlLWxlZnRcIixcbiAgICB0ZXh0OiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmRlZmF1bHRPcGVuV2l0aERlc2NyaXB0aW9uKVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgYnV0dG9uUHJvcHMsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudVRvZ2dsZSwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChPcGVuV2l0aEJ1dHRvbkNvbnRlbnRzLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25PcGVuV2l0aCwge1xuICAgIGNsYXNzTmFtZTogQ0xBU1NfSU5URUdSQVRJT05fSUNPTixcbiAgICBkaW1lbnNpb246IE9QRU5fV0lUSF9CVVRUT05fSUNPTl9TSVpFLFxuICAgIGhlaWdodDogT1BFTl9XSVRIX0JVVFRPTl9JQ09OX1NJWkUsXG4gICAgd2lkdGg6IE9QRU5fV0lUSF9CVVRUT05fSUNPTl9TSVpFXG4gIH0pKSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE11bHRpcGxlSW50ZWdyYXRpb25zT3BlbldpdGhCdXR0b247IiwiLyoqXG4gKiBcbiAqIEBmaWxlIE9wZW4gV2l0aCBkcm9wZG93biBtZW51XG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRHJvcGRvd25NZW51IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZHJvcGRvd24tbWVudS9Ecm9wZG93bk1lbnUnO1xuaW1wb3J0IE1lbnUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9tZW51L01lbnUnO1xuaW1wb3J0IE9wZW5XaXRoRHJvcGRvd25NZW51SXRlbSBmcm9tICcuL09wZW5XaXRoRHJvcGRvd25NZW51SXRlbSc7XG5pbXBvcnQgTXVsdGlwbGVJbnRlZ3JhdGlvbnNPcGVuV2l0aEJ1dHRvbiBmcm9tICcuL011bHRpcGxlSW50ZWdyYXRpb25zT3BlbldpdGhCdXR0b24nO1xudmFyIFJJR0hUX0FMSUdOTUVOVCA9ICdyaWdodCc7XG5cbnZhciBPcGVuV2l0aERyb3Bkb3duTWVudSA9IGZ1bmN0aW9uIE9wZW5XaXRoRHJvcGRvd25NZW51KF9yZWYpIHtcbiAgdmFyIF9yZWYkZHJvcGRvd25BbGlnbm1lbiA9IF9yZWYuZHJvcGRvd25BbGlnbm1lbnQsXG4gICAgICBkcm9wZG93bkFsaWdubWVudCA9IF9yZWYkZHJvcGRvd25BbGlnbm1lbiA9PT0gdm9pZCAwID8gUklHSFRfQUxJR05NRU5UIDogX3JlZiRkcm9wZG93bkFsaWdubWVuLFxuICAgICAgaW50ZWdyYXRpb25zID0gX3JlZi5pbnRlZ3JhdGlvbnMsXG4gICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93bk1lbnUsIHtcbiAgICBpc1JpZ2h0QWxpZ25lZDogZHJvcGRvd25BbGlnbm1lbnQgPT09IFJJR0hUX0FMSUdOTUVOVFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KE11bHRpcGxlSW50ZWdyYXRpb25zT3BlbldpdGhCdXR0b24sIG51bGwpLCBSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnUsIHtcbiAgICBjbGFzc05hbWU6IFwiYmNvdy1tZW51XCJcbiAgfSwgaW50ZWdyYXRpb25zLm1hcChmdW5jdGlvbiAoaW50ZWdyYXRpb24pIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChPcGVuV2l0aERyb3Bkb3duTWVudUl0ZW0sIHtcbiAgICAgIGtleTogaW50ZWdyYXRpb24uYXBwSW50ZWdyYXRpb25JZCxcbiAgICAgIGludGVncmF0aW9uOiBpbnRlZ3JhdGlvbixcbiAgICAgIG9uQ2xpY2s6IG9uQ2xpY2tcbiAgICB9KTtcbiAgfSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9wZW5XaXRoRHJvcGRvd25NZW51OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG4vKipcbiAqIFxuICogQGZpbGUgT3BlbiBXaXRoIGJ1dHRvblxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IG5vb3AgZnJvbSAnbG9kYXNoL25vb3AnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL2J1dHRvbi9CdXR0b24nO1xuaW1wb3J0IEljb25PcGVuV2l0aCBmcm9tICcuLi8uLi9pY29ucy9nZW5lcmFsL0ljb25PcGVuV2l0aCc7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuLi9jb21tb24vVG9vbHRpcCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vY29tbW9uL21lc3NhZ2VzJztcbmltcG9ydCBPcGVuV2l0aEJ1dHRvbkNvbnRlbnRzIGZyb20gJy4vT3BlbldpdGhCdXR0b25Db250ZW50cyc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi9vcGVuV2l0aFV0aWxzJztcbmltcG9ydCB7IENMQVNTX0lOVEVHUkFUSU9OX0lDT04sIE9QRU5fV0lUSF9CVVRUT05fSUNPTl9TSVpFIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCBnZXRJY29uIGZyb20gJy4vSWNvbkZpbGVNYXAnO1xuXG4vKipcbiAqIEdldHMgdGhlIHRvb2x0aXAgdGV4dCBmb3IgdGhlIENvbnRlbnRPcGVuV2l0aCBidXR0b25cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7PyhzdHJpbmcgfCBFbGVtZW50KX0gdGhlIHRvb2x0aXAgbWVzc2FnZVxuICovXG5leHBvcnQgdmFyIGdldFRvb2x0aXAgPSBmdW5jdGlvbiBnZXRUb29sdGlwKGRpc3BsYXlEZXNjcmlwdGlvbiwgaXNMb2FkaW5nLCBlcnJvcikge1xuICB2YXIgZGlzYWJsZWRSZWFzb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBbXTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbWVzc2FnZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWF0dGVkTWVzc2FnZSwgbWVzc2FnZXMuZW1wdHlPcGVuV2l0aERlc2NyaXB0aW9uKTtcblxuICBpZiAoZGlzYWJsZWRSZWFzb25zLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgX2Rpc2FibGVkUmVhc29ucyA9IF9zbGljZWRUb0FycmF5KGRpc2FibGVkUmVhc29ucywgMSk7XG5cbiAgICBtZXNzYWdlID0gX2Rpc2FibGVkUmVhc29uc1swXTtcbiAgfSBlbHNlIGlmIChlcnJvcikge1xuICAgIG1lc3NhZ2UgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIG1lc3NhZ2VzLmVycm9yT3BlbldpdGhEZXNjcmlwdGlvbik7XG4gIH0gZWxzZSBpZiAoZGlzcGxheURlc2NyaXB0aW9uKSB7XG4gICAgbWVzc2FnZSA9IGRpc3BsYXlEZXNjcmlwdGlvbjtcbiAgfVxuXG4gIHJldHVybiBtZXNzYWdlO1xufTtcblxudmFyIE9wZW5XaXRoQnV0dG9uID0gZnVuY3Rpb24gT3BlbldpdGhCdXR0b24oX3JlZikge1xuICB2YXIgZXJyb3IgPSBfcmVmLmVycm9yLFxuICAgICAgX3JlZiRvbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgX29uQ2xpY2sgPSBfcmVmJG9uQ2xpY2sgPT09IHZvaWQgMCA/IG5vb3AgOiBfcmVmJG9uQ2xpY2ssXG4gICAgICBkaXNwbGF5SW50ZWdyYXRpb24gPSBfcmVmLmRpc3BsYXlJbnRlZ3JhdGlvbixcbiAgICAgIGlzTG9hZGluZyA9IF9yZWYuaXNMb2FkaW5nO1xuXG4gIHZhciBfcmVmMiA9IGRpc3BsYXlJbnRlZ3JhdGlvbiB8fCB7fSxcbiAgICAgIGRpc3BsYXlOYW1lID0gX3JlZjIuZGlzcGxheU5hbWUsXG4gICAgICBpc0Rpc3BsYXlJbnRlZ3JhdGlvbkRpc2FibGVkID0gX3JlZjIuaXNEaXNhYmxlZCxcbiAgICAgIGV4dGVuc2lvbiA9IF9yZWYyLmV4dGVuc2lvbixcbiAgICAgIGRpc2FibGVkUmVhc29ucyA9IF9yZWYyLmRpc2FibGVkUmVhc29ucyxcbiAgICAgIGRpc3BsYXlEZXNjcmlwdGlvbiA9IF9yZWYyLmRpc3BsYXlEZXNjcmlwdGlvbjtcblxuICB2YXIgaXNEaXNhYmxlZCA9ICEhaXNEaXNwbGF5SW50ZWdyYXRpb25EaXNhYmxlZCB8fCAhZGlzcGxheU5hbWU7XG4gIHZhciBJY29uID0gZGlzcGxheU5hbWUgPyBnZXRJY29uKGRpc3BsYXlOYW1lKSA6IEljb25PcGVuV2l0aDtcbiAgdmFyIHRvb2x0aXBEaXNwbGF5UHJvcHMgPSB1dGlscy5pc0Rpc2FibGVkQmVjYXVzZUJveFRvb2xzSXNOb3RJbnN0YWxsZWQoZGlzcGxheUludGVncmF0aW9uKSA/IHtcbiAgICBpc1Nob3duOiB0cnVlLFxuICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZVxuICB9IDoge307XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IFwiYmNvdy10b29sdGlwXCIsXG4gICAgcG9zaXRpb246IFwiYm90dG9tLWNlbnRlclwiLFxuICAgIHRleHQ6IGdldFRvb2x0aXAoZGlzcGxheURlc2NyaXB0aW9uLCBpc0xvYWRpbmcsIGVycm9yLCBkaXNhYmxlZFJlYXNvbnMpXG4gIH0sIHRvb2x0aXBEaXNwbGF5UHJvcHMpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBkaXNwbGF5SW50ZWdyYXRpb24gPyBfb25DbGljayhkaXNwbGF5SW50ZWdyYXRpb24pIDogbm9vcDtcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3BlbldpdGhCdXR0b25Db250ZW50cywgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgY2xhc3NOYW1lOiBDTEFTU19JTlRFR1JBVElPTl9JQ09OLFxuICAgIGRpbWVuc2lvbjogT1BFTl9XSVRIX0JVVFRPTl9JQ09OX1NJWkUsXG4gICAgZXh0ZW5zaW9uOiBleHRlbnNpb24sXG4gICAgaGVpZ2h0OiBPUEVOX1dJVEhfQlVUVE9OX0lDT05fU0laRSxcbiAgICB3aWR0aDogT1BFTl9XSVRIX0JVVFRPTl9JQ09OX1NJWkVcbiAgfSkpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBPcGVuV2l0aEJ1dHRvbjsiLCIvKipcbiAqIFxuICogQGZpbGUgT3BlbiBXaXRoIGZhbGxiYWNrIGJ1dHRvblxuICogQGF1dGhvciBCb3hcbiAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE9wZW5XaXRoQnV0dG9uIGZyb20gJy4vT3BlbldpdGhCdXR0b24nO1xuXG52YXIgT3BlbldpdGhGYWxsYmFja0J1dHRvbiA9IGZ1bmN0aW9uIE9wZW5XaXRoRmFsbGJhY2tCdXR0b24oX3JlZikge1xuICB2YXIgZXJyb3IgPSBfcmVmLmVycm9yO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJlIGJjb3dcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KE9wZW5XaXRoQnV0dG9uLCB7XG4gICAgZXJyb3I6IGVycm9yLFxuICAgIGlzTG9hZGluZzogZmFsc2VcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgT3BlbldpdGhGYWxsYmFja0J1dHRvbjsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIEZvcm0gdG8gaW52b2tlIGFuIGludGVncmF0aW9uIHZpYSBQT1NUXG4gKiBAYXV0aG9yIEJveFxuICovXG5pbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEhUVFBfUE9TVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5cbnZhciBFeGVjdXRlRm9ybSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEV4ZWN1dGVGb3JtLCBfUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRXhlY3V0ZUZvcm0ocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhlY3V0ZUZvcm0pO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRXhlY3V0ZUZvcm0pLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICBfdGhpcy5yZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRXhlY3V0ZUZvcm0sIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIG9uU3VibWl0ID0gdGhpcy5wcm9wcy5vblN1Ym1pdDtcbiAgICAgIHRoaXMucmVmLmN1cnJlbnQuc3VibWl0KCk7XG4gICAgICBvblN1Ym1pdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBfdGhpcyRwcm9wcyRleGVjdXRlUG8gPSBfdGhpcyRwcm9wcy5leGVjdXRlUG9zdERhdGEsXG4gICAgICAgICAgdXJsID0gX3RoaXMkcHJvcHMkZXhlY3V0ZVBvLnVybCxcbiAgICAgICAgICBwYXJhbXMgPSBfdGhpcyRwcm9wcyRleGVjdXRlUG8ucGFyYW1zLFxuICAgICAgICAgIGlkID0gX3RoaXMkcHJvcHMuaWQsXG4gICAgICAgICAgd2luZG93TmFtZSA9IF90aGlzJHByb3BzLndpbmRvd05hbWU7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge1xuICAgICAgICByZWY6IHRoaXMucmVmLFxuICAgICAgICBhY3Rpb246IHVybCxcbiAgICAgICAgaWQ6IFwiYmNvdy1leGVjdXRlLWZvcm0tXCIuY29uY2F0KGlkKSxcbiAgICAgICAgbWV0aG9kOiBIVFRQX1BPU1QsXG4gICAgICAgIHJlbDogXCJub3JlZmVycmVyIG5vb3BlbmVyXCIsXG4gICAgICAgIHRhcmdldDogd2luZG93TmFtZSB8fCAnX2JsYW5rJ1xuICAgICAgfSwgcGFyYW1zICYmIHBhcmFtcy5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIGtleSA9IF9yZWYua2V5LFxuICAgICAgICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgdHlwZTogXCJoaWRkZW5cIixcbiAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEV4ZWN1dGVGb3JtO1xufShQdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgRXhlY3V0ZUZvcm07IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBcbiAqIEBmaWxlIE9wZW4gV2l0aCBDb21wb25lbnRcbiAqIEBhdXRob3IgQm94XG4gKi9cbmltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgdW5pcXVlaWQgZnJvbSAnbG9kYXNoL3VuaXF1ZUlkJztcbmltcG9ydCBub29wIGZyb20gJ2xvZGFzaC9ub29wJztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBxdWVyeVN0cmluZyBmcm9tICdxdWVyeS1zdHJpbmcnO1xuaW1wb3J0IEludGVybmF0aW9uYWxpemUgZnJvbSAnLi4vY29tbW9uL0ludGVybmF0aW9uYWxpemUnO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uL2NvbW1vbi9tZXNzYWdlcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL2NvbW1vbi9lcnJvci1ib3VuZGFyeSc7XG5pbXBvcnQgQVBJIGZyb20gJy4uLy4uL2FwaSc7XG5pbXBvcnQgSW50ZWdyYXRpb25Qb3J0YWxDb250YWluZXIgZnJvbSAnLi9JbnRlZ3JhdGlvblBvcnRhbENvbnRhaW5lcic7XG5pbXBvcnQgT3BlbldpdGhEcm9wZG93bk1lbnUgZnJvbSAnLi9PcGVuV2l0aERyb3Bkb3duTWVudSc7XG5pbXBvcnQgQm94VG9vbHNJbnN0YWxsTWVzc2FnZSBmcm9tICcuL0JveFRvb2xzSW5zdGFsbE1lc3NhZ2UnO1xuaW1wb3J0IE9wZW5XaXRoQnV0dG9uIGZyb20gJy4vT3BlbldpdGhCdXR0b24nO1xuaW1wb3J0IE9wZW5XaXRoRmFsbGJhY2tCdXR0b24gZnJvbSAnLi9PcGVuV2l0aEZhbGxiYWNrQnV0dG9uJztcbmltcG9ydCBFeGVjdXRlRm9ybSBmcm9tICcuL0V4ZWN1dGVGb3JtJztcbmltcG9ydCAnLi4vY29tbW9uL2Jhc2Uuc2Nzcyc7XG5pbXBvcnQgJy4vQ29udGVudE9wZW5XaXRoLnNjc3MnO1xuaW1wb3J0IHsgQk9YX0VESVRfSU5URUdSQVRJT05fSUQsIEJPWF9FRElUX1NGQ19JTlRFR1JBVElPTl9JRCwgQ0xJRU5UX05BTUVfT1BFTl9XSVRILCBERUZBVUxUX0hPU1ROQU1FX0FQSSwgRVJST1JfQ09ERV9FWEVDVVRFX0lOVEVHUkFUSU9OLCBIVFRQX0dFVCwgSFRUUF9QT1NULCBPUklHSU5fT1BFTl9XSVRILCBUWVBFX0ZJTEUsIFRZUEVfRk9MREVSIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbnZhciBVTlNVUFBPUlRFRF9JTlZPQ0FUSU9OX01FVEhPRF9UWVBFID0gJ0ludGVncmF0aW9uIGludm9jYXRpb24gdXNpbmcgdGhpcyBIVFRQIG1ldGhvZCB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQnO1xudmFyIEJMQUNLTElTVEVEX0VSUk9SX01FU1NBR0VfS0VZID0gJ2JveFRvb2xzQmxhY2tsaXN0ZWRFcnJvcic7XG52YXIgQk9YX1RPT0xTX0lOU1RBTExfRVJST1JfTUVTU0FHRV9LRVkgPSAnYm94VG9vbHNJbnN0YWxsRXJyb3JNZXNzYWdlJztcbnZhciBHRU5FUklDX0VYRUNVVEVfTUVTU0FHRV9LRVkgPSAnZXhlY3V0ZUludGVncmF0aW9uT3BlbldpdGhFcnJvckhlYWRlcic7XG52YXIgQVVUSF9DT0RFID0gJ2F1dGhfY29kZSc7XG5cbnZhciBDb250ZW50T3BlbldpdGggPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb250ZW50T3BlbldpdGgsIF9QdXJlQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogW2NvbnN0cnVjdG9yXVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtDb250ZW50T3BlbldpdGh9XG4gICAqL1xuICBmdW5jdGlvbiBDb250ZW50T3BlbldpdGgocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGVudE9wZW5XaXRoKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENvbnRlbnRPcGVuV2l0aCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImluaXRpYWxTdGF0ZVwiLCB7XG4gICAgICBpc0Ryb3Bkb3duT3BlbjogZmFsc2UsXG4gICAgICBpbnRlZ3JhdGlvbnM6IG51bGwsXG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICBmZXRjaEVycm9yOiBudWxsLFxuICAgICAgZXhlY3V0ZVBvc3REYXRhOiBudWxsLFxuICAgICAgc2hvdWxkUmVuZGVyRXJyb3JJbnRlZ3JhdGlvblBvcnRhbDogZmFsc2UsXG4gICAgICBzaG91bGRSZW5kZXJMb2FkaW5nSW50ZWdyYXRpb25Qb3J0YWw6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiZmV0Y2hPcGVuV2l0aFN1Y2Nlc3NIYW5kbGVyXCIsXG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGludGVncmF0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMsIGJveFRvb2xzTmFtZSwgYm94VG9vbHNJbnN0YWxsVXJsLCBib3hFZGl0SW50ZWdyYXRpb24sIF9yZWYzLCBleHRlbnNpb24sIGVycm9yTWVzc2FnZU9iamVjdCwgZm9ybWF0dGVkRXJyb3JNZXNzYWdlO1xuXG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLCBib3hUb29sc05hbWUgPSBfdGhpcyRwcm9wcy5ib3hUb29sc05hbWUsIGJveFRvb2xzSW5zdGFsbFVybCA9IF90aGlzJHByb3BzLmJveFRvb2xzSW5zdGFsbFVybDtcbiAgICAgICAgICAgICAgICBib3hFZGl0SW50ZWdyYXRpb24gPSBpbnRlZ3JhdGlvbnMuZmluZChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhcHBJbnRlZ3JhdGlvbklkID0gX3JlZjIuYXBwSW50ZWdyYXRpb25JZDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pc0JveEVkaXRJbnRlZ3JhdGlvbihhcHBJbnRlZ3JhdGlvbklkKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghKGJveEVkaXRJbnRlZ3JhdGlvbiAmJiAhYm94RWRpdEludGVncmF0aW9uLmlzRGlzYWJsZWQpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMztcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0SW50ZWdyYXRpb25GaWxlRXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIF9yZWYzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBfcmVmMy5leHRlbnNpb247XG4gICAgICAgICAgICAgICAgYm94RWRpdEludGVncmF0aW9uLmV4dGVuc2lvbiA9IGV4dGVuc2lvbjsgLy8gSWYgQm94IEVkaXQgaXMgcHJlc2VudCBhbmQgZW5hYmxlZCwgd2UgbmVlZCB0byBzZXQgaXRzIGFiaWxpdHkgdG8gbG9jYWxseSBvcGVuIHRoZSBnaXZlbiBmaWxlXG4gICAgICAgICAgICAgICAgLy8gTm8tb3AgaWYgdGhlc2UgY2hlY2tzIGFyZSBzdWNjZXNzZnVsXG5cbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmlzQm94RWRpdEF2YWlsYWJsZSgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jYW5PcGVuRXh0ZW5zaW9uV2l0aEJveEVkaXQoYm94RWRpdEludGVncmF0aW9uKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMyk7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlT2JqZWN0ID0gbWVzc2FnZXNbX2NvbnRleHQudDAubWVzc2FnZV0gfHwgbWVzc2FnZXNbR0VORVJJQ19FWEVDVVRFX01FU1NBR0VfS0VZXTtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRFcnJvck1lc3NhZ2UgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1hdHRlZE1lc3NhZ2UsIGVycm9yTWVzc2FnZU9iamVjdCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQudDAubWVzc2FnZSA9PT0gQk9YX1RPT0xTX0lOU1RBTExfRVJST1JfTUVTU0FHRV9LRVkpIHtcbiAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEVycm9yTWVzc2FnZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94VG9vbHNJbnN0YWxsTWVzc2FnZSwge1xuICAgICAgICAgICAgICAgICAgICBib3hUb29sc0luc3RhbGxVcmw6IGJveFRvb2xzSW5zdGFsbFVybCxcbiAgICAgICAgICAgICAgICAgICAgYm94VG9vbHNOYW1lOiBib3hUb29sc05hbWVcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJveEVkaXRJbnRlZ3JhdGlvbi5kaXNhYmxlZFJlYXNvbnMucHVzaChmb3JtYXR0ZWRFcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJveEVkaXRJbnRlZ3JhdGlvbi5pc0Rpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgIGludGVncmF0aW9uczogaW50ZWdyYXRpb25zLFxuICAgICAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1szLCAxNV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkge1xuICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImdldEludGVncmF0aW9uRmlsZUV4dGVuc2lvblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZmlsZUlkID0gX3RoaXMucHJvcHMuZmlsZUlkO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgX3RoaXMuYXBpLmdldEZpbGVBUEkoKS5nZXRGaWxlRXh0ZW5zaW9uKGZpbGVJZCwgcmVzb2x2ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKEdFTkVSSUNfRVhFQ1VURV9NRVNTQUdFX0tFWSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImlzQm94RWRpdEF2YWlsYWJsZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuYXBpLmdldEJveEVkaXRBUEkoKS5jaGVja0JveEVkaXRBdmFpbGFiaWxpdHkoKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihCT1hfVE9PTFNfSU5TVEFMTF9FUlJPUl9NRVNTQUdFX0tFWSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJjYW5PcGVuRXh0ZW5zaW9uV2l0aEJveEVkaXRcIiwgZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICB2YXIgX3JlZjQkZXh0ZW5zaW9uID0gX3JlZjQuZXh0ZW5zaW9uLFxuICAgICAgICAgIGV4dGVuc2lvbiA9IF9yZWY0JGV4dGVuc2lvbiA9PT0gdm9pZCAwID8gJycgOiBfcmVmNCRleHRlbnNpb247XG4gICAgICByZXR1cm4gX3RoaXMuYXBpLmdldEJveEVkaXRBUEkoKS5nZXRBcHBGb3JFeHRlbnNpb24oZXh0ZW5zaW9uKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihCTEFDS0xJU1RFRF9FUlJPUl9NRVNTQUdFX0tFWSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJmZXRjaEVycm9ySGFuZGxlclwiLCBmdW5jdGlvbiAoZXJyb3IsIGNvZGUpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uRXJyb3IoZXJyb3IsIGNvZGUsIHtcbiAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmZXRjaEVycm9yOiBlcnJvcixcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwib25JbnRlZ3JhdGlvbkNsaWNrXCIsIGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgdmFyIGFwcEludGVncmF0aW9uSWQgPSBfcmVmNS5hcHBJbnRlZ3JhdGlvbklkLFxuICAgICAgICAgIGRpc3BsYXlOYW1lID0gX3JlZjUuZGlzcGxheU5hbWU7XG4gICAgICB2YXIgZmlsZUlkID0gX3RoaXMucHJvcHMuZmlsZUlkO1xuXG4gICAgICB2YXIgaXNCb3hFZGl0SW50ZWdyYXRpb24gPSBfdGhpcy5pc0JveEVkaXRJbnRlZ3JhdGlvbihhcHBJbnRlZ3JhdGlvbklkKTtcblxuICAgICAgX3RoaXMuYXBpLmdldEFwcEludGVncmF0aW9uc0FQSShmYWxzZSkuZXhlY3V0ZShhcHBJbnRlZ3JhdGlvbklkLCBmaWxlSWQsIF90aGlzLmV4ZWN1dGVJbnRlZ3JhdGlvblN1Y2Nlc3NIYW5kbGVyLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIGFwcEludGVncmF0aW9uSWQpLCBpc0JveEVkaXRJbnRlZ3JhdGlvbiA/IF90aGlzLmV4ZWN1dGVCb3hFZGl0RXJyb3JIYW5kbGVyIDogX3RoaXMuZXhlY3V0ZUludGVncmF0aW9uRXJyb3JIYW5kbGVyKTtcblxuICAgICAgaWYgKGlzQm94RWRpdEludGVncmF0aW9uKSB7XG4gICAgICAgIC8vIE5vIHdpbmRvdyBtYW5hZ2VtZW50IGlzIHJlcXVpcmVkIHdoZW4gdXNpbmcgQm94IEVkaXQuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gVGhlc2Ugd2luZG93IGZlYXR1cmVzIHdpbGwgb3BlbiB0aGUgbmV3IHdpbmRvdyBkaXJlY3RseSBvbiB0b3Agb2YgdGhlIGN1cnJlbnQgd2luZG93IGF0IHRoZSBzYW1lXG5cblxuICAgICAgdmFyIHdpbmRvd0ZlYXR1cmVzID0gXCJsZWZ0PVwiLmNvbmNhdCh3aW5kb3cuc2NyZWVuWCwgXCIsdG9wPVwiKS5jb25jYXQod2luZG93LnNjcmVlblksIFwiLGhlaWdodD1cIikuY29uY2F0KHdpbmRvdy5vdXRlckhlaWdodCwgXCIsd2lkdGg9XCIpLmNvbmNhdCh3aW5kb3cuaW5uZXJXaWR0aCwgXCIsdG9vbGJhcj0wXCIpOyAvLyB3aW5kb3cub3BlbigpIGlzIGltbWVkaWF0ZWx5IGludm9rZWQgdG8gYXZvaWQgcG9wdXAtYmxvY2tlcnNcbiAgICAgIC8vIFRoZSBuYW1lIGlzIGluY2x1ZGVkIHRvIGJlIHRoZSB0YXJnZXQgb2YgYSBmb3JtIGlmIHRoZSBpbnRlZ3JhdGlvbiBpcyBhIFBPU1QgaW50ZWdyYXRpb24uXG4gICAgICAvLyBBIHVuaXF1ZWlkIGlzIHVzZWQgdG8gZm9yY2UgdGhlIGJyb3dzZXIgdG8gb3BlbiBhIG5ldyB0YWIgZXZlcnkgdGltZSwgd2hpbGUgc3RpbGwgYWxsb3dpbmdcbiAgICAgIC8vIGEgZm9ybSB0byByZWZlcmVuY2UgYSBnaXZlbiB0YWIuXG5cbiAgICAgIF90aGlzLmludGVncmF0aW9uV2luZG93ID0gX3RoaXMud2luZG93Lm9wZW4oJycsIFwiXCIuY29uY2F0KHVuaXF1ZWlkKGFwcEludGVncmF0aW9uSWQpKSwgd2luZG93RmVhdHVyZXMpO1xuICAgICAgX3RoaXMuaW50ZWdyYXRpb25XaW5kb3cuZG9jdW1lbnQudGl0bGUgPSBkaXNwbGF5TmFtZTtcbiAgICAgIF90aGlzLmludGVncmF0aW9uV2luZG93Lm9udW5sb2FkID0gX3RoaXMuY2xlYW51cEludGVncmF0aW9uV2luZG93O1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3VsZFJlbmRlckxvYWRpbmdJbnRlZ3JhdGlvblBvcnRhbDogdHJ1ZSxcbiAgICAgICAgc2hvdWxkUmVuZGVyRXJyb3JJbnRlZ3JhdGlvblBvcnRhbDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImNsZWFudXBJbnRlZ3JhdGlvbldpbmRvd1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3VsZFJlbmRlckxvYWRpbmdJbnRlZ3JhdGlvblBvcnRhbDogZmFsc2UsXG4gICAgICAgIHNob3VsZFJlbmRlckVycm9ySW50ZWdyYXRpb25Qb3J0YWw6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJleGVjdXRlSW50ZWdyYXRpb25TdWNjZXNzSGFuZGxlclwiLCBmdW5jdGlvbiAoaW50ZWdyYXRpb25JZCwgZXhlY3V0ZURhdGEpIHtcbiAgICAgIGlmIChfdGhpcy5pc0JveEVkaXRJbnRlZ3JhdGlvbihpbnRlZ3JhdGlvbklkKSkge1xuICAgICAgICBfdGhpcy5leGVjdXRlQm94RWRpdFN1Y2Nlc3NIYW5kbGVyKGludGVncmF0aW9uSWQsIGV4ZWN1dGVEYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLmV4ZWN1dGVPbmxpbmVJbnRlZ3JhdGlvblN1Y2Nlc3NIYW5kbGVyKGV4ZWN1dGVEYXRhKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMub25FeGVjdXRlKGludGVncmF0aW9uSWQpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImV4ZWN1dGVPbmxpbmVJbnRlZ3JhdGlvblN1Y2Nlc3NIYW5kbGVyXCIsIGZ1bmN0aW9uIChleGVjdXRlRGF0YSkge1xuICAgICAgdmFyIG1ldGhvZCA9IGV4ZWN1dGVEYXRhLm1ldGhvZCxcbiAgICAgICAgICB1cmwgPSBleGVjdXRlRGF0YS51cmw7XG5cbiAgICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgIGNhc2UgSFRUUF9QT1NUOlxuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGV4ZWN1dGVQb3N0RGF0YTogZXhlY3V0ZURhdGFcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgSFRUUF9HRVQ6XG4gICAgICAgICAgaWYgKCFfdGhpcy5pbnRlZ3JhdGlvbldpbmRvdykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gLy8gUHJldmVudHMgYWJ1c2Ugb2Ygd2luZG93Lm9wZW5lclxuICAgICAgICAgIC8vIHNlZSBoZXJlIGZvciBtb3JlIGRldGFpbHM6IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5naXRodWIuaW8vcmVsLW5vb3BlbmVyL1xuXG5cbiAgICAgICAgICBfdGhpcy5pbnRlZ3JhdGlvbldpbmRvdy5sb2NhdGlvbiA9IHVybDtcbiAgICAgICAgICBfdGhpcy5pbnRlZ3JhdGlvbldpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgX3RoaXMuZXhlY3V0ZUludGVncmF0aW9uRXJyb3JIYW5kbGVyKEVycm9yKFVOU1VQUE9SVEVEX0lOVk9DQVRJT05fTUVUSE9EX1RZUEUpLCBFUlJPUl9DT0RFX0VYRUNVVEVfSU5URUdSQVRJT04pO1xuXG4gICAgICB9XG5cbiAgICAgIF90aGlzLmludGVncmF0aW9uV2luZG93ID0gbnVsbDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJleGVjdXRlQm94RWRpdFN1Y2Nlc3NIYW5kbGVyXCIsIGZ1bmN0aW9uIChpbnRlZ3JhdGlvbklkLCBfcmVmNikge1xuICAgICAgdmFyIHVybCA9IF9yZWY2LnVybDtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBmaWxlSWQgPSBfdGhpcyRwcm9wczIuZmlsZUlkLFxuICAgICAgICAgIHRva2VuID0gX3RoaXMkcHJvcHMyLnRva2VuLFxuICAgICAgICAgIG9uRXJyb3IgPSBfdGhpcyRwcm9wczIub25FcnJvcjtcbiAgICAgIHZhciBxdWVyeVBhcmFtcyA9IHF1ZXJ5U3RyaW5nLnBhcnNlKHVybCk7XG4gICAgICB2YXIgYXV0aENvZGUgPSBxdWVyeVBhcmFtc1tBVVRIX0NPREVdO1xuXG4gICAgICB2YXIgaXNGaWxlU2NvcGVkID0gX3RoaXMuaXNCb3hFZGl0U0ZDSW50ZWdyYXRpb24oaW50ZWdyYXRpb25JZCk7XG5cbiAgICAgIF90aGlzLmFwaS5nZXRCb3hFZGl0QVBJKCkub3BlbkZpbGUoZmlsZUlkLCB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhdXRoX2NvZGU6IGF1dGhDb2RlLFxuICAgICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICAgICB0b2tlbl9zY29wZTogaXNGaWxlU2NvcGVkID8gVFlQRV9GSUxFIDogVFlQRV9GT0xERVJcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyb3IsIEVSUk9SX0NPREVfRVhFQ1VURV9JTlRFR1JBVElPTiwge1xuICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIm9uRXhlY3V0ZUZvcm1TdWJtaXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBleGVjdXRlUG9zdERhdGE6IG51bGxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcImV4ZWN1dGVJbnRlZ3JhdGlvbkVycm9ySGFuZGxlclwiLCBmdW5jdGlvbiAoZXJyb3IsIGNvZGUpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uRXJyb3IoZXJyb3IsIGNvZGUsIHtcbiAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblxuXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG91bGRSZW5kZXJMb2FkaW5nSW50ZWdyYXRpb25Qb3J0YWw6IGZhbHNlLFxuICAgICAgICBzaG91bGRSZW5kZXJFcnJvckludGVncmF0aW9uUG9ydGFsOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJleGVjdXRlQm94RWRpdEVycm9ySGFuZGxlclwiLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uRXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG5cbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgdmFyIF90b2tlbiA9IHByb3BzLnRva2VuLFxuICAgICAgICBhcGlIb3N0ID0gcHJvcHMuYXBpSG9zdCxcbiAgICAgICAgY2xpZW50TmFtZSA9IHByb3BzLmNsaWVudE5hbWUsXG4gICAgICAgIHJlcXVlc3RJbnRlcmNlcHRvciA9IHByb3BzLnJlcXVlc3RJbnRlcmNlcHRvcixcbiAgICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvciA9IHByb3BzLnJlc3BvbnNlSW50ZXJjZXB0b3I7XG4gICAgX3RoaXMuaWQgPSB1bmlxdWVpZCgnYmNvd18nKTtcbiAgICBfdGhpcy5hcGkgPSBuZXcgQVBJKHtcbiAgICAgIHRva2VuOiBfdG9rZW4sXG4gICAgICBhcGlIb3N0OiBhcGlIb3N0LFxuICAgICAgY2xpZW50TmFtZTogY2xpZW50TmFtZSxcbiAgICAgIHJlcXVlc3RJbnRlcmNlcHRvcjogcmVxdWVzdEludGVyY2VwdG9yLFxuICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvcjogcmVzcG9uc2VJbnRlcmNlcHRvclxuICAgIH0pOyAvLyBDbG9uZSBpbml0aWFsIHN0YXRlIHRvIGFsbG93IGZvciBzdGF0ZSByZXNldCBvbiBuZXcgZmlsZXNcblxuICAgIF90aGlzLnN0YXRlID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMuaW5pdGlhbFN0YXRlKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIGFwaSBpbnN0YW5jZXMgd2l0aCBjYWNoZXNcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ29udGVudE9wZW5XaXRoLCBbe1xuICAgIGtleTogXCJjbGVhckNhY2hlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG4gICAgICB0aGlzLmFwaS5kZXN0cm95KHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnVwXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbmhlcml0ZG9jXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgLy8gRG9uJ3QgZGVzdHJveSB0aGUgY2FjaGUgd2hpbGUgdW5tb3VudGluZ1xuICAgICAgdGhpcy5hcGkuZGVzdHJveShmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5oZXJpdGRvY1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBmaWxlSWQgPSB0aGlzLnByb3BzLmZpbGVJZDtcblxuICAgICAgaWYgKCFmaWxlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgICAgIHRoaXMuZmV0Y2hPcGVuV2l0aERhdGEoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgY29tcG9uZW50IHVwZGF0ZXMsIHJlLWZldGNoIE9wZW4gV2l0aCBkYXRhIGlmIGFwcHJvcHJpYXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICB2YXIgY3VycmVudEZpbGVJZCA9IHRoaXMucHJvcHMuZmlsZUlkO1xuICAgICAgdmFyIHByZXZpb3VzRmlsZUlkID0gcHJldlByb3BzLmZpbGVJZDtcblxuICAgICAgaWYgKCFjdXJyZW50RmlsZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRGaWxlSWQgIT09IHByZXZpb3VzRmlsZUlkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5pbml0aWFsU3RhdGUpKTtcbiAgICAgICAgdGhpcy5mZXRjaE9wZW5XaXRoRGF0YSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiBpbnRlZ3JhdGlvbiBpcyBhIEJveCBFZGl0IGludGVncmF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtpbnRlZ3JhdGlvbklkXSAtIFRoZSBpbnRlZ3JhdGlvbiBJRFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0JveEVkaXRJbnRlZ3JhdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0JveEVkaXRJbnRlZ3JhdGlvbihpbnRlZ3JhdGlvbklkKSB7XG4gICAgICByZXR1cm4gaW50ZWdyYXRpb25JZCA9PT0gQk9YX0VESVRfSU5URUdSQVRJT05fSUQgfHwgdGhpcy5pc0JveEVkaXRTRkNJbnRlZ3JhdGlvbihpbnRlZ3JhdGlvbklkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gaW50ZWdyYXRpb24gaXMgYSBCb3ggRWRpdCBpbnRlZ3JhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbaW50ZWdyYXRpb25JZF0gLSBUaGUgaW50ZWdyYXRpb24gSURcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNCb3hFZGl0U0ZDSW50ZWdyYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNCb3hFZGl0U0ZDSW50ZWdyYXRpb24oaW50ZWdyYXRpb25JZCkge1xuICAgICAgcmV0dXJuIGludGVncmF0aW9uSWQgPT09IEJPWF9FRElUX1NGQ19JTlRFR1JBVElPTl9JRDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBPcGVuIFdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmZXRjaE9wZW5XaXRoRGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaE9wZW5XaXRoRGF0YSgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZpbGVJZCA9IF90aGlzJHByb3BzMy5maWxlSWQsXG4gICAgICAgICAgbGFuZ3VhZ2UgPSBfdGhpcyRwcm9wczMubGFuZ3VhZ2U7XG4gICAgICB0aGlzLmFwaS5nZXRPcGVuV2l0aEFQSShmYWxzZSkuZ2V0T3BlbldpdGhJbnRlZ3JhdGlvbnMoZmlsZUlkLCB0aGlzLmZldGNoT3BlbldpdGhTdWNjZXNzSGFuZGxlciwgdGhpcy5mZXRjaEVycm9ySGFuZGxlciwgbGFuZ3VhZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaCBhcHAgaW50ZWdyYXRpb25zIGluZm8gbmVlZGVkIHRvIHJlbmRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T3BlbldpdGhJbnRlZ3JhdGlvbnN9IGludGVncmF0aW9ucyAtIFRoZSBhdmFpbGFibGUgT3BlbiBXaXRoIGludGVncmF0aW9uc1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIsXG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgT3BlbiBXaXRoIGJ1dHRvbiBnZXRzIG5ldyBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKSB7fVxuICAgIC8qIG5vLW9wICovXG5cbiAgICAvKipcbiAgICAgKiBDbGljayBoYW5kbGVyIHdoZW4gYW4gaW50ZWdyYXRpb24gaXMgY2xpY2tlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwSW50ZWdyYXRpb25JZCAtIEFuIGFwcCBpbnRlZ3JhdGlvbiBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwbGF5TmFtZSAtIFRoZSBpbnRlZ3JhdGlvbidzIGRpc3BsYXkgbmFtZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbkV4ZWN1dGVcIixcblxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBvbkV4ZWN1dGUgcHJvcFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZWdyYXRpb25JRCAtIFRoZSBpbnRlZ3JhdGlvbiB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRXhlY3V0ZShpbnRlZ3JhdGlvbklEKSB7XG4gICAgICB0aGlzLnByb3BzLm9uRXhlY3V0ZShpbnRlZ3JhdGlvbklEKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG91bGRSZW5kZXJMb2FkaW5nSW50ZWdyYXRpb25Qb3J0YWw6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBleGVjdXRpb24gcmVsYXRlZCBlcnJvcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgLSBFcnJvciBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RGlzcGxheUludGVncmF0aW9uXCIsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgZGlzcGxheSBpbnRlZ3JhdGlvbiwgaWYgYXZhaWxhYmxlLCBmb3IgdGhlIE9wZW4gV2l0aCBidXR0b25cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7P0ludGVncmF0aW9ufVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaXNwbGF5SW50ZWdyYXRpb24oKSB7XG4gICAgICB2YXIgaW50ZWdyYXRpb25zID0gdGhpcy5zdGF0ZS5pbnRlZ3JhdGlvbnM7IC8vIFdlIG9ubHkgY29uc2lkZXIgYW4gaW50ZWdyYXRpb24gYSBkaXNwbGF5IGludGVncmF0aW9uIGlmIGlzIHRoZSBvbmx5IGludGVncmF0aW9uIGluIG91ciBzdGF0ZVxuXG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpbnRlZ3JhdGlvbnMpICYmIGludGVncmF0aW9ucy5sZW5ndGggPT09IDEgPyBpbnRlZ3JhdGlvbnNbMF0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIE9wZW4gV2l0aCBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbmhlcml0ZG9jXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBsYW5ndWFnZSA9IF90aGlzJHByb3BzNC5sYW5ndWFnZSxcbiAgICAgICAgICBpbnRsTWVzc2FnZXMgPSBfdGhpcyRwcm9wczQubWVzc2FnZXMsXG4gICAgICAgICAgZHJvcGRvd25BbGlnbm1lbnQgPSBfdGhpcyRwcm9wczQuZHJvcGRvd25BbGlnbm1lbnQ7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGZldGNoRXJyb3IgPSBfdGhpcyRzdGF0ZS5mZXRjaEVycm9yLFxuICAgICAgICAgIGlzTG9hZGluZyA9IF90aGlzJHN0YXRlLmlzTG9hZGluZyxcbiAgICAgICAgICBpbnRlZ3JhdGlvbnMgPSBfdGhpcyRzdGF0ZS5pbnRlZ3JhdGlvbnMsXG4gICAgICAgICAgZXhlY3V0ZVBvc3REYXRhID0gX3RoaXMkc3RhdGUuZXhlY3V0ZVBvc3REYXRhLFxuICAgICAgICAgIHNob3VsZFJlbmRlckxvYWRpbmdJbnRlZ3JhdGlvblBvcnRhbCA9IF90aGlzJHN0YXRlLnNob3VsZFJlbmRlckxvYWRpbmdJbnRlZ3JhdGlvblBvcnRhbCxcbiAgICAgICAgICBzaG91bGRSZW5kZXJFcnJvckludGVncmF0aW9uUG9ydGFsID0gX3RoaXMkc3RhdGUuc2hvdWxkUmVuZGVyRXJyb3JJbnRlZ3JhdGlvblBvcnRhbDtcbiAgICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdiZSBiY293JywgdGhpcy5wcm9wcy5jbGFzc05hbWUpO1xuICAgICAgdmFyIGRpc3BsYXlJbnRlZ3JhdGlvbiA9IHRoaXMuZ2V0RGlzcGxheUludGVncmF0aW9uKCk7XG4gICAgICB2YXIgbnVtSW50ZWdyYXRpb25zID0gaW50ZWdyYXRpb25zID8gaW50ZWdyYXRpb25zLmxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJbnRlcm5hdGlvbmFsaXplLCB7XG4gICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICAgICAgbWVzc2FnZXM6IGludGxNZXNzYWdlc1xuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgfSwgbnVtSW50ZWdyYXRpb25zIDw9IDEgPyBSZWFjdC5jcmVhdGVFbGVtZW50KE9wZW5XaXRoQnV0dG9uLCB7XG4gICAgICAgIGRpc3BsYXlJbnRlZ3JhdGlvbjogZGlzcGxheUludGVncmF0aW9uLFxuICAgICAgICBlcnJvcjogZmV0Y2hFcnJvcixcbiAgICAgICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25JbnRlZ3JhdGlvbkNsaWNrXG4gICAgICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3BlbldpdGhEcm9wZG93bk1lbnUsIHtcbiAgICAgICAgZHJvcGRvd25BbGlnbm1lbnQ6IGRyb3Bkb3duQWxpZ25tZW50LFxuICAgICAgICBpbnRlZ3JhdGlvbnM6IGludGVncmF0aW9ucyxcbiAgICAgICAgb25DbGljazogdGhpcy5vbkludGVncmF0aW9uQ2xpY2tcbiAgICAgIH0pLCAoc2hvdWxkUmVuZGVyTG9hZGluZ0ludGVncmF0aW9uUG9ydGFsIHx8IHNob3VsZFJlbmRlckVycm9ySW50ZWdyYXRpb25Qb3J0YWwpICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW50ZWdyYXRpb25Qb3J0YWxDb250YWluZXIsIHtcbiAgICAgICAgaGFzRXJyb3I6IHNob3VsZFJlbmRlckVycm9ySW50ZWdyYXRpb25Qb3J0YWwsXG4gICAgICAgIGludGVncmF0aW9uV2luZG93OiB0aGlzLmludGVncmF0aW9uV2luZG93XG4gICAgICB9KSwgZXhlY3V0ZVBvc3REYXRhICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXhlY3V0ZUZvcm0sIHtcbiAgICAgICAgZXhlY3V0ZVBvc3REYXRhOiBleGVjdXRlUG9zdERhdGEsXG4gICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICBvblN1Ym1pdDogdGhpcy5vbkV4ZWN1dGVGb3JtU3VibWl0LFxuICAgICAgICB3aW5kb3dOYW1lOiB0aGlzLmludGVncmF0aW9uV2luZG93ICYmIHRoaXMuaW50ZWdyYXRpb25XaW5kb3cubmFtZVxuICAgICAgfSkpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29udGVudE9wZW5XaXRoO1xufShQdXJlQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KENvbnRlbnRPcGVuV2l0aCwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBhcGlIb3N0OiBERUZBVUxUX0hPU1ROQU1FX0FQSSxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgY2xpZW50TmFtZTogQ0xJRU5UX05BTUVfT1BFTl9XSVRILFxuICBvbkV4ZWN1dGU6IG5vb3AsXG4gIG9uRXJyb3I6IG5vb3Bcbn0pO1xuXG5leHBvcnQgeyBDb250ZW50T3BlbldpdGggYXMgQ29udGVudE9wZW5XaXRoQ29tcG9uZW50IH07XG5leHBvcnQgZGVmYXVsdCB3aXRoRXJyb3JCb3VuZGFyeShPUklHSU5fT1BFTl9XSVRILCBPcGVuV2l0aEZhbGxiYWNrQnV0dG9uKShDb250ZW50T3BlbldpdGgpOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL0NvbnRlbnRPcGVuV2l0aCc7Il0sInNvdXJjZVJvb3QiOiIifQ==